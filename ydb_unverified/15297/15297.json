{
  "repo": "ydb-platform/ydb",
  "pull_number": 15297,
  "instance_id": "ydb-platform__ydb-15297",
  "issue_numbers": [
    "15256"
  ],
  "base_commit": "57dc7ac913420e60cc59910e8106d801123f9fa4",
  "patch": "diff --git a/ydb/core/tx/schemeshard/schemeshard_path_describer.cpp b/ydb/core/tx/schemeshard/schemeshard_path_describer.cpp\nindex 9a266bd00694..c4c9d570cc2f 100644\n--- a/ydb/core/tx/schemeshard/schemeshard_path_describer.cpp\n+++ b/ydb/core/tx/schemeshard/schemeshard_path_describer.cpp\n@@ -176,7 +176,10 @@ void TPathDescriber::FillChildDescr(NKikimrSchemeOp::TDirEntry* descr, TPathElem\n         descr->SetCreateStep(ui64(pathEl->StepCreated));\n     }\n \n-    descr->SetChildrenExist(pathEl->GetAliveChildren() > 0);\n+    if (pathEl->PathType != NKikimrSchemeOp::EPathTypeSubDomain\n+        && pathEl->PathType != NKikimrSchemeOp::EPathTypeExtSubDomain) {\n+        descr->SetChildrenExist(pathEl->GetAliveChildren() > 0);\n+    }\n \n     if (pathEl->PathType == NKikimrSchemeOp::EPathTypePersQueueGroup) {\n         auto it = Self->Topics.FindPtr(pathEl->PathId);\n",
  "test_patch": "diff --git a/ydb/core/viewer/tests/canondata/result.json b/ydb/core/viewer/tests/canondata/result.json\nindex f0859e110725..58b5c31f40bf 100644\n--- a/ydb/core/viewer/tests/canondata/result.json\n+++ b/ydb/core/viewer/tests/canondata/result.json\n@@ -1512,7 +1512,6 @@\n                     },\n                     {\n                         \"ACL\": \"\",\n-                        \"ChildrenExist\": false,\n                         \"CreateFinished\": true,\n                         \"CreateStep\": \"not-zero-number-text\",\n                         \"CreateTxId\": \"not-zero-number-text\",\n@@ -1526,7 +1525,6 @@\n                     },\n                     {\n                         \"ACL\": \"\",\n-                        \"ChildrenExist\": false,\n                         \"CreateFinished\": true,\n                         \"CreateStep\": \"not-zero-number-text\",\n                         \"CreateTxId\": \"not-zero-number-text\",\n@@ -1540,7 +1538,6 @@\n                     },\n                     {\n                         \"ACL\": \"\",\n-                        \"ChildrenExist\": false,\n                         \"CreateFinished\": true,\n                         \"CreateStep\": \"not-zero-number-text\",\n                         \"CreateTxId\": \"not-zero-number-text\",\n@@ -1768,7 +1765,6 @@\n                 },\n                 \"Self\": {\n                     \"ACL\": \"\",\n-                    \"ChildrenExist\": true,\n                     \"CreateFinished\": true,\n                     \"CreateStep\": \"0\",\n                     \"CreateTxId\": \"not-zero-number-text\",\n@@ -1849,7 +1845,6 @@\n                 },\n                 \"Self\": {\n                     \"ACL\": \"\",\n-                    \"ChildrenExist\": false,\n                     \"CreateFinished\": true,\n                     \"CreateStep\": \"0\",\n                     \"CreateTxId\": \"not-zero-number-text\",\n@@ -1946,7 +1941,6 @@\n                 },\n                 \"Self\": {\n                     \"ACL\": \"\",\n-                    \"ChildrenExist\": true,\n                     \"CreateFinished\": true,\n                     \"CreateStep\": \"0\",\n                     \"CreateTxId\": \"not-zero-number-text\",\n",
  "problem_statement": "Nested databases are childless when navigating from domain\nAll databases have `ChildrenExist: true` in their own `describe`, but in the parent entity `Children` field they have `ChildrenExist: false`\n\n![Image](https://github.com/user-attachments/assets/bb913f7f-cf91-452a-af66-37dfcf51dc9e)\n",
  "hints_text": "",
  "created_at": "2025-03-04T11:39:45Z"
}