You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
Replica crash after `BGSAVE` if bootstrapped with `replicaof` flag 
Replica crashes when promt with `BGSAVE` if df is bootstrapped with `replicaof` flag.

**To Reproduce**
1. Start a dragonfly instance `./dragonfly`
2. Start another dragonfly instance with `replicaof` flag `./dragonfly --port=6380 --replicaof=127.0.0.1:6379`
3. Connect with `redis-cli -p 6380` and type `BGSAVE`. Replica crashes.

**Expected behavior**
An "ok" result
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
