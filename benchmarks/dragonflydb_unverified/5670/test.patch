diff --git a/src/server/json_family_test.cc b/src/server/json_family_test.cc
index b7252f194069..3f0705a2c483 100644
--- a/src/server/json_family_test.cc
+++ b/src/server/json_family_test.cc
@@ -3226,4 +3226,17 @@ TEST_F(JsonFamilyTest, JsonKeysWithDots) {
   EXPECT_THAT(resp, "[\"some_value\"]");
 }
 
+TEST_F(JsonFamilyTest, JsonSetDeleteExpiryOfExistingKey) {
+  auto resp = Run("SET key foo EX 1000");
+  ASSERT_THAT(resp, "OK");
+  resp = Run("JSON.SET key $ {}");
+  ASSERT_THAT(resp, "OK");
+  resp = Run("TTL key");
+  ASSERT_THAT(resp, IntArg(-1));
+  resp = Run("EXPIRE key 100");
+  ASSERT_THAT(resp, IntArg(1));
+  resp = Run("TTL key");
+  EXPECT_THAT(resp.GetInt(), 100);
+}
+
 }  // namespace dfly
