diff --git a/src/server/generic_family_test.cc b/src/server/generic_family_test.cc
index 68d54ea6f82c..e2c1ed605ed8 100644
--- a/src/server/generic_family_test.cc
+++ b/src/server/generic_family_test.cc
@@ -872,4 +872,9 @@ TEST_F(GenericFamilyTest, RestoreOOM) {
   EXPECT_THAT(resp, ErrArg("Out of memory"));
 }
 
+TEST_F(GenericFamilyTest, Bug4466) {
+  auto resp = Run({"SCAN","9223372036854775808"});  // an invalid cursor should not crash us.
+  EXPECT_THAT(resp, RespElementsAre("0", RespElementsAre()));
+}
+
 }  // namespace dfly
