diff --git a/src/server/string_family_test.cc b/src/server/string_family_test.cc
index 10c94bacd374..1f85207d3efd 100644
--- a/src/server/string_family_test.cc
+++ b/src/server/string_family_test.cc
@@ -197,6 +197,9 @@ TEST_F(StringFamilyTest, Set) {
 
   resp = Run({"set", "foo", "bar", "ex", "1"});
   ASSERT_THAT(resp, "OK");
+
+  ASSERT_THAT(Run({"sadd", "s1", "1"}), IntArg(1));
+  ASSERT_THAT(Run({"set", "s1", "2"}), "OK");
 }
 
 TEST_F(StringFamilyTest, SetHugeKey) {
@@ -777,6 +780,10 @@ TEST_F(StringFamilyTest, SetWithGetParam) {
   EXPECT_THAT(Run({"set", "key3", "not used", "xx", "get"}), ArgType(RespExpr::NIL));
   EXPECT_THAT(Run({"set", "key2", "val3", "xx", "get"}), "val2");
   EXPECT_EQ(Run({"get", "key2"}), "val3");
+
+  EXPECT_THAT(Run({"sadd", "key4", "1"}), IntArg(1));
+  EXPECT_THAT(Run({"set", "key4", "2", "get"}), ErrArg("wrong kind of value"));
+  EXPECT_THAT(Run({"set", "key4", "2", "xx", "get"}), ErrArg("wrong kind of value"));
 }
 
 TEST_F(StringFamilyTest, SetWithHashtagsNoCluster) {
