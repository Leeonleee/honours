diff --git a/test/sql/function/list/lambdas/transform.test b/test/sql/function/list/lambdas/transform.test
index 6fdf34b94e7b..aa084fe19143 100644
--- a/test/sql/function/list/lambdas/transform.test
+++ b/test/sql/function/list/lambdas/transform.test
@@ -238,4 +238,27 @@ SELECT list_transform([1, 2, 3], x -> x + #1) FROM range(10)
 [7, 8, 9]
 [8, 9, 10]
 [9, 10, 11]
-[10, 11, 12]
\ No newline at end of file
+[10, 11, 12]
+
+# test for issue 4855
+
+require vector_size 512
+
+statement ok
+create table test(a int, b int);
+
+statement ok
+insert into test values (1, 2), (1, 3), (1, 4), (2, 2), (2, 3), (2, 4), (3, 2), (3, 3), (3, 4);
+
+query III
+select list_transform(bb, x->[x,b]), bb, b
+from (select list(b) over wind as bb, first(b) over wind as b
+    from test window wind as
+        (order by a asc rows between 4 preceding and current row)
+    qualify row_number() over wind >4);
+----
+[[2, 2], [3, 2], [4, 2], [2, 2], [3, 2]]	[2, 3, 4, 2, 3]	2
+[[3, 3], [4, 3], [2, 3], [3, 3], [4, 3]]	[3, 4, 2, 3, 4]	3
+[[4, 4], [2, 4], [3, 4], [4, 4], [2, 4]]	[4, 2, 3, 4, 2]	4
+[[2, 2], [3, 2], [4, 2], [2, 2], [3, 2]]	[2, 3, 4, 2, 3]	2
+[[3, 3], [4, 3], [2, 3], [3, 3], [4, 3]]	[3, 4, 2, 3, 4]	3
\ No newline at end of file
