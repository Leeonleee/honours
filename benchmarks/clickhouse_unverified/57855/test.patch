diff --git a/tests/queries/0_stateless/02174_cte_scalar_cache_mv.reference b/tests/queries/0_stateless/02174_cte_scalar_cache_mv.reference
index 055c88160ad2..8ec3608317fc 100644
--- a/tests/queries/0_stateless/02174_cte_scalar_cache_mv.reference
+++ b/tests/queries/0_stateless/02174_cte_scalar_cache_mv.reference
@@ -18,7 +18,7 @@
 89	89	89	89	5
 94	94	94	94	5
 99	99	99	99	5
-02177_MV	3	80	26
+02177_MV	7	80	22
 10
 40
 70
@@ -60,4 +60,4 @@
 178
 188
 198
-02177_MV_3	19	0	2
+02177_MV_3	20	0	1
diff --git a/tests/queries/0_stateless/02943_create_query_interpreter_sample_block_fix.reference b/tests/queries/0_stateless/02943_create_query_interpreter_sample_block_fix.reference
new file mode 100644
index 000000000000..a0226ef9dd71
--- /dev/null
+++ b/tests/queries/0_stateless/02943_create_query_interpreter_sample_block_fix.reference
@@ -0,0 +1,9 @@
+['0a']
+--
+['0a']
+['1a']
+--
+['0a']
+--
+['0a']
+['1a']
diff --git a/tests/queries/0_stateless/02943_create_query_interpreter_sample_block_fix.sql b/tests/queries/0_stateless/02943_create_query_interpreter_sample_block_fix.sql
new file mode 100644
index 000000000000..0262393fd48c
--- /dev/null
+++ b/tests/queries/0_stateless/02943_create_query_interpreter_sample_block_fix.sql
@@ -0,0 +1,52 @@
+DROP TABLE IF EXISTS test_table;
+CREATE TABLE test_table
+(
+    number UInt64
+)
+ENGINE=MergeTree ORDER BY number;
+
+DROP VIEW IF EXISTS test_mv;
+CREATE MATERIALIZED VIEW test_mv ENGINE=MergeTree ORDER BY arr
+AS
+WITH (SELECT '\d[a-z]') AS constant_value
+SELECT extractAll(concat(toString(number), 'a'), assumeNotNull(constant_value)) AS arr
+FROM test_table;
+
+INSERT INTO test_table VALUES (0);
+SELECT * FROM test_mv ORDER BY arr;
+
+SELECT '--';
+
+INSERT INTO test_table VALUES (1);
+SELECT * FROM test_mv ORDER BY arr;
+
+SELECT '--';
+
+TRUNCATE test_table;
+
+DROP TABLE IF EXISTS regex_test_table;
+CREATE TABLE regex_test_table
+(
+    regex String
+)
+ENGINE = MergeTree ORDER BY regex;
+
+INSERT INTO regex_test_table VALUES ('\d[a-z]');
+
+DROP VIEW test_mv;
+CREATE MATERIALIZED VIEW test_mv ENGINE=MergeTree ORDER BY arr
+AS
+WITH (SELECT regex FROM regex_test_table) AS constant_value
+SELECT extractAll(concat(toString(number), 'a'), assumeNotNull(constant_value)) AS arr
+FROM test_table;
+
+INSERT INTO test_table VALUES (0);
+SELECT * FROM test_mv ORDER BY arr;
+
+SELECT '--';
+
+INSERT INTO test_table VALUES (1);
+SELECT * FROM test_mv ORDER BY arr;
+
+DROP VIEW test_mv;
+DROP TABLE test_table;
