You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
Unexpected HAVING if push down is enabled
```
CREATE TABLE n (k UInt32) ENGINE = Memory;
CREATE TABLE r (k UInt32, name String) ENGINE = Memory;

SET enable_debug_queries = 1;
SET enable_optimize_predicate_expression = 1;

ANALYZE SELECT * FROM n, r WHERE n.k = r.k AND r.name = 'A';
```

```
SELECT 
    k, 
    r.k, 
    name
FROM n
ALL INNER JOIN 
(
    SELECT *
    FROM r
    HAVING name = 'A'
) AS r ON k = r.k
WHERE (k = r.k) AND (name = 'A')
```
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
