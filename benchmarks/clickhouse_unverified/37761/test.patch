diff --git a/tests/queries/0_stateless/02316_cast_to_ip_address_default_column.reference b/tests/queries/0_stateless/02316_cast_to_ip_address_default_column.reference
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/tests/queries/0_stateless/02316_cast_to_ip_address_default_column.sql b/tests/queries/0_stateless/02316_cast_to_ip_address_default_column.sql
new file mode 100644
index 000000000000..e80718773790
--- /dev/null
+++ b/tests/queries/0_stateless/02316_cast_to_ip_address_default_column.sql
@@ -0,0 +1,24 @@
+SET cast_ipv4_ipv6_default_on_conversion_error = 1;
+
+DROP TABLE IF EXISTS ipv4_test;
+CREATE TABLE ipv4_test
+(
+    id UInt64,
+    value String
+) ENGINE=MergeTree ORDER BY id;
+
+ALTER TABLE ipv4_test MODIFY COLUMN value IPv4 DEFAULT '';
+
+DROP TABLE ipv4_test;
+
+DROP TABLE IF EXISTS ipv6_test;
+CREATE TABLE ipv6_test
+(
+    id UInt64,
+    value String
+) ENGINE=MergeTree ORDER BY id;
+
+ALTER TABLE ipv6_test MODIFY COLUMN value IPv4 DEFAULT '';
+SELECT * FROM ipv6_test;
+
+DROP TABLE ipv6_test;
