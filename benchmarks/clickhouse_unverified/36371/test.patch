diff --git a/tests/queries/0_stateless/02280_add_query_level_settings.reference b/tests/queries/0_stateless/02280_add_query_level_settings.reference
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/tests/queries/0_stateless/02280_add_query_level_settings.sql b/tests/queries/0_stateless/02280_add_query_level_settings.sql
new file mode 100644
index 000000000000..a44f8eb854ea
--- /dev/null
+++ b/tests/queries/0_stateless/02280_add_query_level_settings.sql
@@ -0,0 +1,17 @@
+DROP TABLE IF EXISTS table_for_alter;
+
+CREATE TABLE table_for_alter (
+  id UInt64,
+  Data String
+) ENGINE = MergeTree() ORDER BY id SETTINGS parts_to_throw_insert = 1, parts_to_delay_insert = 1;
+
+INSERT INTO table_for_alter VALUES (1, '1');
+INSERT INTO table_for_alter VALUES (2, '2'); -- { serverError 252 }
+
+INSERT INTO table_for_alter settings parts_to_throw_insert = 100, parts_to_delay_insert = 100 VALUES (2, '2');
+
+INSERT INTO table_for_alter VALUES (3, '3'); -- { serverError 252 }
+
+ALTER TABLE table_for_alter MODIFY SETTING parts_to_throw_insert = 100, parts_to_delay_insert = 100;
+
+INSERT INTO table_for_alter VALUES (3, '3');
