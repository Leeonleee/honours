diff --git a/tests/queries/0_stateless/03150_infer_type_variant.reference b/tests/queries/0_stateless/03150_infer_type_variant.reference
new file mode 100644
index 000000000000..a43fa1e1227b
--- /dev/null
+++ b/tests/queries/0_stateless/03150_infer_type_variant.reference
@@ -0,0 +1,31 @@
+   ┏━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
+   ┃ arr                ┃ toTypeName(arr)                                      ┃
+   ┡━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
+1. │ ['1','Hello',(32)] │ Array(Variant(String, Tuple(
+    a Nullable(Int64)))) │
+   └────────────────────┴──────────────────────────────────────────────────────┘
+   ┏━━━━━━━┳━━━━━━━━━━━━━━━━━━┓
+   ┃ x     ┃ toTypeName(x)    ┃
+   ┡━━━━━━━╇━━━━━━━━━━━━━━━━━━┩
+1. │ 42    │ Nullable(String) │
+   ├───────┼──────────────────┤
+2. │ Hello │ Nullable(String) │
+   └───────┴──────────────────┘
+   ┏━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
+   ┃ x       ┃ toTypeName(x)                                                 ┃
+   ┡━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
+1. │ [1,2,3] │ Variant(Array(Nullable(Int64)), Tuple(
+    a Nullable(Int64))) │
+   ├─────────┼───────────────────────────────────────────────────────────────┤
+2. │ (42)    │ Variant(Array(Nullable(Int64)), Tuple(
+    a Nullable(Int64))) │
+   └─────────┴───────────────────────────────────────────────────────────────┘
+   ┏━━━━┳━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
+   ┃ c1 ┃ toTypeName(c1)  ┃ c2           ┃ toTypeName(c2)                          ┃
+   ┡━━━━╇━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
+1. │  1 │ Nullable(Int64) │ Hello World! │ Variant(Array(Nullable(Int64)), String) │
+   ├────┼─────────────────┼──────────────┼─────────────────────────────────────────┤
+2. │  2 │ Nullable(Int64) │ [1,2,3]      │ Variant(Array(Nullable(Int64)), String) │
+   ├────┼─────────────────┼──────────────┼─────────────────────────────────────────┤
+3. │  3 │ Nullable(Int64) │ 2020-01-01   │ Variant(Array(Nullable(Int64)), String) │
+   └────┴─────────────────┴──────────────┴─────────────────────────────────────────┘
diff --git a/tests/queries/0_stateless/03150_infer_type_variant.sql b/tests/queries/0_stateless/03150_infer_type_variant.sql
new file mode 100644
index 000000000000..45126ccd471a
--- /dev/null
+++ b/tests/queries/0_stateless/03150_infer_type_variant.sql
@@ -0,0 +1,5 @@
+SET input_format_try_infer_variants=1;
+SELECT arr, toTypeName(arr) FROM format('JSONEachRow', '{"arr" : [1, "Hello", {"a" : 32}]}') FORMAT Pretty;
+SELECT x, toTypeName(x) FROM format('JSONEachRow', '{"x" : 42}, {"x" : "Hello"}') FORMAT Pretty;
+SELECT x, toTypeName(x) FROM format('JSONEachRow', '{"x" : [1, 2, 3]}, {"x" : {"a" : 42}}') FORMAT Pretty;
+SELECT c1, toTypeName(c1), c2, toTypeName(c2) FROM format('CSV', '1,Hello World!
2,"[1,2,3]"
3,"2020-01-01"
') FORMAT Pretty;
\ No newline at end of file
