diff --git a/tests/queries/0_stateless/00757_enum_defaults_const_analyzer.reference b/tests/queries/0_stateless/00757_enum_defaults_const_analyzer.reference
index 6895acffed15..56ead34ad3b7 100644
--- a/tests/queries/0_stateless/00757_enum_defaults_const_analyzer.reference
+++ b/tests/queries/0_stateless/00757_enum_defaults_const_analyzer.reference
@@ -3,4 +3,4 @@ iphone	1
 iphone	1
 iphone	1
 
-iphone	1
+\N	1
diff --git a/tests/queries/0_stateless/03447_grouping_sets_analyzer_const_columns.reference b/tests/queries/0_stateless/03447_grouping_sets_analyzer_const_columns.reference
new file mode 100644
index 000000000000..723208a70e1f
--- /dev/null
+++ b/tests/queries/0_stateless/03447_grouping_sets_analyzer_const_columns.reference
@@ -0,0 +1,27 @@
+Const column in grouping set, analyzer on:
+0	0	value	0	1
+0	0	value	1	1
+0	0	value	2	1
+0	0	value	3	1
+1	0		0	1
+1	0		1	1
+1	0		2	1
+1	0		3	1
+Non-const column in grouping set, analyzer on:
+0	0	value	0	1
+0	0	value	1	1
+0	0	value	2	1
+0	0	value	3	1
+1	0		0	1
+1	0		1	1
+1	0		2	1
+1	0		3	1
+Const column in grouping set, analyzer off:
+0	0	value	0	1
+0	0	value	1	1
+0	0	value	2	1
+0	0	value	3	1
+1	0		0	1
+1	0		1	1
+1	0		2	1
+1	0		3	1
diff --git a/tests/queries/0_stateless/03447_grouping_sets_analyzer_const_columns.sql b/tests/queries/0_stateless/03447_grouping_sets_analyzer_const_columns.sql
new file mode 100644
index 000000000000..f12e5636bd3a
--- /dev/null
+++ b/tests/queries/0_stateless/03447_grouping_sets_analyzer_const_columns.sql
@@ -0,0 +1,26 @@
+SET enable_analyzer=1;
+
+SELECT 'Const column in grouping set, analyzer on:';
+
+SELECT grouping(key_a), grouping(key_b), key_a, key_b, count()  FROM (
+    SELECT 'value' as key_a, number as key_b FROM numbers(4)
+)
+GROUP BY GROUPING SETS((key_b), (key_a, key_b))
+ORDER BY (grouping(key_a), grouping(key_b), key_a, key_b);
+
+SELECT 'Non-const column in grouping set, analyzer on:';
+
+SELECT grouping(key_a), grouping(key_b), key_a, key_b, count() FROM (
+    SELECT materialize('value') as key_a, number as key_b FROM numbers(4)
+)
+GROUP BY GROUPING SETS((key_b), (key_a, key_b))
+ORDER BY (grouping(key_a), grouping(key_b), key_a, key_b);
+
+SELECT 'Const column in grouping set, analyzer off:';
+
+SELECT grouping(key_a), grouping(key_b), key_a, key_b, count() FROM (
+    SELECT 'value' as key_a, number as key_b FROM numbers(4)
+)
+GROUP BY GROUPING SETS((key_b), (key_a, key_b))
+ORDER BY (grouping(key_a), grouping(key_b), key_a, key_b)
+SETTINGS allow_experimental_analyzer=0;
