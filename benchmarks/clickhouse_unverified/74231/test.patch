diff --git a/tests/integration/test_postgresql_protocol/queries/query5.sql b/tests/integration/test_postgresql_protocol/queries/query5.sql
new file mode 100644
index 000000000000..b6dc5a2c49eb
--- /dev/null
+++ b/tests/integration/test_postgresql_protocol/queries/query5.sql
@@ -0,0 +1,1 @@
+CREATE DATABASE x; USE x; CREATE TABLE table1 (column UInt32) ENGINE = Memory; INSERT INTO table1 VALUES (0), (1), (5); CREATE TABLE table2 (column UInt32) ENGINE = Memory; INSERT INTO table2 SELECT * FROM table1; DROP DATABASE x;
diff --git a/tests/integration/test_postgresql_protocol/test.py b/tests/integration/test_postgresql_protocol/test.py
index 9396e351c639..f69cff5b1bf3 100644
--- a/tests/integration/test_postgresql_protocol/test.py
+++ b/tests/integration/test_postgresql_protocol/test.py
@@ -56,7 +56,13 @@ def started_cluster():
 def test_psql_client(started_cluster):
     node = cluster.instances["node"]
 
-    for query_file in ["query1.sql", "query2.sql", "query3.sql", "query4.sql"]:
+    for query_file in [
+        "query1.sql",
+        "query2.sql",
+        "query3.sql",
+        "query4.sql",
+        "query5.sql",
+    ]:
         started_cluster.copy_file_to_container(
             started_cluster.postgres_id,
             os.path.join(SCRIPT_DIR, "queries", query_file),
@@ -111,6 +117,22 @@ def test_psql_client(started_cluster):
         ["SELECT 0", "INSERT 0 0", "tmp_column", "0", "1", "(2 rows)", "SELECT 0
"]
     )
 
+    res = started_cluster.exec_in_container(
+        started_cluster.postgres_id, cmd_prefix + ["-f", "/query5.sql"], shell=True
+    )
+    logging.debug(res)
+    assert res == "
".join(
+        [
+            "SELECT 0",
+            "SELECT 0",
+            "SELECT 0",
+            "INSERT 0 0",
+            "SELECT 0",
+            "INSERT 0 0",
+            "SELECT 0
",
+        ]
+    )
+
 
 def test_python_client(started_cluster):
     node = cluster.instances["node"]
