diff --git a/tests/queries/0_stateless/02126_lc_window_functions.reference b/tests/queries/0_stateless/02126_lc_window_functions.reference
new file mode 100644
index 000000000000..bb2c453139e6
--- /dev/null
+++ b/tests/queries/0_stateless/02126_lc_window_functions.reference
@@ -0,0 +1,13 @@
+2
+2
+2
+2
+2
+2
+2
+2
+2
+2
+a\0aa	1
+a\0aa	1
+a\0aa	1
diff --git a/tests/queries/0_stateless/02126_lc_window_functions.sql b/tests/queries/0_stateless/02126_lc_window_functions.sql
new file mode 100644
index 000000000000..6a1fb691a375
--- /dev/null
+++ b/tests/queries/0_stateless/02126_lc_window_functions.sql
@@ -0,0 +1,38 @@
+SELECT max(id) OVER () AS aid
+FROM
+(
+    SELECT materialize(toLowCardinality('aaaa')) AS id
+    FROM numbers_mt(1000000)
+)
+FORMAT `Null`;
+
+SELECT max(id) OVER (PARTITION BY id) AS id
+FROM
+(
+    SELECT materialize('aaaa') AS id
+    FROM numbers_mt(1000000)
+)
+FORMAT `Null`;
+
+SELECT countIf(sym = 'Red') OVER () AS res
+FROM
+(
+    SELECT CAST(CAST(number % 5, 'Enum8(\'Red\' = 0, \'Blue\' = 1, \'Yellow\' = 2, \'Black\' = 3, \'White\' = 4)'), 'LowCardinality(String)') AS sym
+    FROM numbers(10)
+);
+
+SELECT materialize(toLowCardinality('a\0aa')), countIf(toLowCardinality('aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0aaaaaaa\0'), sym = 'Red') OVER (Range BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) AS res FROM (SELECT CAST(CAST(number % 5, 'Enum8(\'Red\' = 0, \'Blue\' = 1, \'Yellow\' = 2, \'Black\' = 3, \'White\' = 4)'), 'LowCardinality(String)') AS sym FROM numbers(3));
+
+SELECT
+    NULL,
+    id,
+    max(id) OVER (Rows BETWEEN 10 PRECEDING AND UNBOUNDED FOLLOWING) AS aid
+FROM
+(
+    SELECT
+        NULL,
+        max(id) OVER (),
+        materialize(toLowCardinality('')) AS id
+    FROM numbers_mt(0, 1)
+)
+FORMAT `Null`;
