diff --git a/tests/queries/1_stateful/00176_distinct_limit_by_limit_bug_43377.reference b/tests/queries/1_stateful/00176_distinct_limit_by_limit_bug_43377.reference
new file mode 100644
index 000000000000..f599e28b8ab0
--- /dev/null
+++ b/tests/queries/1_stateful/00176_distinct_limit_by_limit_bug_43377.reference
@@ -0,0 +1,1 @@
+10
diff --git a/tests/queries/1_stateful/00176_distinct_limit_by_limit_bug_43377.sql b/tests/queries/1_stateful/00176_distinct_limit_by_limit_bug_43377.sql
new file mode 100644
index 000000000000..6397d7f5a281
--- /dev/null
+++ b/tests/queries/1_stateful/00176_distinct_limit_by_limit_bug_43377.sql
@@ -0,0 +1,11 @@
+SELECT count()
+FROM
+(
+    SELECT DISTINCT
+        Title,
+        SearchPhrase
+    FROM test.hits
+    WHERE (SearchPhrase != '') AND (NOT match(Title, '[а-яА-ЯёЁ]')) AND (NOT match(SearchPhrase, '[а-яА-ЯёЁ]'))
+    LIMIT 1 BY Title
+    LIMIT 10
+);
