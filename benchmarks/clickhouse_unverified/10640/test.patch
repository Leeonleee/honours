diff --git a/tests/queries/0_stateless/01271_http_code_parse_error.reference b/tests/queries/0_stateless/01271_http_code_parse_error.reference
new file mode 100644
index 000000000000..4a84465139fd
--- /dev/null
+++ b/tests/queries/0_stateless/01271_http_code_parse_error.reference
@@ -0,0 +1,1 @@
+< HTTP/1.1 400 Bad Request
diff --git a/tests/queries/0_stateless/01271_http_code_parse_error.sh b/tests/queries/0_stateless/01271_http_code_parse_error.sh
new file mode 100755
index 000000000000..63355ef8e36f
--- /dev/null
+++ b/tests/queries/0_stateless/01271_http_code_parse_error.sh
@@ -0,0 +1,11 @@
+#!/usr/bin/env bash
+
+CURDIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+. $CURDIR/../shell_config.sh
+
+${CLICKHOUSE_CLIENT} --query "DROP TABLE IF EXISTS test"
+${CLICKHOUSE_CLIENT} --query "CREATE TABLE test (f1 String, f2 String) ENGINE = Memory"
+
+${CLICKHOUSE_CURL} -vsS "${CLICKHOUSE_URL}" --data-binary 'insert into test (f1, f2) format TSV 1' 2>&1 | grep -F '< HTTP/'
+
+${CLICKHOUSE_CLIENT} --query "DROP TABLE test"
