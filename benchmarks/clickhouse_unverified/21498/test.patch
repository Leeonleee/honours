diff --git a/tests/config/config.d/clusters.xml b/tests/config/config.d/clusters.xml
index c0babf0ff89a..86dba46e07ab 100644
--- a/tests/config/config.d/clusters.xml
+++ b/tests/config/config.d/clusters.xml
@@ -16,5 +16,17 @@
                  </replica>
              </shard>
          </test_cluster_two_shards_different_databases>
+	    <test_cluster_one_shard_two_replicas>
+           <shard>
+               <replica>
+                   <host>127.0.0.1</host>
+                   <port>9000</port>
+               </replica>
+               <replica>
+                   <host>127.0.0.2</host>
+                   <port>9000</port>
+               </replica>
+           </shard>
+        </test_cluster_one_shard_two_replicas>
     </remote_servers>
-</yandex>
\ No newline at end of file
+</yandex>
diff --git a/tests/queries/0_stateless/01753_mutate_table_predicated_with_table.reference b/tests/queries/0_stateless/01753_mutate_table_predicated_with_table.reference
new file mode 100644
index 000000000000..d00491fd7e5b
--- /dev/null
+++ b/tests/queries/0_stateless/01753_mutate_table_predicated_with_table.reference
@@ -0,0 +1,1 @@
+1
diff --git a/tests/queries/0_stateless/01753_mutate_table_predicated_with_table.sql b/tests/queries/0_stateless/01753_mutate_table_predicated_with_table.sql
new file mode 100644
index 000000000000..efb444eb4b1f
--- /dev/null
+++ b/tests/queries/0_stateless/01753_mutate_table_predicated_with_table.sql
@@ -0,0 +1,12 @@
+DROP TABLE IF EXISTS mmm;
+
+CREATE TABLE mmm ENGINE=MergeTree ORDER BY number
+AS SELECT number, rand() % 10 AS a FROM numbers(1000);
+
+ALTER TABLE mmm DELETE WHERE a IN (SELECT a FROM mmm) SETTINGS mutations_sync=1;
+
+SELECT is_done FROM system.mutations WHERE table = 'mmm' and database=currentDatabase();
+
+SELECT * FROM mmm;
+
+DROP TABLE IF EXISTS mmm;
diff --git a/tests/queries/0_stateless/01754_cluster_all_replicas_shard_num.reference b/tests/queries/0_stateless/01754_cluster_all_replicas_shard_num.reference
new file mode 100644
index 000000000000..d308efd86622
--- /dev/null
+++ b/tests/queries/0_stateless/01754_cluster_all_replicas_shard_num.reference
@@ -0,0 +1,9 @@
+1
+1
+1
+2
+1
+2
+1
+1
+2
diff --git a/tests/queries/0_stateless/01754_cluster_all_replicas_shard_num.sql b/tests/queries/0_stateless/01754_cluster_all_replicas_shard_num.sql
new file mode 100644
index 000000000000..833f86c538da
--- /dev/null
+++ b/tests/queries/0_stateless/01754_cluster_all_replicas_shard_num.sql
@@ -0,0 +1,8 @@
+SELECT _shard_num FROM cluster('test_shard_localhost', system.one);
+SELECT _shard_num FROM clusterAllReplicas('test_shard_localhost', system.one);
+
+SELECT _shard_num FROM cluster('test_cluster_two_shards', system.one) ORDER BY _shard_num;
+SELECT _shard_num FROM clusterAllReplicas('test_cluster_two_shards', system.one) ORDER BY _shard_num;
+
+SELECT _shard_num FROM cluster('test_cluster_one_shard_two_replicas', system.one) ORDER BY _shard_num;
+SELECT _shard_num FROM clusterAllReplicas('test_cluster_one_shard_two_replicas', system.one) ORDER BY _shard_num;
diff --git a/tests/server-test.xml b/tests/server-test.xml
index 0b5e8f760a87..dd21d55c78c7 100644
--- a/tests/server-test.xml
+++ b/tests/server-test.xml
@@ -140,4 +140,4 @@
             <replace>[hidden]</replace>
         </rule>
     </query_masking_rules>
-</yandex>
\ No newline at end of file
+</yandex>
