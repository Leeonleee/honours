diff --git a/tests/queries/0_stateless/01293_client_interactive_vertical_multiline.reference b/tests/queries/0_stateless/01293_client_interactive_vertical_multiline.reference
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/tests/queries/0_stateless/01293_client_interactive_vertical_multiline.sh b/tests/queries/0_stateless/01293_client_interactive_vertical_multiline.sh
new file mode 100755
index 000000000000..4d4292472da8
--- /dev/null
+++ b/tests/queries/0_stateless/01293_client_interactive_vertical_multiline.sh
@@ -0,0 +1,88 @@
+#!/usr/bin/expect -f
+
+log_user 0
+set timeout 60
+spawn clickhouse-client
+match_max 100000
+
+expect ":) "
+
+send -- "SELECT 1\r"
+expect "│ 1 │"
+expect ":) "
+
+send -- "SELECT 1\\G\r"
+expect "Row 1:"
+expect "1: 1"
+expect ":) "
+
+send -- "SELECT 1\\\r"
+expect ":-] "
+send -- ", 2\r"
+expect "│ 1 │ 2 │"
+expect ":) "
+
+send -- "SELECT 1\\\r"
+expect ":-] "
+send -- ", 2\\G\r"
+expect "Row 1:"
+expect "1: 1"
+expect "2: 2"
+expect ":) "
+
+send -- ""
+expect eof
+
+set timeout 60
+spawn clickhouse-client --multiline
+match_max 100000
+
+expect ":) "
+
+send -- "SELECT 1;\r"
+expect "│ 1 │"
+expect ":) "
+
+send -- "SELECT 1\\G\r"
+expect "Row 1:"
+expect "1: 1"
+expect ":) "
+
+send -- "SELECT 1; \r"
+expect "│ 1 │"
+expect ":) "
+
+send -- "SELECT 1\\G  \r"
+expect "Row 1:"
+expect "1: 1"
+expect ":) "
+
+send -- "SELECT 1\r"
+expect ":-] "
+send -- ";\r"
+expect "│ 1 │"
+expect ":) "
+
+send -- "SELECT 1\r"
+expect ":-] "
+send -- "\\G\r"
+expect "Row 1:"
+expect "1: 1"
+expect ":) "
+
+send -- "SELECT 1\r"
+expect ":-] "
+send -- ", 2;\r"
+expect "│ 1 │ 2 │"
+expect ":) "
+
+send -- "SELECT 1\r"
+expect ":-] "
+send -- ", 2\\G\r"
+expect "Row 1:"
+expect "1: 1"
+expect "2: 2"
+expect ":) "
+
+send -- ""
+expect eof
diff --git a/tests/queries/0_stateless/01293_client_interactive_vertical_singleline.reference b/tests/queries/0_stateless/01293_client_interactive_vertical_singleline.reference
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/tests/queries/0_stateless/01293_client_interactive_vertical_singleline.sh b/tests/queries/0_stateless/01293_client_interactive_vertical_singleline.sh
new file mode 100755
index 000000000000..3b98caeff2ec
--- /dev/null
+++ b/tests/queries/0_stateless/01293_client_interactive_vertical_singleline.sh
@@ -0,0 +1,34 @@
+#!/usr/bin/expect -f
+
+log_user 0
+set timeout 60
+spawn clickhouse-client
+match_max 100000
+
+expect ":) "
+
+send -- "SELECT 1\r"
+expect "│ 1 │"
+expect ":) "
+
+send -- "SELECT 1\\G\r"
+expect "Row 1:"
+expect "1: 1"
+expect ":) "
+
+send -- "SELECT 1\\\r"
+expect ":-] "
+send -- ", 2\r"
+expect "│ 1 │ 2 │"
+expect ":) "
+
+send -- "SELECT 1\\\r"
+expect ":-] "
+send -- ", 2\\G\r"
+expect "Row 1:"
+expect "1: 1"
+expect "2: 2"
+expect ":) "
+
+send -- ""
+expect eof
