You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
Support logging a random sample of queries to query_log
With a large volume of queries per second logging all queries gets expensive, it would be nice to be able to log only a configurable fraction of the queries, selected at random.
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
