diff --git a/tests/queries/0_stateless/02933_ephemeral_mv.reference b/tests/queries/0_stateless/02933_ephemeral_mv.reference
new file mode 100644
index 000000000000..a77853390d39
--- /dev/null
+++ b/tests/queries/0_stateless/02933_ephemeral_mv.reference
@@ -0,0 +1,2 @@
+3	3
+42	42
diff --git a/tests/queries/0_stateless/02933_ephemeral_mv.sql b/tests/queries/0_stateless/02933_ephemeral_mv.sql
new file mode 100644
index 000000000000..d0725d894f06
--- /dev/null
+++ b/tests/queries/0_stateless/02933_ephemeral_mv.sql
@@ -0,0 +1,30 @@
+
+CREATE TABLE raw
+(
+  name String,
+  num String
+) ENGINE = MergeTree
+ORDER BY (name);
+
+CREATE TABLE parsed_eph
+(
+  name String,
+  num_ephemeral UInt32 EPHEMERAL,
+  num UInt32 MATERIALIZED num_ephemeral,
+) ENGINE = MergeTree
+ORDER BY (name);
+
+CREATE MATERIALIZED VIEW parse_mv_eph
+TO parsed_eph
+AS
+SELECT
+  name,
+  toUInt32(num) as num_ephemeral
+FROM raw;
+
+INSERT INTO raw VALUES ('3', '3'), ('42', '42');
+SELECT name, num FROM parsed_eph;
+
+DROP VIEW parse_mv_eph;
+DROP TABLE parsed_eph;
+DROP TABLE raw;
