diff --git a/tests/queries/0_stateless/00646_url_engine.python b/tests/queries/0_stateless/00646_url_engine.python
index 0a26f8039c29..dc0fdd1a71d7 100644
--- a/tests/queries/0_stateless/00646_url_engine.python
+++ b/tests/queries/0_stateless/00646_url_engine.python
@@ -7,6 +7,7 @@ import tempfile
 import threading
 import os
 import traceback
+from urllib.parse import urljoin
 import urllib.request
 import subprocess
 from io import StringIO
@@ -163,6 +164,7 @@ def test_select(
     requests=[],
     answers=[],
     test_data="",
+    res_path="",
 ):
     with open(CSV_DATA, "w") as f:  # clear file
         f.write("")
@@ -183,7 +185,7 @@ def test_select(
         tbl = table_name
         if not tbl:
             tbl = "url('{addr}', 'CSV', '{schema}')".format(
-                addr=HTTP_SERVER_URL_STR, schema=schema
+                addr=urljoin(HTTP_SERVER_URL_STR, res_path), schema=schema
             )
         check_answers(requests[i].format(tbl=tbl), answers[i])
 
@@ -252,6 +254,20 @@ def main():
         "select double, count(*) from {tbl} group by double order by double": "7.7\t2
9.9\t10",
     }
 
+    pathname = CSV_DATA
+    filename = os.path.basename(CSV_DATA)
+    select_virtual_requests = {
+        "select _path from {tbl}": "
".join(pathname for _ in range(2)),
+        "select _file from {tbl}": "
".join(filename for _ in range(2)),
+        "select _file, from {tbl} order by _path": "
".join(
+            filename for _ in range(2)
+        ),
+        "select _path, _file from {tbl}": "
".join(
+            f"{pathname}\t{filename}" for _ in range(2)
+        ),
+        "select _path, count(*) from {tbl} group by _path": f"{pathname}\t2",
+    }
+
     t, httpd = start_server()
     t.start()
     # test table with url engine
@@ -267,6 +283,14 @@ def main():
         answers=list(select_only_requests.values()),
         test_data=test_data,
     )
+    # test table function url for virtual column
+    test_select(
+        requests=list(select_virtual_requests.keys()),
+        answers=list(select_virtual_requests.values()),
+        test_data=test_data,
+        res_path=CSV_DATA,
+    )
+
     # test insert into table with url engine
     test_insert(
         table_name="test_table_insert",
diff --git a/tests/queries/0_stateless/02725_url_support_virtual_column.reference b/tests/queries/0_stateless/02725_url_support_virtual_column.reference
new file mode 100644
index 000000000000..d20c91344e5c
--- /dev/null
+++ b/tests/queries/0_stateless/02725_url_support_virtual_column.reference
@@ -0,0 +1,4 @@
+/
+
+	1
+/		1
diff --git a/tests/queries/0_stateless/02725_url_support_virtual_column.sql b/tests/queries/0_stateless/02725_url_support_virtual_column.sql
new file mode 100644
index 000000000000..02a4dfc449bf
--- /dev/null
+++ b/tests/queries/0_stateless/02725_url_support_virtual_column.sql
@@ -0,0 +1,8 @@
+-- Tags: no-parallel
+
+select _path from url('http://127.0.0.1:8123/?query=select+1&user=default', LineAsString, 's String');
+select _file from url('http://127.0.0.1:8123/?query=select+1&user=default', LineAsString, 's String');
+select _file, count() from url('http://127.0.0.1:8123/?query=select+1&user=default', LineAsString, 's String') group by _file;
+select _path, _file, s from url('http://127.0.0.1:8123/?query=select+1&user=default', LineAsString, 's String');
+select _path, _file, s from url('http://127.0.0.1:8123/?query=select+1&user=default&password=wrong', LineAsString, 's String'); -- { serverError RECEIVED_ERROR_FROM_REMOTE_IO_SERVER }
+
