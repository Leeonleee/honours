diff --git a/tests/queries/0_stateless/03001_bad_error_message_higher_order_functions.reference b/tests/queries/0_stateless/03001_bad_error_message_higher_order_functions.reference
new file mode 100644
index 000000000000..d4e027274e22
--- /dev/null
+++ b/tests/queries/0_stateless/03001_bad_error_message_higher_order_functions.reference
@@ -0,0 +1,1 @@
+Argument 3 has size 2 which differs with the size of another argument, 3
diff --git a/tests/queries/0_stateless/03001_bad_error_message_higher_order_functions.sh b/tests/queries/0_stateless/03001_bad_error_message_higher_order_functions.sh
new file mode 100755
index 000000000000..967453fd375d
--- /dev/null
+++ b/tests/queries/0_stateless/03001_bad_error_message_higher_order_functions.sh
@@ -0,0 +1,7 @@
+#!/usr/bin/env bash
+
+CURDIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+# shellcheck source=../shell_config.sh
+. "$CURDIR"/../shell_config.sh
+
+${CLICKHOUSE_CLIENT} --query "SELECT arrayMap((x,y) -> x + y, [1,2,3], [1,2])" 2>&1 | grep -o -F --max-count 1 'Argument 3 has size 2 which differs with the size of another argument, 3'
\ No newline at end of file
