diff --git a/tests/queries/0_stateless/01702_rewrite_avg_for_algebraic_optimization.reference b/tests/queries/0_stateless/01702_rewrite_avg_for_algebraic_optimization.reference
new file mode 100644
index 000000000000..2bdcedba90ed
--- /dev/null
+++ b/tests/queries/0_stateless/01702_rewrite_avg_for_algebraic_optimization.reference
@@ -0,0 +1,23 @@
+SELECT avg(number + 2) FROM numbers(10)
+value: 	6.5
+EXPLAIN syntax:
+SELECT avg(number) + 2
+FROM numbers(10)
+
+SELECT avg(number - 2) FROM numbers(10)
+value: 	2.5
+EXPLAIN syntax:
+SELECT avg(number) - 2
+FROM numbers(10)
+
+SELECT avg(number * 2) FROM numbers(10)
+value: 	9
+EXPLAIN syntax:
+SELECT avg(number) * 2
+FROM numbers(10)
+
+SELECT avg(number / 2) FROM numbers(10)
+value: 	2.25
+EXPLAIN syntax:
+SELECT avg(number) / 2
+FROM numbers(10)
diff --git a/tests/queries/0_stateless/01702_rewrite_avg_for_algebraic_optimization.sql b/tests/queries/0_stateless/01702_rewrite_avg_for_algebraic_optimization.sql
new file mode 100644
index 000000000000..8fa4dd0ae47e
--- /dev/null
+++ b/tests/queries/0_stateless/01702_rewrite_avg_for_algebraic_optimization.sql
@@ -0,0 +1,22 @@
+SELECT 'SELECT avg(number + 2) FROM numbers(10)';
+SELECT 'value: ', avg(number + 2) FROM numbers(10);
+SELECT 'EXPLAIN syntax:';
+EXPLAIN SYNTAX SELECT avg(number + 2) FROM numbers(10);
+
+SELECT '';
+SELECT 'SELECT avg(number - 2) FROM numbers(10)';
+SELECT 'value: ', avg(number - 2) FROM numbers(10);
+SELECT 'EXPLAIN syntax:';
+EXPLAIN SYNTAX SELECT avg(number - 2) FROM numbers(10);
+
+SELECT '';
+SELECT 'SELECT avg(number * 2) FROM numbers(10)';
+SELECT 'value: ', avg(number * 2) FROM numbers(10);
+SELECT 'EXPLAIN syntax:';
+EXPLAIN SYNTAX SELECT avg(number * 2) FROM numbers(10);
+
+SELECT '';
+SELECT 'SELECT avg(number / 2) FROM numbers(10)';
+SELECT 'value: ', avg(number / 2) FROM numbers(10);
+SELECT 'EXPLAIN syntax:';
+EXPLAIN SYNTAX SELECT avg(number / 2) FROM numbers(10);
