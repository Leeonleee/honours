diff --git a/tests/queries/0_stateless/02293_hashid.reference b/tests/queries/0_stateless/02293_hashid.reference
index f36b15002880..dfc78349c05f 100644
--- a/tests/queries/0_stateless/02293_hashid.reference
+++ b/tests/queries/0_stateless/02293_hashid.reference
@@ -8,5 +8,8 @@
 2	obmgndljgajpkeao
 3	dldokmpjpgjgeanb
 4	nkdlpgajngjnobme
-xkOpDGxQpVB
-jR
+YQrvD5XGvbx
+Bm3zaOq7zbp
+oV
+oV
+6b
diff --git a/tests/queries/0_stateless/02293_hashid.sql b/tests/queries/0_stateless/02293_hashid.sql
index 45aaefe7356b..9938154f169e 100644
--- a/tests/queries/0_stateless/02293_hashid.sql
+++ b/tests/queries/0_stateless/02293_hashid.sql
@@ -1,7 +1,16 @@
+-- Tags: no-backward-compatibility-check
 SET allow_experimental_hash_functions = 1;
 
 select number, hashid(number) from system.numbers limit 5;
 select number, hashid(number, 's3cr3t', 16, 'abcdefghijklmnop') from system.numbers limit 5;
 select hashid(1234567890123456, 's3cr3t');
+select hashid(1234567890123456, 's3cr3t2');
 
 SELECT  hashid(1, hashid(2));
+SELECT  hashid(1, 'k5');
+SELECT  hashid(1, 'k5_othersalt');
+
+-- https://github.com/ClickHouse/ClickHouse/issues/39672
+SELECT
+    JSONExtractRaw(257, NULL),
+    hashid(1024, if(rand() % 10, 'truetruetruetrue', NULL), 's3\0r3t'); -- {serverError 43}
