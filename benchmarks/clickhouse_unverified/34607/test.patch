diff --git a/tests/queries/0_stateless/00398_url_functions.reference b/tests/queries/0_stateless/00398_url_functions.reference
index e5f89fbea78d..feba95fb1b37 100644
--- a/tests/queries/0_stateless/00398_url_functions.reference
+++ b/tests/queries/0_stateless/00398_url_functions.reference
@@ -59,6 +59,14 @@ query=hello world+foo+bar
 query=hello world+foo+bar
 query=hello world+foo+bar
 query=hello world foo+bar
+
+
+\N
+\N
+hello%20world%20foo%2Bbar
+hello+world+foo%2Bbar
+http://paul@127.0.0.1/?query=hello world foo+bar
+http://paul@127.0.0.1/?query=hello world foo+bar
 ====FRAGMENT====
 
 
@@ -74,6 +82,10 @@ query=hello world+foo+bar#a=b
 query=hello world+foo+bar#a=b
 #a=b
 query=hello world foo+bar#a=b
+hello%20world%20foo%2Bbar%23a%3Db
+hello+world+foo%2Bbar%23a%3Db
+http://paul@127.0.0.1/?query=hello world foo+bar#a=b
+http://paul@127.0.0.1/?query=hello world foo+bar#a=b
 ====CUT TO FIRST SIGNIFICANT SUBDOMAIN====
 example.com
 example.com
diff --git a/tests/queries/0_stateless/00398_url_functions.sql b/tests/queries/0_stateless/00398_url_functions.sql
index ea71ed226d70..66fe591bb588 100644
--- a/tests/queries/0_stateless/00398_url_functions.sql
+++ b/tests/queries/0_stateless/00398_url_functions.sql
@@ -64,6 +64,14 @@ SELECT decodeURLComponent(queryString('http://127.0.0.1:443/?query=hello%20world
 SELECT decodeURLComponent(queryString('http://paul@127.0.0.1:443/?query=hello%20world+foo%2Bbar'));
 SELECT decodeURLComponent(queryString('//paul@127.0.0.1:443/?query=hello%20world+foo%2Bbar'));
 SELECT decodeURLFormComponent(queryString('//paul@127.0.0.1:443/?query=hello%20world+foo%2Bbar'));
+SELECT encodeURLComponent('');
+SELECT encodeURLFormComponent('');
+SELECT encodeURLComponent(NULL);
+SELECT encodeURLFormComponent(NULL);
+SELECT encodeURLComponent('hello world foo+bar');
+SELECT encodeURLFormComponent('hello world foo+bar');
+SELECT decodeURLComponent(encodeURLComponent('http://paul@127.0.0.1/?query=hello world foo+bar'));
+SELECT decodeURLFormComponent(encodeURLFormComponent('http://paul@127.0.0.1/?query=hello world foo+bar'));
 
 SELECT '====FRAGMENT====';
 SELECT decodeURLComponent(fragment('http://127.0.0.1/?query=hello%20world+foo%2Bbar'));
@@ -81,6 +89,10 @@ SELECT decodeURLComponent(queryStringAndFragment('http://paul@127.0.0.1/?query=h
 SELECT decodeURLComponent(queryStringAndFragment('//paul@127.0.0.1/?query=hello%20world+foo%2Bbar#a=b'));
 SELECT decodeURLComponent(queryStringAndFragment('//paul@127.0.0.1/#a=b'));
 SELECT decodeURLFormComponent(queryStringAndFragment('//paul@127.0.0.1/?query=hello%20world+foo%2Bbar#a=b'));
+SELECT encodeURLComponent('hello world foo+bar#a=b');
+SELECT encodeURLFormComponent('hello world foo+bar#a=b');
+SELECT decodeURLComponent(encodeURLComponent('http://paul@127.0.0.1/?query=hello world foo+bar#a=b'));
+SELECT decodeURLFormComponent(encodeURLFormComponent('http://paul@127.0.0.1/?query=hello world foo+bar#a=b'));
 
 SELECT '====CUT TO FIRST SIGNIFICANT SUBDOMAIN====';
 SELECT cutToFirstSignificantSubdomain('http://www.example.com');
