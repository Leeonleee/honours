diff --git a/dbms/tests/queries/0_stateless/00564_initial_column_values_with_default_expression.reference b/dbms/tests/queries/0_stateless/00564_initial_column_values_with_default_expression.reference
new file mode 100644
index 000000000000..bc42226d38fc
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00564_initial_column_values_with_default_expression.reference
@@ -0,0 +1,3 @@
+1	0	h264		2018-02-03	0-h264
+1	0	h264		2018-02-03	0-h264
+2	0	h264	CONTENT	2018-02-03	0-h264CONTENT
diff --git a/dbms/tests/queries/0_stateless/00564_initial_column_values_with_default_expression.sql b/dbms/tests/queries/0_stateless/00564_initial_column_values_with_default_expression.sql
new file mode 100644
index 000000000000..8ac087c6dee8
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00564_initial_column_values_with_default_expression.sql
@@ -0,0 +1,13 @@
+DROP TABLE IF EXISTS test.test;
+
+CREATE TABLE IF NOT EXISTS test.test( id UInt32, track UInt8, codec String, content String, rdate Date DEFAULT '2018-02-03', track_id String DEFAULT concat(concat(concat(toString(track), '-'), codec), content) ) ENGINE=MergeTree(rdate, (id, track_id), 8192);
+
+INSERT INTO test.test(id, track, codec) VALUES(1, 0, 'h264');
+
+SELECT * FROM test.test ORDER BY id;
+
+INSERT INTO test.test(id, track, codec, content) VALUES(2, 0, 'h264', 'CONTENT');
+
+SELECT * FROM test.test ORDER BY id;
+
+DROP TABLE IF EXISTS test.test;
