diff --git a/tests/queries/0_stateless/01137_order_by_func.reference b/tests/queries/0_stateless/01137_order_by_func.reference
new file mode 100644
index 000000000000..66d4d94db721
--- /dev/null
+++ b/tests/queries/0_stateless/01137_order_by_func.reference
@@ -0,0 +1,8 @@
+2020-05-05 01:00:00	0
+2020-05-05 01:00:00	1
+2020-05-05 01:00:00	2
+2020-05-05 01:00:00	3
+2020-05-05 01:00:00	4
+111	9999999	9999999
+111	9999998	9999998
+111	9999997	9999997
diff --git a/tests/queries/0_stateless/01137_order_by_func.sql b/tests/queries/0_stateless/01137_order_by_func.sql
new file mode 100644
index 000000000000..682b2d391cee
--- /dev/null
+++ b/tests/queries/0_stateless/01137_order_by_func.sql
@@ -0,0 +1,25 @@
+DROP TABLE IF EXISTS pk_func;
+CREATE TABLE pk_func(d DateTime, ui UInt32) ENGINE = MergeTree ORDER BY toDate(d);
+
+INSERT INTO pk_func SELECT '2020-05-05 01:00:00', number FROM numbers(1000000);
+INSERT INTO pk_func SELECT '2020-05-06 01:00:00', number FROM numbers(1000000);
+INSERT INTO pk_func SELECT '2020-05-07 01:00:00', number FROM numbers(1000000);
+
+SELECT * FROM pk_func ORDER BY toDate(d), ui LIMIT 5;
+
+DROP TABLE pk_func;
+
+DROP TABLE IF EXISTS nORX;
+CREATE TABLE nORX (`A` Int64, `B` Int64, `V` Int64) ENGINE = MergeTree ORDER BY (A, negate(B));
+INSERT INTO nORX SELECT 111, number, number FROM numbers(10000000);
+
+SELECT *
+FROM nORX
+WHERE B >= 1000
+ORDER BY
+    A ASC,
+    -B ASC
+LIMIT 3
+SETTINGS max_threads = 1;
+
+DROP TABLE nORX;
diff --git a/tests/queries/0_stateless/01137_order_by_func_final.reference b/tests/queries/0_stateless/01137_order_by_func_final.reference
new file mode 100644
index 000000000000..c97316543dad
--- /dev/null
+++ b/tests/queries/0_stateless/01137_order_by_func_final.reference
@@ -0,0 +1,3 @@
+2020-05-05	704982704
+2020-05-06	704982704
+2020-05-07	704982704
diff --git a/tests/queries/0_stateless/01137_order_by_func_final.sql b/tests/queries/0_stateless/01137_order_by_func_final.sql
new file mode 100644
index 000000000000..32a9085e9ee5
--- /dev/null
+++ b/tests/queries/0_stateless/01137_order_by_func_final.sql
@@ -0,0 +1,10 @@
+DROP TABLE IF EXISTS pk_func;
+CREATE TABLE pk_func(d DateTime, ui UInt32) ENGINE = SummingMergeTree ORDER BY toDate(d);
+
+INSERT INTO pk_func SELECT '2020-05-05 01:00:00', number FROM numbers(100000);
+INSERT INTO pk_func SELECT '2020-05-06 01:00:00', number FROM numbers(100000);
+INSERT INTO pk_func SELECT '2020-05-07 01:00:00', number FROM numbers(100000);
+
+SELECT toDate(d), ui FROM pk_func FINAL;
+
+DROP TABLE pk_func;
