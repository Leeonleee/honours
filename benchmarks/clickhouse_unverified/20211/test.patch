diff --git a/tests/queries/0_stateless/01711_cte_subquery_fix.reference b/tests/queries/0_stateless/01711_cte_subquery_fix.reference
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/tests/queries/0_stateless/01711_cte_subquery_fix.sql b/tests/queries/0_stateless/01711_cte_subquery_fix.sql
new file mode 100644
index 000000000000..ddea548eada2
--- /dev/null
+++ b/tests/queries/0_stateless/01711_cte_subquery_fix.sql
@@ -0,0 +1,3 @@
+drop table if exists t;
+create table t engine = Memory as with cte as (select * from numbers(10)) select * from cte;
+drop table t;
