diff --git a/src/Functions/visitParamExtractRaw.cpp b/src/Functions/visitParamExtractRaw.cpp
index 7a02d29e4466..ef41e9bc9001 100644
--- a/src/Functions/visitParamExtractRaw.cpp
+++ b/src/Functions/visitParamExtractRaw.cpp
@@ -22,6 +22,14 @@ struct ExtractRaw
                 expects_end.pop_back();
                 current_expect_end = expects_end.empty() ? 0 : expects_end.back();
             }
+            else if (current_expect_end == '"')
+            {
+                /// skip backslash
+                if (*pos == '\\' && pos + 1 < end && pos[1] == '"')
+                {
+                    pos++;
+                }
+            }
             else
             {
                 switch (*pos)
@@ -38,11 +46,6 @@ struct ExtractRaw
                         current_expect_end = '"';
                         expects_end.push_back(current_expect_end);
                         break;
-                    case '\\':
-                        /// skip backslash
-                        if (pos + 1 < end && pos[1] == '"')
-                            pos++;
-                        break;
                     default:
                         if (!current_expect_end && (*pos == ',' || *pos == '}'))
                         {
