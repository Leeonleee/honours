diff --git a/tests/queries/0_stateless/01020_function_array_compact.sql b/tests/queries/0_stateless/01020_function_array_compact.sql
index d4aaa4d3fca6..29adb007dc4d 100644
--- a/tests/queries/0_stateless/01020_function_array_compact.sql
+++ b/tests/queries/0_stateless/01020_function_array_compact.sql
@@ -7,5 +7,5 @@ select arrayCompact([1,1,2]);
 select arrayCompact([1,2,1]);
 select arrayCompact([2,1,1]);
 select arrayCompact([1,2,2,3,3,3,4,4,4,4,5,5,5,5,5]);
-SELECT arrayCompact(x->0, [NULL]);
-SELECT toString(arrayCompact(x->0, [NULL]));
+SELECT arrayCompact(arrayMap(x->0, [NULL]));
+SELECT toString(arrayCompact(arrayMap(x->0, [NULL])));
diff --git a/tests/queries/0_stateless/01025_array_compact_generic.reference b/tests/queries/0_stateless/01025_array_compact_generic.reference
index d95e269cd3ff..572c7ee140ce 100644
--- a/tests/queries/0_stateless/01025_array_compact_generic.reference
+++ b/tests/queries/0_stateless/01025_array_compact_generic.reference
@@ -15,3 +15,6 @@
 ['0','1','2']
 ['0','1','2']
 ['0','1','2']
+[(0,0),(3,1),(6,2),(9,0)]
+[('0','0'),('3','1'),('6','2'),('9','0')]
+[('0',0),('3',1),('6',2),('9',0)]
diff --git a/tests/queries/0_stateless/01025_array_compact_generic.sql b/tests/queries/0_stateless/01025_array_compact_generic.sql
index bea39bfbd44f..4446d10e9d48 100644
--- a/tests/queries/0_stateless/01025_array_compact_generic.sql
+++ b/tests/queries/0_stateless/01025_array_compact_generic.sql
@@ -5,4 +5,7 @@ SELECT arrayCompact([1, 1, NULL, NULL, 2, 2, 2]);
 SELECT arrayCompact([1, 1, NULL, NULL, nan, nan, 2, 2, 2]);
 SELECT arrayCompact(['hello', '', '', '', 'world', 'world']);
 SELECT arrayCompact([[[]], [[], []], [[], []], [[]]]);
-SELECT arrayCompact(x -> toString(intDiv(x, 3)), range(number)) FROM numbers(10);
+SELECT arrayCompact(arrayMap(x -> toString(intDiv(x, 3)), range(number))) FROM numbers(10);
+SELECT arrayCompact(x -> x.2, groupArray((number, intDiv(number, 3) % 3))) FROM numbers(10);
+SELECT arrayCompact(x -> x.2, groupArray((toString(number), toString(intDiv(number, 3) % 3)))) FROM numbers(10);
+SELECT arrayCompact(x -> x.2, groupArray((toString(number), intDiv(number, 3) % 3))) FROM numbers(10);
