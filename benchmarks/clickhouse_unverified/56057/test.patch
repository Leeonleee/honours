diff --git a/tests/queries/0_stateless/02902_add_scalar_in_all_case.reference b/tests/queries/0_stateless/02902_add_scalar_in_all_case.reference
new file mode 100644
index 000000000000..5caff40c4a0c
--- /dev/null
+++ b/tests/queries/0_stateless/02902_add_scalar_in_all_case.reference
@@ -0,0 +1,1 @@
+10000
diff --git a/tests/queries/0_stateless/02902_add_scalar_in_all_case.sql b/tests/queries/0_stateless/02902_add_scalar_in_all_case.sql
new file mode 100644
index 000000000000..047d2f4cdf8e
--- /dev/null
+++ b/tests/queries/0_stateless/02902_add_scalar_in_all_case.sql
@@ -0,0 +1,1 @@
+SELECT count() FROM format(TSVRaw, (SELECT cast(arrayStringConcat(groupArray('some long string'), '
'), 'LowCardinality(String)') FROM numbers(10000))) FORMAT TSVRaw;
