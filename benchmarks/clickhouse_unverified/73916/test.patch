diff --git a/tests/queries/0_stateless/03298_analyzer_group_by_all_fix.reference b/tests/queries/0_stateless/03298_analyzer_group_by_all_fix.reference
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/tests/queries/0_stateless/03298_analyzer_group_by_all_fix.sql b/tests/queries/0_stateless/03298_analyzer_group_by_all_fix.sql
new file mode 100644
index 000000000000..f226c4905bdd
--- /dev/null
+++ b/tests/queries/0_stateless/03298_analyzer_group_by_all_fix.sql
@@ -0,0 +1,7 @@
+CREATE TABLE users (uid Int16, name String, age Int16) ENGINE=Memory;
+
+INSERT INTO users VALUES (1231, 'John', 33);
+INSERT INTO users VALUES (6666, 'Ksenia', 48);
+INSERT INTO users VALUES (8888, 'Alice', 50);
+
+SELECT uid, count(*) over () FROM users group by ALL FORMAT Null;
