You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
Add full support of h3 indices
## Add full support of [h3](https://uber.github.io/h3/) spherical index

**Use case**
Spherical index is useful to make geospatial requests, e.g. to find all points inside a circle on sphere.

**Describe the solution you'd like**
Make it possible to call other `h3` functions in addition to `geoToH3`, first of all [grid traversal functions](https://uber.github.io/h3/#/documentation/api-reference/traversal), for instance `kRing` or `hexRange`. Then the circle search can be performed with a command

```sql
SELECT *
FROM some_table
WHERE some_table.h3index IN (
    kRing(
        geoToH3($lon, $lat, res),
        toInt(
            // the length of longest diagonal of a regular hexagon is twice the length of its edge
            ceil(radius / (2 * edgeLengthM(res)))
        )
    )
)
// Second part of the WHERE cause should be performed after previous one, I'm not sure that just AND is enough here
AND greatCircleDistance(some_table.lon, some_table.lat, $lon, $lat) <= radius
```

where `$lon` and `$lat` are coordinates of the circle center in degrees, `radius` is the circle radius in meters, `some_table.lon` and `some_table.lat` are coordinate columns of `some_table`, `some_table.h3index` is precomputed with `geoToH3(some_table.lon, some_table.lat, res)` function index column of `some_table` with resolution `res`, [`edgeLengthM`](https://uber.github.io/h3/#/documentation/api-reference/miscellaneous) returns hexagon edge length.

**Describe alternatives you've considered**
For now Clickhouse has limited support of spherical requests: one can find `h3` index value for some coordinates via `geoToH3`, and find distance between two coordinates on Earth surface via `greatCircleDistance`. User can perform all other logic of the request on the client side.

The another possibility is implementation of other kind of spherical index with new data type, see [`pgsphere` PostgreSQL extension](https://pgsphere.github.io) for example. Probably it is easier to make available other `h3` functions because it is already a part of Clickhouse codebase.
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
