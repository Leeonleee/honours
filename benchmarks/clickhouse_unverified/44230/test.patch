diff --git a/tests/queries/0_stateless/02500_analyzer_storage_view_crash_fix.reference b/tests/queries/0_stateless/02500_analyzer_storage_view_crash_fix.reference
new file mode 100644
index 000000000000..bfde072a7963
--- /dev/null
+++ b/tests/queries/0_stateless/02500_analyzer_storage_view_crash_fix.reference
@@ -0,0 +1,1 @@
+2	2
diff --git a/tests/queries/0_stateless/02500_analyzer_storage_view_crash_fix.sql b/tests/queries/0_stateless/02500_analyzer_storage_view_crash_fix.sql
new file mode 100644
index 000000000000..8f4d14b95cc0
--- /dev/null
+++ b/tests/queries/0_stateless/02500_analyzer_storage_view_crash_fix.sql
@@ -0,0 +1,19 @@
+SET allow_experimental_analyzer = 1;
+
+DROP TABLE IF EXISTS test_table;
+CREATE TABLE test_table
+(
+    f1 Int32,
+    f2 Int32,
+    pk Int32
+) ENGINE = MergeTree PARTITION BY pk ORDER BY f1;
+
+INSERT INTO test_table SELECT number, number, number FROM numbers(10);
+
+DROP VIEW IF EXISTS test_view;
+CREATE VIEW test_view AS SELECT f1, f2 FROM test_table WHERE pk = 2;
+
+SELECT * FROM test_view;
+
+DROP VIEW test_view;
+DROP TABLE test_table;
