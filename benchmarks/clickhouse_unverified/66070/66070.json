{
  "repo": "ClickHouse/ClickHouse",
  "pull_number": 66070,
  "instance_id": "ClickHouse__ClickHouse-66070",
  "issue_numbers": [
    "66049"
  ],
  "base_commit": "b96154e760a14aad570064dba97082afb123686f",
  "patch": "diff --git a/cmake/target.cmake b/cmake/target.cmake\nindex d6c497955f64..3d0ecd032f98 100644\n--- a/cmake/target.cmake\n+++ b/cmake/target.cmake\n@@ -84,5 +84,5 @@ if (CMAKE_CROSSCOMPILING)\n         message (FATAL_ERROR \"Trying to cross-compile to unsupported system: ${CMAKE_SYSTEM_NAME}!\")\n     endif ()\n \n-    message (STATUS \"Cross-compiling for target: ${CMAKE_CXX_COMPILE_TARGET}\")\n+    message (STATUS \"Cross-compiling for target: ${CMAKE_CXX_COMPILER_TARGET}\")\n endif ()\ndiff --git a/docker/reqgenerator.py b/docker/reqgenerator.py\nnew file mode 100644\nindex 000000000000..6c1d89ac0acb\n--- /dev/null\n+++ b/docker/reqgenerator.py\n@@ -0,0 +1,47 @@\n+#!/usr/bin/env python3\n+# To run this script you must install docker and piddeptree python package\n+#\n+\n+import subprocess\n+import os\n+import sys\n+\n+\n+def build_docker_deps(image_name, imagedir):\n+    cmd = f\"\"\"docker run  --entrypoint \"/bin/bash\" {image_name} -c \"pip install pipdeptree 2>/dev/null 1>/dev/null && pipdeptree --freeze  --warn silence | sed 's/ \\+//g' | sort | uniq\" > {imagedir}/requirements.txt\"\"\"\n+    subprocess.check_call(cmd, shell=True)\n+\n+\n+def check_docker_file_install_with_pip(filepath):\n+    image_name = None\n+    with open(filepath, \"r\") as f:\n+        for line in f:\n+            if \"docker build\" in line:\n+                arr = line.split(\" \")\n+                if len(arr) > 4:\n+                    image_name = arr[4]\n+            if \"pip3 install\" in line or \"pip install\" in line:\n+                return image_name, True\n+    return image_name, False\n+\n+\n+def process_affected_images(images_dir):\n+    for root, _dirs, files in os.walk(images_dir):\n+        for f in files:\n+            if f == \"Dockerfile\":\n+                docker_file_path = os.path.join(root, f)\n+                print(\"Checking image on path\", docker_file_path)\n+                image_name, has_pip = check_docker_file_install_with_pip(\n+                    docker_file_path\n+                )\n+                if has_pip:\n+                    print(\"Find pip in\", image_name)\n+                    try:\n+                        build_docker_deps(image_name, root)\n+                    except Exception as ex:\n+                        print(ex)\n+                else:\n+                    print(\"Pip not found in\", docker_file_path)\n+\n+\n+process_affected_images(sys.argv[1])\ndiff --git a/src/IO/BufferWithOwnMemory.h b/src/IO/BufferWithOwnMemory.h\nindex 0ec733f78404..da38bccdea17 100644\n--- a/src/IO/BufferWithOwnMemory.h\n+++ b/src/IO/BufferWithOwnMemory.h\n@@ -44,7 +44,7 @@ struct Memory : boost::noncopyable, Allocator\n     char * m_data = nullptr;\n     size_t alignment = 0;\n \n-    [[maybe_unused]] bool allow_gwp_asan_force_sample;\n+    [[maybe_unused]] bool allow_gwp_asan_force_sample{false};\n \n     Memory() = default;\n \n",
  "test_patch": "diff --git a/docker/test/fasttest/Dockerfile b/docker/test/fasttest/Dockerfile\nindex e0be261d5e8d..2512268be0fd 100644\n--- a/docker/test/fasttest/Dockerfile\n+++ b/docker/test/fasttest/Dockerfile\n@@ -19,10 +19,7 @@ RUN apt-get update \\\n         odbcinst \\\n         psmisc \\\n         python3 \\\n-        python3-lxml \\\n         python3-pip \\\n-        python3-requests \\\n-        python3-termcolor \\\n         unixodbc \\\n         pv \\\n         jq \\\n@@ -31,7 +28,8 @@ RUN apt-get update \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/* /var/cache/debconf /tmp/*\n \n-RUN pip3 install numpy==1.26.3 scipy==1.12.0 pandas==1.5.3 Jinja2==3.1.3\n+COPY requirements.txt /\n+RUN pip3 install --no-cache-dir -r /requirements.txt\n \n # This symlink is required by gcc to find the lld linker\n RUN ln -s /usr/bin/lld-${LLVM_VERSION} /usr/bin/ld.lld\n@@ -39,6 +37,10 @@ RUN ln -s /usr/bin/lld-${LLVM_VERSION} /usr/bin/ld.lld\n # https://salsa.debian.org/pkg-llvm-team/llvm-toolchain/-/commit/992e52c0b156a5ba9c6a8a54f8c4857ddd3d371d\n RUN sed -i '/_IMPORT_CHECK_FILES_FOR_\\(mlir-\\|llvm-bolt\\|merge-fdata\\|MLIR\\)/ {s|^|#|}' /usr/lib/llvm-${LLVM_VERSION}/lib/cmake/llvm/LLVMExports-*.cmake\n \n+# LLVM changes paths for compiler-rt libraries. For some reason clang-18.1.8 cannot catch up libraries from default install path.\n+# It's very dirty workaround, better to build compiler and LLVM ourself and use it. Details: https://github.com/llvm/llvm-project/issues/95792\n+RUN test ! -d /usr/lib/llvm-18/lib/clang/18/lib/x86_64-pc-linux-gnu || ln -s /usr/lib/llvm-18/lib/clang/18/lib/x86_64-pc-linux-gnu /usr/lib/llvm-18/lib/clang/18/lib/x86_64-unknown-linux-gnu\n+\n ARG CCACHE_VERSION=4.6.1\n RUN mkdir /tmp/ccache \\\n     && cd /tmp/ccache \\\ndiff --git a/docker/test/fasttest/requirements.txt b/docker/test/fasttest/requirements.txt\nnew file mode 100644\nindex 000000000000..993ea22e5ae4\n--- /dev/null\n+++ b/docker/test/fasttest/requirements.txt\n@@ -0,0 +1,41 @@\n+Jinja2==3.1.3\n+MarkupSafe==2.1.5\n+PyJWT==2.3.0\n+PyYAML==6.0.1\n+Pygments==2.11.2\n+SecretStorage==3.3.1\n+blinker==1.4\n+certifi==2020.6.20\n+chardet==4.0.0\n+cryptography==3.4.8\n+dbus-python==1.2.18\n+distro==1.7.0\n+httplib2==0.20.2\n+idna==3.3\n+importlib-metadata==4.6.4\n+jeepney==0.7.1\n+keyring==23.5.0\n+launchpadlib==1.10.16\n+lazr.restfulclient==0.14.4\n+lazr.uri==1.0.6\n+lxml==4.8.0\n+more-itertools==8.10.0\n+numpy==1.26.3\n+oauthlib==3.2.0\n+packaging==24.1\n+pandas==1.5.3\n+pip==24.1.1\n+pipdeptree==2.23.0\n+pyparsing==2.4.7\n+python-apt==2.4.0+ubuntu3\n+python-dateutil==2.9.0.post0\n+pytz==2024.1\n+requests==2.32.3\n+scipy==1.12.0\n+setuptools==59.6.0\n+six==1.16.0\n+termcolor==1.1.0\n+urllib3==1.26.5\n+wadllib==1.3.6\n+wheel==0.37.1\n+zipp==1.0.0\ndiff --git a/docker/test/fuzzer/Dockerfile b/docker/test/fuzzer/Dockerfile\nindex d3f78ac1d95b..e1fb09b8ed57 100644\n--- a/docker/test/fuzzer/Dockerfile\n+++ b/docker/test/fuzzer/Dockerfile\n@@ -31,7 +31,8 @@ RUN apt-get update \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/* /var/cache/debconf /tmp/*\n \n-RUN pip3 install Jinja2\n+COPY requirements.txt /\n+RUN pip3 install --no-cache-dir -r /requirements.txt\n \n COPY * /\n \ndiff --git a/docker/test/fuzzer/requirements.txt b/docker/test/fuzzer/requirements.txt\nnew file mode 100644\nindex 000000000000..3dce93e023b2\n--- /dev/null\n+++ b/docker/test/fuzzer/requirements.txt\n@@ -0,0 +1,27 @@\n+blinker==1.4\n+cryptography==3.4.8\n+dbus-python==1.2.18\n+distro==1.7.0\n+httplib2==0.20.2\n+importlib-metadata==4.6.4\n+jeepney==0.7.1\n+Jinja2==3.1.4\n+keyring==23.5.0\n+launchpadlib==1.10.16\n+lazr.restfulclient==0.14.4\n+lazr.uri==1.0.6\n+MarkupSafe==2.1.5\n+more-itertools==8.10.0\n+oauthlib==3.2.0\n+packaging==24.1\n+pip==24.1.1\n+pipdeptree==2.23.0\n+PyJWT==2.3.0\n+pyparsing==2.4.7\n+python-apt==2.4.0+ubuntu3\n+SecretStorage==3.3.1\n+setuptools==59.6.0\n+six==1.16.0\n+wadllib==1.3.6\n+wheel==0.37.1\n+zipp==1.0.0\ndiff --git a/docker/test/integration/base/Dockerfile b/docker/test/integration/base/Dockerfile\nindex 270b40e23a6d..469251f648c7 100644\n--- a/docker/test/integration/base/Dockerfile\n+++ b/docker/test/integration/base/Dockerfile\n@@ -33,7 +33,8 @@ RUN apt-get update \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/* /var/cache/debconf /tmp/*\n \n-RUN pip3 install pycurl\n+COPY requirements.txt /\n+RUN pip3 install --no-cache-dir -r requirements.txt && rm -rf /root/.cache/pip\n \n # Architecture of the image when BuildKit/buildx is used\n ARG TARGETARCH\ndiff --git a/docker/test/integration/base/requirements.txt b/docker/test/integration/base/requirements.txt\nnew file mode 100644\nindex 000000000000..d195d8deaf60\n--- /dev/null\n+++ b/docker/test/integration/base/requirements.txt\n@@ -0,0 +1,26 @@\n+blinker==1.4\n+cryptography==3.4.8\n+dbus-python==1.2.18\n+distro==1.7.0\n+httplib2==0.20.2\n+importlib-metadata==4.6.4\n+jeepney==0.7.1\n+keyring==23.5.0\n+launchpadlib==1.10.16\n+lazr.restfulclient==0.14.4\n+lazr.uri==1.0.6\n+more-itertools==8.10.0\n+oauthlib==3.2.0\n+packaging==24.1\n+pip==24.1.1\n+pipdeptree==2.23.0\n+pycurl==7.45.3\n+PyJWT==2.3.0\n+pyparsing==2.4.7\n+python-apt==2.4.0+ubuntu3\n+SecretStorage==3.3.1\n+setuptools==59.6.0\n+six==1.16.0\n+wadllib==1.3.6\n+wheel==0.37.1\n+zipp==1.0.0\ndiff --git a/docker/test/integration/resolver/Dockerfile b/docker/test/integration/resolver/Dockerfile\nindex 01b9b7776142..b35a7262651b 100644\n--- a/docker/test/integration/resolver/Dockerfile\n+++ b/docker/test/integration/resolver/Dockerfile\n@@ -2,4 +2,5 @@\n # Helper docker container to run python bottle apps\n \n FROM python:3\n-RUN python -m pip install bottle\n+COPY requirements.txt /\n+RUN python -m pip install --no-cache-dir -r requirements.txt\ndiff --git a/docker/test/integration/resolver/requirements.txt b/docker/test/integration/resolver/requirements.txt\nnew file mode 100644\nindex 000000000000..fbf852953296\n--- /dev/null\n+++ b/docker/test/integration/resolver/requirements.txt\n@@ -0,0 +1,6 @@\n+bottle==0.12.25\n+packaging==24.1\n+pip==23.2.1\n+pipdeptree==2.23.0\n+setuptools==69.0.3\n+wheel==0.42.0\ndiff --git a/docker/test/integration/runner/Dockerfile b/docker/test/integration/runner/Dockerfile\nindex 23d8a37d8226..d250b746e7d9 100644\n--- a/docker/test/integration/runner/Dockerfile\n+++ b/docker/test/integration/runner/Dockerfile\n@@ -26,7 +26,6 @@ RUN apt-get update \\\n     libicu-dev \\\n     bsdutils \\\n     curl \\\n-    python3-pika \\\n     liblua5.1-dev \\\n     luajit \\\n     libssl-dev \\\n@@ -61,49 +60,8 @@ RUN curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add - \\\n \n # kazoo 2.10.0 is broken\n # https://s3.amazonaws.com/clickhouse-test-reports/59337/524625a1d2f4cc608a3f1059e3df2c30f353a649/integration_tests__asan__analyzer__[5_6].html\n-RUN python3 -m pip install --no-cache-dir \\\n-    PyMySQL==1.1.0 \\\n-    asyncio==3.4.3 \\\n-    avro==1.10.2 \\\n-    azure-storage-blob==12.19.0 \\\n-    boto3==1.34.24 \\\n-    cassandra-driver==3.29.0 \\\n-    confluent-kafka==2.3.0 \\\n-    delta-spark==2.3.0 \\\n-    dict2xml==1.7.4 \\\n-    dicttoxml==1.7.16 \\\n-    docker==6.1.3 \\\n-    docker-compose==1.29.2 \\\n-    grpcio==1.60.0 \\\n-    grpcio-tools==1.60.0 \\\n-    kafka-python==2.0.2 \\\n-    lz4==4.3.3 \\\n-    minio==7.2.3 \\\n-    nats-py==2.6.0 \\\n-    protobuf==4.25.2 \\\n-    kazoo==2.9.0 \\\n-    psycopg2-binary==2.9.6 \\\n-    pyhdfs==0.3.1 \\\n-    pymongo==3.11.0 \\\n-    pyspark==3.3.2 \\\n-    pytest==7.4.4 \\\n-    pytest-order==1.0.0 \\\n-    pytest-random==0.2 \\\n-    pytest-repeat==0.9.3 \\\n-    pytest-timeout==2.2.0 \\\n-    pytest-xdist==3.5.0 \\\n-    pytest-reportlog==0.4.0 \\\n-    pytz==2023.3.post1 \\\n-    pyyaml==5.3.1 \\\n-    redis==5.0.1 \\\n-    requests-kerberos==0.14.0 \\\n-    tzlocal==2.1 \\\n-    retry==0.9.2 \\\n-    bs4==0.0.2 \\\n-    lxml==5.1.0 \\\n-    urllib3==2.0.7 \\\n-    jwcrypto==1.5.6\n-# bs4, lxml are for cloud tests, do not delete\n+COPY requirements.txt /\n+RUN python3 -m pip install --no-cache-dir -r requirements.txt\n \n # Hudi supports only spark 3.3.*, not 3.4\n RUN curl -fsSL -O https://archive.apache.org/dist/spark/spark-3.3.2/spark-3.3.2-bin-hadoop3.tgz \\\ndiff --git a/docker/test/integration/runner/requirements.txt b/docker/test/integration/runner/requirements.txt\nnew file mode 100644\nindex 000000000000..8a77d8abf773\n--- /dev/null\n+++ b/docker/test/integration/runner/requirements.txt\n@@ -0,0 +1,113 @@\n+PyHDFS==0.3.1\n+PyJWT==2.3.0\n+PyMySQL==1.1.0\n+PyNaCl==1.5.0\n+PyYAML==5.3.1\n+SecretStorage==3.3.1\n+argon2-cffi-bindings==21.2.0\n+argon2-cffi==23.1.0\n+async-timeout==4.0.3\n+asyncio==3.4.3\n+attrs==23.2.0\n+avro==1.10.2\n+azure-core==1.30.1\n+azure-storage-blob==12.19.0\n+bcrypt==4.1.3\n+beautifulsoup4==4.12.3\n+blinker==1.4\n+boto3==1.34.24\n+botocore==1.34.101\n+bs4==0.0.2\n+cassandra-driver==3.29.0\n+certifi==2024.2.2\n+cffi==1.16.0\n+charset-normalizer==3.3.2\n+click==8.1.7\n+confluent-kafka==2.3.0\n+cryptography==3.4.8\n+dbus-python==1.2.18\n+decorator==5.1.1\n+delta-spark==2.3.0\n+dict2xml==1.7.4\n+dicttoxml==1.7.16\n+distro-info==1.1+ubuntu0.2\n+distro==1.7.0\n+docker-compose==1.29.2\n+docker==6.1.3\n+dockerpty==0.4.1\n+docopt==0.6.2\n+exceptiongroup==1.2.1\n+execnet==2.1.1\n+geomet==0.2.1.post1\n+grpcio-tools==1.60.0\n+grpcio==1.60.0\n+gssapi==1.8.3\n+httplib2==0.20.2\n+idna==3.7\n+importlib-metadata==4.6.4\n+iniconfig==2.0.0\n+isodate==0.6.1\n+jeepney==0.7.1\n+jmespath==1.0.1\n+jsonschema==3.2.0\n+jwcrypto==1.5.6\n+kafka-python==2.0.2\n+kazoo==2.9.0\n+keyring==23.5.0\n+krb5==0.5.1\n+launchpadlib==1.10.16\n+lazr.restfulclient==0.14.4\n+lazr.uri==1.0.6\n+lxml==5.1.0\n+lz4==4.3.3\n+minio==7.2.3\n+more-itertools==8.10.0\n+nats-py==2.6.0\n+oauthlib==3.2.0\n+packaging==24.0\n+paramiko==3.4.0\n+pika==1.2.0\n+pip==24.1.1\n+pipdeptree==2.23.0\n+pluggy==1.5.0\n+protobuf==4.25.2\n+psycopg2-binary==2.9.6\n+py4j==0.10.9.5\n+py==1.11.0\n+pycparser==2.22\n+pycryptodome==3.20.0\n+pymongo==3.11.0\n+pyparsing==2.4.7\n+pyrsistent==0.20.0\n+pyspark==3.3.2\n+pyspnego==0.10.2\n+pytest-order==1.0.0\n+pytest-random==0.2\n+pytest-repeat==0.9.3\n+pytest-reportlog==0.4.0\n+pytest-timeout==2.2.0\n+pytest-xdist==3.5.0\n+pytest==7.4.4\n+python-apt==2.4.0+ubuntu3\n+python-dateutil==2.9.0.post0\n+python-dotenv==0.21.1\n+pytz==2023.3.post1\n+redis==5.0.1\n+requests-kerberos==0.14.0\n+requests==2.31.0\n+retry==0.9.2\n+s3transfer==0.10.1\n+setuptools==59.6.0\n+simplejson==3.19.2\n+six==1.16.0\n+soupsieve==2.5\n+texttable==1.7.0\n+tomli==2.0.1\n+typing_extensions==4.11.0\n+tzlocal==2.1\n+unattended-upgrades==0.1\n+urllib3==2.0.7\n+wadllib==1.3.6\n+websocket-client==0.59.0\n+wheel==0.37.1\n+zipp==1.0.0\ndiff --git a/docker/test/libfuzzer/Dockerfile b/docker/test/libfuzzer/Dockerfile\nindex c9802a0e44e7..e6eb2ae336e6 100644\n--- a/docker/test/libfuzzer/Dockerfile\n+++ b/docker/test/libfuzzer/Dockerfile\n@@ -1,3 +1,4 @@\n+# docker build -t clickhouse/libfuzzer .\n ARG FROM_TAG=latest\n FROM clickhouse/test-base:$FROM_TAG\n \n@@ -29,7 +30,8 @@ RUN apt-get update \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/* /var/cache/debconf /tmp/*\n \n-RUN pip3 install Jinja2\n+COPY requirements.txt /\n+RUN pip3 install --no-cache-dir -r /requirements.txt\n \n COPY * /\n \ndiff --git a/docker/test/libfuzzer/requirements.txt b/docker/test/libfuzzer/requirements.txt\nnew file mode 100644\nindex 000000000000..3dce93e023b2\n--- /dev/null\n+++ b/docker/test/libfuzzer/requirements.txt\n@@ -0,0 +1,27 @@\n+blinker==1.4\n+cryptography==3.4.8\n+dbus-python==1.2.18\n+distro==1.7.0\n+httplib2==0.20.2\n+importlib-metadata==4.6.4\n+jeepney==0.7.1\n+Jinja2==3.1.4\n+keyring==23.5.0\n+launchpadlib==1.10.16\n+lazr.restfulclient==0.14.4\n+lazr.uri==1.0.6\n+MarkupSafe==2.1.5\n+more-itertools==8.10.0\n+oauthlib==3.2.0\n+packaging==24.1\n+pip==24.1.1\n+pipdeptree==2.23.0\n+PyJWT==2.3.0\n+pyparsing==2.4.7\n+python-apt==2.4.0+ubuntu3\n+SecretStorage==3.3.1\n+setuptools==59.6.0\n+six==1.16.0\n+wadllib==1.3.6\n+wheel==0.37.1\n+zipp==1.0.0\ndiff --git a/docker/test/performance-comparison/Dockerfile b/docker/test/performance-comparison/Dockerfile\nindex 1835900b316c..c68a39f6f70e 100644\n--- a/docker/test/performance-comparison/Dockerfile\n+++ b/docker/test/performance-comparison/Dockerfile\n@@ -23,7 +23,6 @@ RUN apt-get update \\\n             python3 \\\n             python3-dev \\\n             python3-pip \\\n-            python3-setuptools \\\n             rsync \\\n             tree \\\n             tzdata \\\n@@ -33,12 +32,14 @@ RUN apt-get update \\\n             cargo \\\n             ripgrep \\\n             zstd \\\n-    && pip3 --no-cache-dir install 'clickhouse-driver==0.2.1' scipy \\\n     && apt-get purge --yes python3-dev g++ \\\n     && apt-get autoremove --yes \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/* /var/cache/debconf /tmp/*\n \n+COPY requirements.txt /\n+RUN pip3 --no-cache-dir install -r requirements.txt\n+\n COPY run.sh /\n \n CMD [\"bash\", \"/run.sh\"]\ndiff --git a/docker/test/performance-comparison/requirements.txt b/docker/test/performance-comparison/requirements.txt\nnew file mode 100644\nindex 000000000000..932527cc0226\n--- /dev/null\n+++ b/docker/test/performance-comparison/requirements.txt\n@@ -0,0 +1,32 @@\n+blinker==1.4\n+clickhouse-driver==0.2.7\n+cryptography==3.4.8\n+dbus-python==1.2.18\n+distro==1.7.0\n+httplib2==0.20.2\n+importlib-metadata==4.6.4\n+jeepney==0.7.1\n+keyring==23.5.0\n+launchpadlib==1.10.16\n+lazr.restfulclient==0.14.4\n+lazr.uri==1.0.6\n+more-itertools==8.10.0\n+numpy==1.26.3\n+oauthlib==3.2.0\n+packaging==24.1\n+pip==24.1.1\n+pipdeptree==2.23.0\n+Pygments==2.11.2\n+PyJWT==2.3.0\n+pyparsing==2.4.7\n+python-apt==2.4.0+ubuntu3\n+pytz==2023.4\n+PyYAML==6.0.1\n+scipy==1.12.0\n+SecretStorage==3.3.1\n+setuptools==59.6.0\n+six==1.16.0\n+tzlocal==2.1\n+wadllib==1.3.6\n+wheel==0.37.1\n+zipp==1.0.0\ndiff --git a/docker/test/sqllogic/Dockerfile b/docker/test/sqllogic/Dockerfile\nindex 1ea1e52e6fab..1425e12cd848 100644\n--- a/docker/test/sqllogic/Dockerfile\n+++ b/docker/test/sqllogic/Dockerfile\n@@ -18,11 +18,8 @@ RUN apt-get update --yes \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/* /var/cache/debconf /tmp/*\n \n-RUN pip3 install \\\n-    numpy \\\n-    pyodbc \\\n-    deepdiff \\\n-    sqlglot\n+COPY requirements.txt /\n+RUN pip3 install --no-cache-dir -r /requirements.txt\n \n ARG odbc_driver_url=\"https://github.com/ClickHouse/clickhouse-odbc/releases/download/v1.1.6.20200320/clickhouse-odbc-1.1.6-Linux.tar.gz\"\n \ndiff --git a/docker/test/sqllogic/requirements.txt b/docker/test/sqllogic/requirements.txt\nnew file mode 100644\nindex 000000000000..abc0a3686590\n--- /dev/null\n+++ b/docker/test/sqllogic/requirements.txt\n@@ -0,0 +1,30 @@\n+blinker==1.4\n+cryptography==3.4.8\n+dbus-python==1.2.18\n+deepdiff==7.0.1\n+distro==1.7.0\n+httplib2==0.20.2\n+importlib-metadata==4.6.4\n+jeepney==0.7.1\n+keyring==23.5.0\n+launchpadlib==1.10.16\n+lazr.restfulclient==0.14.4\n+lazr.uri==1.0.6\n+more-itertools==8.10.0\n+numpy==1.26.4\n+oauthlib==3.2.0\n+ordered-set==4.1.0\n+packaging==24.1\n+pip==24.1.1\n+pipdeptree==2.23.0\n+PyJWT==2.3.0\n+pyodbc==5.1.0\n+pyparsing==2.4.7\n+python-apt==2.4.0+ubuntu3\n+SecretStorage==3.3.1\n+setuptools==59.6.0\n+six==1.16.0\n+sqlglot==23.16.0\n+wadllib==1.3.6\n+wheel==0.37.1\n+zipp==1.0.0\ndiff --git a/docker/test/sqltest/Dockerfile b/docker/test/sqltest/Dockerfile\nindex 7f59f65761fd..71d915b0c7af 100644\n--- a/docker/test/sqltest/Dockerfile\n+++ b/docker/test/sqltest/Dockerfile\n@@ -14,9 +14,8 @@ RUN apt-get update --yes \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/* /var/cache/debconf /tmp/*\n \n-RUN pip3 install \\\n-    pyyaml \\\n-    clickhouse-driver\n+COPY requirements.txt /\n+RUN pip3 install --no-cache-dir -r /requirements.txt\n \n ARG sqltest_repo=\"https://github.com/elliotchance/sqltest/\"\n \ndiff --git a/docker/test/sqltest/requirements.txt b/docker/test/sqltest/requirements.txt\nnew file mode 100644\nindex 000000000000..4a0ae3edbacd\n--- /dev/null\n+++ b/docker/test/sqltest/requirements.txt\n@@ -0,0 +1,29 @@\n+blinker==1.4\n+clickhouse-driver==0.2.7\n+cryptography==3.4.8\n+dbus-python==1.2.18\n+distro==1.7.0\n+httplib2==0.20.2\n+importlib-metadata==4.6.4\n+jeepney==0.7.1\n+keyring==23.5.0\n+launchpadlib==1.10.16\n+lazr.restfulclient==0.14.4\n+lazr.uri==1.0.6\n+more-itertools==8.10.0\n+oauthlib==3.2.0\n+packaging==24.1\n+pip==24.1.1\n+pipdeptree==2.23.0\n+PyJWT==2.3.0\n+pyparsing==2.4.7\n+python-apt==2.4.0+ubuntu3\n+pytz==2024.1\n+PyYAML==6.0.1\n+SecretStorage==3.3.1\n+setuptools==59.6.0\n+six==1.16.0\n+tzlocal==5.2\n+wadllib==1.3.6\n+wheel==0.37.1\n+zipp==1.0.0\ndiff --git a/docker/test/stateful/Dockerfile b/docker/test/stateful/Dockerfile\nindex 355e70f180e9..0daf88cad7ee 100644\n--- a/docker/test/stateful/Dockerfile\n+++ b/docker/test/stateful/Dockerfile\n@@ -6,7 +6,6 @@ FROM clickhouse/stateless-test:$FROM_TAG\n RUN apt-get update -y \\\n     && env DEBIAN_FRONTEND=noninteractive \\\n         apt-get install --yes --no-install-recommends \\\n-        python3-requests \\\n         nodejs \\\n         npm \\\n     && apt-get clean \\\ndiff --git a/docker/test/stateless/Dockerfile b/docker/test/stateless/Dockerfile\nindex c3d80a7334b1..5a655a3fd2b2 100644\n--- a/docker/test/stateless/Dockerfile\n+++ b/docker/test/stateless/Dockerfile\n@@ -25,10 +25,7 @@ RUN apt-get update -y \\\n             openssl \\\n             postgresql-client \\\n             python3 \\\n-            python3-lxml \\\n             python3-pip \\\n-            python3-requests \\\n-            python3-termcolor \\\n             qemu-user-static \\\n             sqlite3 \\\n             sudo \\\n@@ -51,7 +48,8 @@ RUN curl -OL https://github.com/protocolbuffers/protobuf/releases/download/v${PR\n     && unzip protoc-${PROTOC_VERSION}-linux-x86_64.zip -d /usr/local \\\n     && rm protoc-${PROTOC_VERSION}-linux-x86_64.zip\n \n-RUN pip3 install numpy==1.26.3 scipy==1.12.0 pandas==1.5.3 Jinja2==3.1.3 pyarrow==15.0.0\n+COPY requirements.txt /\n+RUN pip3 install --no-cache-dir -r /requirements.txt\n \n RUN mkdir -p /tmp/clickhouse-odbc-tmp \\\n   && cd /tmp/clickhouse-odbc-tmp \\\ndiff --git a/docker/test/stateless/requirements.txt b/docker/test/stateless/requirements.txt\nnew file mode 100644\nindex 000000000000..3284107e24ee\n--- /dev/null\n+++ b/docker/test/stateless/requirements.txt\n@@ -0,0 +1,51 @@\n+awscli==1.22.34\n+blinker==1.4\n+botocore==1.23.34\n+certifi==2020.6.20\n+chardet==4.0.0\n+colorama==0.4.4\n+cryptography==3.4.8\n+dbus-python==1.2.18\n+distro==1.7.0\n+docutils==0.17.1\n+gyp==0.1\n+httplib2==0.20.2\n+idna==3.3\n+importlib-metadata==4.6.4\n+jeepney==0.7.1\n+Jinja2==3.1.3\n+jmespath==0.10.0\n+keyring==23.5.0\n+launchpadlib==1.10.16\n+lazr.restfulclient==0.14.4\n+lazr.uri==1.0.6\n+lxml==4.8.0\n+MarkupSafe==2.1.5\n+more-itertools==8.10.0\n+numpy==1.26.3\n+oauthlib==3.2.0\n+packaging==24.1\n+pandas==1.5.3\n+pip==24.1.1\n+pipdeptree==2.23.0\n+pyarrow==15.0.0\n+pyasn1==0.4.8\n+PyJWT==2.3.0\n+pyparsing==2.4.7\n+python-apt==2.4.0+ubuntu3\n+python-dateutil==2.8.1\n+pytz==2024.1\n+PyYAML==6.0.1\n+requests==2.32.3\n+roman==3.3\n+rsa==4.8\n+s3transfer==0.5.0\n+scipy==1.12.0\n+SecretStorage==3.3.1\n+setuptools==59.6.0\n+six==1.16.0\n+termcolor==1.1.0\n+urllib3==1.26.5\n+wadllib==1.3.6\n+wheel==0.37.1\n+zipp==1.0.0\ndiff --git a/docker/test/style/Dockerfile b/docker/test/style/Dockerfile\nindex 7cd712b73f6d..cdc1d1fa095d 100644\n--- a/docker/test/style/Dockerfile\n+++ b/docker/test/style/Dockerfile\n@@ -23,22 +23,8 @@ RUN apt-get update && env DEBIAN_FRONTEND=noninteractive apt-get install --yes \\\n     && rm -rf /var/lib/apt/lists/* /var/cache/debconf /tmp/*\n \n # python-magic is the same version as in Ubuntu 22.04\n-RUN pip3 install \\\n-        PyGithub \\\n-        black==23.12.0 \\\n-        boto3 \\\n-        codespell==2.2.1 \\\n-        mypy==1.8.0 \\\n-        pylint==3.1.0 \\\n-        python-magic==0.4.24 \\\n-        flake8==4.0.1 \\\n-        requests \\\n-        thefuzz \\\n-        tqdm==4.66.4 \\\n-        types-requests \\\n-        unidiff \\\n-        jwt \\\n-    && rm -rf /root/.cache/pip\n+COPY requirements.txt /\n+RUN pip3 install --no-cache-dir -r requirements.txt\n \n RUN echo \"en_US.UTF-8 UTF-8\" > /etc/locale.gen && locale-gen en_US.UTF-8\n ENV LC_ALL en_US.UTF-8\ndiff --git a/docker/test/style/requirements.txt b/docker/test/style/requirements.txt\nnew file mode 100644\nindex 000000000000..bb0cd55dd1a9\n--- /dev/null\n+++ b/docker/test/style/requirements.txt\n@@ -0,0 +1,58 @@\n+aiohttp==3.9.5\n+aiosignal==1.3.1\n+astroid==3.1.0\n+async-timeout==4.0.3\n+attrs==23.2.0\n+black==23.12.0\n+boto3==1.34.131\n+botocore==1.34.131\n+certifi==2024.6.2\n+cffi==1.16.0\n+charset-normalizer==3.3.2\n+click==8.1.7\n+codespell==2.2.1\n+cryptography==42.0.8\n+Deprecated==1.2.14\n+dill==0.3.8\n+flake8==4.0.1\n+frozenlist==1.4.1\n+idna==3.7\n+isort==5.13.2\n+jmespath==1.0.1\n+jwt==1.3.1\n+mccabe==0.6.1\n+multidict==6.0.5\n+mypy==1.8.0\n+mypy-extensions==1.0.0\n+packaging==24.1\n+pathspec==0.9.0\n+pip==24.1.1\n+pipdeptree==2.23.0\n+platformdirs==4.2.2\n+pycodestyle==2.8.0\n+pycparser==2.22\n+pyflakes==2.4.0\n+PyGithub==2.3.0\n+PyJWT==2.8.0\n+pylint==3.1.0\n+PyNaCl==1.5.0\n+python-dateutil==2.9.0.post0\n+python-magic==0.4.24\n+PyYAML==6.0.1\n+rapidfuzz==3.9.3\n+requests==2.32.3\n+s3transfer==0.10.1\n+setuptools==59.6.0\n+six==1.16.0\n+thefuzz==0.22.1\n+tomli==2.0.1\n+tomlkit==0.12.5\n+tqdm==4.66.4\n+types-requests==2.32.0.20240622\n+typing_extensions==4.12.2\n+unidiff==0.7.5\n+urllib3==2.2.2\n+wheel==0.37.1\n+wrapt==1.16.0\n+yamllint==1.26.3\n+yarl==1.9.4\n",
  "problem_statement": "Sanitizers builds are broken\nhttps://github.com/ClickHouse/ClickHouse/actions/runs/9741485777/job/26881454138?pr=65186\r\n\r\n```\r\nJul 02 16:51:35 [3090/13667] Linking CXX executable contrib/google-protobuf-cmake/protoc\r\nJul 02 16:51:35 FAILED: contrib/google-protobuf-cmake/protoc \r\nJul 02 16:51:35 : && /usr/bin/clang++-18 --target=x86_64-linux-gnu --sysroot=/build/cmake/linux/../../contrib/sysroot/linux-x86_64/x86_64-linux-gnu/libc --gcc-toolchain=/build/cmake/linux/../../contrib/sysroot/linux-x86_64  -g -fno-omit-frame-pointer -DSANITIZER -fsanitize=address -fsanitize-address-use-after-scope -fdiagnostics-color=always -Xclang -fuse-ctor-homing -Wno-enum-constexpr-conversion -fsized-deallocation  -gdwarf-aranges -pipe -mssse3 -msse4.1 -msse4.2 -mpclmul -mpopcnt -fasynchronous-unwind-tables -ffile-prefix-map=/build=. -ftime-trace -falign-functions=32 -mbranches-within-32B-boundaries -ffp-contract=off  -fdiagnostics-absolute-paths -fstrict-vtable-pointers -w -ffunction-sections -fdata-sections -O2 -g -DNDEBUG -O3 -g --gcc-toolchain=/build/cmake/linux/../../contrib/sysroot/linux-x86_64 --ld-path=/usr/bin/ld.lld-18 -Wl,--no-export-dynamic -Wl,--gc-sections -Wl,--gdb-index -Wl,--build-id=sha1 -Wl,--time-trace contrib/google-protobuf-cmake/CMakeFiles/protoc.dir/__/google-protobuf/src/google/protobuf/compiler/main.cc.o -o contrib/google-protobuf-cmake/protoc  contrib/google-protobuf-cmake/lib_libprotoc.a  contrib/google-protobuf-cmake/lib_libprotobuf.a  -lpthread  contrib/google-protobuf-cmake/libutf8_validity.a  contrib/abseil-cpp-cmake/libabsl_base.a  contrib/abseil-cpp-cmake/libabsl_cord.a  contrib/abseil-cpp-cmake/libabsl_die_if_null.a  contrib/abseil-cpp-cmake/libabsl_hash.a  contrib/abseil-cpp-cmake/libabsl_log_initialize.a  contrib/abseil-cpp-cmake/libabsl_log_severity.a  contrib/abseil-cpp-cmake/libabsl_status.a  contrib/abseil-cpp-cmake/libabsl_statusor.a  contrib/abseil-cpp-cmake/libabsl_strings.a  contrib/abseil-cpp-cmake/libabsl_synchronization.a  contrib/abseil-cpp-cmake/libabsl_time.a  contrib/zlib-ng-cmake/lib_zlib.a  contrib/abseil-cpp-cmake/libabsl_log_internal_check_op.a  contrib/abseil-cpp-cmake/libabsl_leak_check.a  contrib/abseil-cpp-cmake/libabsl_log_internal_conditions.a  contrib/abseil-cpp-cmake/libabsl_log_internal_message.a  contrib/abseil-cpp-cmake/libabsl_log_internal_nullguard.a  contrib/abseil-cpp-cmake/libabsl_examine_stack.a  contrib/abseil-cpp-cmake/libabsl_log_internal_format.a  contrib/abseil-cpp-cmake/libabsl_log_internal_proto.a  contrib/abseil-cpp-cmake/libabsl_log_internal_log_sink_set.a  contrib/abseil-cpp-cmake/libabsl_log_sink.a  contrib/abseil-cpp-cmake/libabsl_log_entry.a  contrib/abseil-cpp-cmake/libabsl_flags_internal.a  contrib/abseil-cpp-cmake/libabsl_flags_marshalling.a  contrib/abseil-cpp-cmake/libabsl_flags_reflection.a  contrib/abseil-cpp-cmake/libabsl_flags_config.a  contrib/abseil-cpp-cmake/libabsl_flags_program_name.a  contrib/abseil-cpp-cmake/libabsl_flags_private_handle_accessor.a  contrib/abseil-cpp-cmake/libabsl_flags_commandlineflag.a  contrib/abseil-cpp-cmake/libabsl_flags_commandlineflag_internal.a  contrib/abseil-cpp-cmake/libabsl_log_globals.a  contrib/abseil-cpp-cmake/libabsl_vlog_config_internal.a  contrib/abseil-cpp-cmake/libabsl_log_internal_fnmatch.a  contrib/abseil-cpp-cmake/libabsl_log_internal_globals.a  contrib/abseil-cpp-cmake/libabsl_raw_hash_set.a  contrib/abseil-cpp-cmake/libabsl_hash.a  contrib/abseil-cpp-cmake/libabsl_city.a  contrib/abseil-cpp-cmake/libabsl_low_level_hash.a  contrib/abseil-cpp-cmake/libabsl_hashtablez_sampler.a  contrib/abseil-cpp-cmake/libabsl_status.a  contrib/abseil-cpp-cmake/libabsl_cord.a  contrib/abseil-cpp-cmake/libabsl_cordz_info.a  contrib/abseil-cpp-cmake/libabsl_cord_internal.a  contrib/abseil-cpp-cmake/libabsl_cordz_functions.a  contrib/abseil-cpp-cmake/libabsl_exponential_biased.a  contrib/abseil-cpp-cmake/libabsl_cordz_handle.a  contrib/abseil-cpp-cmake/libabsl_crc_cord_state.a  contrib/abseil-cpp-cmake/libabsl_crc32c.a  contrib/abseil-cpp-cmake/libabsl_crc_internal.a  contrib/abseil-cpp-cmake/libabsl_crc_cpu_detect.a  contrib/abseil-cpp-cmake/libabsl_bad_optional_access.a  contrib/abseil-cpp-cmake/libabsl_strerror.a  contrib/abseil-cpp-cmake/libabsl_str_format_internal.a  contrib/abseil-cpp-cmake/libabsl_synchronization.a  contrib/abseil-cpp-cmake/libabsl_stacktrace.a  contrib/abseil-cpp-cmake/libabsl_symbolize.a  contrib/abseil-cpp-cmake/libabsl_debugging_internal.a  contrib/abseil-cpp-cmake/libabsl_demangle_internal.a  contrib/abseil-cpp-cmake/libabsl_graphcycles_internal.a  contrib/abseil-cpp-cmake/libabsl_kernel_timeout_internal.a  contrib/abseil-cpp-cmake/libabsl_malloc_internal.a  contrib/abseil-cpp-cmake/libabsl_time.a  contrib/abseil-cpp-cmake/libabsl_strings.a  contrib/abseil-cpp-cmake/libabsl_strings_internal.a  contrib/abseil-cpp-cmake/libabsl_string_view.a  contrib/abseil-cpp-cmake/libabsl_base.a  contrib/abseil-cpp-cmake/libabsl_spinlock_wait.a  contrib/abseil-cpp-cmake/libabsl_throw_delegate.a  contrib/abseil-cpp-cmake/libabsl_int128.a  contrib/abseil-cpp-cmake/libabsl_civil_time.a  contrib/abseil-cpp-cmake/libabsl_time_zone.a  contrib/abseil-cpp-cmake/libabsl_bad_variant_access.a  contrib/abseil-cpp-cmake/libabsl_raw_logging_internal.a  contrib/abseil-cpp-cmake/libabsl_log_severity.a  -Wl,--start-group  contrib/libcxx-cmake/libcxx.a  contrib/libcxxabi-cmake/libcxxabi.a  contrib/libunwind-cmake/libunwind.a  base/glibc-compatibility/libglibc-compatibility.a  base/glibc-compatibility/memcpy/libmemcpy.a  -Wl,--end-group  -nodefaultlibs -lgcc   -lc -lm -lrt -lpthread -ldl && :\r\nJul 02 16:51:35 ld.lld-18: error: cannot open /usr/lib/llvm-18/lib/clang/18/lib/linux/libclang_rt.asan_static-x86_64.a: No such file or directory\r\nJul 02 16:51:35 ld.lld-18: error: cannot open /usr/lib/llvm-18/lib/clang/18/lib/linux/libclang_rt.asan-x86_64.a: No such file or directory\r\nJul 02 16:51:35 ld.lld-18: error: cannot open /usr/lib/llvm-18/lib/clang/18/lib/linux/libclang_rt.asan_cxx-x86_64.a: No such file or directory\r\nJul 02 16:51:35 clang++-18: error: linker command failed with exit code 1 (use -v to see invocation)\r\n\r\n```\r\n\r\nIn docker container:\r\n```\r\nfind /usr/lib -name \"libclang_rt.asan*.a\"\r\n\r\n/usr/lib/llvm-18/lib/clang/18/lib/x86_64-pc-linux-gnu/libclang_rt.asan-preinit.a\r\n/usr/lib/llvm-18/lib/clang/18/lib/x86_64-pc-linux-gnu/libclang_rt.asan.a\r\n/usr/lib/llvm-18/lib/clang/18/lib/x86_64-pc-linux-gnu/libclang_rt.asan_cxx.a\r\n/usr/lib/llvm-18/lib/clang/18/lib/x86_64-pc-linux-gnu/libclang_rt.asan_static.a\r\n/usr/lib/llvm-18/lib/clang/18/lib/i386-pc-linux-gnu/libclang_rt.asan-preinit.a\r\n/usr/lib/llvm-18/lib/clang/18/lib/i386-pc-linux-gnu/libclang_rt.asan.a\r\n/usr/lib/llvm-18/lib/clang/18/lib/i386-pc-linux-gnu/libclang_rt.asan_cxx.a\r\n/usr/lib/llvm-18/lib/clang/18/lib/i386-pc-linux-gnu/libclang_rt.asan_static.a\r\n```\n",
  "hints_text": "I guess this is what happened - you PR (https://github.com/ClickHouse/ClickHouse/pull/65186) updated the `fasttest/run.sh`, which should lead to updating the docker image, which updates the clang compiler, which by some reason, moved rt libraries under `linux`:\r\n\r\n```\r\n$ docker run --rm -it clickhouse/binary-builder clang-18 --version\r\nUbuntu clang version 18.1.6 (++20240517093811+3d0752b9492e-1~exp1~20240517213934.128)\r\nTarget: x86_64-pc-linux-gnu\r\nThread model: posix\r\nInstalledDir: /usr/bin\r\n\r\n# your pr!\r\n$ docker run --rm -it clickhouse/binary-builder:9e5aa3a43749 clang-18 --version\r\nUbuntu clang version 18.1.8 (++20240615103753+3b5b5c1ec4a3-1~exp1~20240615223858.136)\r\nTarget: x86_64-pc-linux-gnu\r\nThread model: posix\r\nInstalledDir: /usr/bin\r\n```\r\n\r\nI've seen this quite a few times, that clang/llvm changes their paths in the packages, and usually I'm just adding some quirks into the Dockerfile:\r\n\r\n```\r\n# This symlink is required by gcc to find the lld linker\r\nRUN ln -s /usr/bin/lld-${LLVM_VERSION} /usr/bin/ld.lld\r\n# FIXME: workaround for \"The imported target \"merge-fdata\" references the file\" error\r\n# https://salsa.debian.org/pkg-llvm-team/llvm-toolchain/-/commit/992e52c0b156a5ba9c6a8a54f8c4857ddd3d371d\r\nRUN sed -i '/_IMPORT_CHECK_FILES_FOR_\\(mlir-\\|llvm-bolt\\|merge-fdata\\|MLIR\\)/ {s|^|#|}' /usr/lib/llvm-${LLVM_VERSION}/lib/cmake/llvm/LLVMExports-*.cmake\r\n```\r\n\r\nBut actually this will not help, the problem is `ccache` I guess\r\n\r\nSo I would rather recommend you to **pin the compiler version for now** (and actually I want to do this long time ago, since this implicit updates is odd)\nFWIW clang-18.1.8 changes the location of runtime libraries:\r\n\r\n```\r\n# 18.1.8\r\nroot@a6a45ab18ca8:/workdir# clang-18 -Wl,--verbose -fsanitize=address |& grep libclang_rt |& grep succ\r\nattempt to open /usr/lib/llvm-18/lib/clang/18/lib/x86_64-pc-linux-gnu/libclang_rt.asan_static.a succeeded\r\nattempt to open /usr/lib/llvm-18/lib/clang/18/lib/x86_64-pc-linux-gnu/libclang_rt.asan.a succeeded\r\n\r\n# 18.1.6\r\nroot@71d08be89248:/workdir# clang-18 -Wl,--verbose -fsanitize=address |& grep libclang_rt |& grep succ\r\nattempt to open /usr/lib/llvm-18/lib/clang/18/lib/linux/libclang_rt.asan_static-x86_64.a succeeded\r\nattempt to open /usr/lib/llvm-18/lib/clang/18/lib/linux/libclang_rt.asan-x86_64.a succeeded\r\n```\r\n\r\nAnd sanitizers does works in 18.1.8\r\n\r\n```\r\nroot@f8b02eee88c1:/workdir# clang-18 --version\r\nUbuntu clang version 18.1.8 (++20240615103753+3b5b5c1ec4a3-1~exp1~20240615223858.136)\r\nTarget: x86_64-pc-linux-gnu\r\nThread model: posix\r\nInstalledDir: /usr/bin\r\n\r\nroot@a6a45ab18ca8:/workdir# echo 'int main() { return 0; }' | clang-18 -xc - -fsanitize=address -o /tmp/main && /tmp/main && echo OK && ldd /tmp/main | grep san\r\nOK\r\n```\r\n\r\n```\r\nroot@f8b02eee88c1:/workdir# ulimit -n 100\r\nroot@f8b02eee88c1:/workdir# echo -e '#include <stdlib.h>\\nint main() { malloc(10); }' | clang-18 -xc - -fsanitize=address -o /tmp/main && /tmp/main && echo OK\r\n\r\n=================================================================\r\n==13==ERROR: LeakSanitizer: detected memory leaks\r\n\r\nDirect leak of 10 byte(s) in 1 object(s) allocated from:\r\n    #0 0x55555561957f in malloc (/tmp/main+0xc557f) (BuildId: 422714ff3930e4a95e0ef582fa5ea71eb602f7f6)\r\n    #1 0x55555565686d in main (/tmp/main+0x10286d) (BuildId: 422714ff3930e4a95e0ef582fa5ea71eb602f7f6)\r\n    #2 0x7ffff7c9bd8f  (/lib/x86_64-linux-gnu/libc.so.6+0x29d8f) (BuildId: 490fef8403240c91833978d494d39e537409b92e)\r\n\r\nSUMMARY: AddressSanitizer: 10 byte(s) leaked in 1 allocation(s).\r\n```\r\n\r\nAlso note, that rt libraries are static there as well:\r\n\r\n```\r\nroot@f8b02eee88c1:/workdir# ldd /tmp/main\r\n        linux-vdso.so.1 (0x00007ffff7fc1000)\r\n        libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007ffff743d000)\r\n        libresolv.so.2 => /lib/x86_64-linux-gnu/libresolv.so.2 (0x00007ffff7429000)\r\n        libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007ffff7409000)\r\n        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007ffff71e0000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x00007ffff7fc3000)\r\n```\nP.S. I can't find updating of fasttest (and neither binary-builder) image here - https://play.clickhouse.com/play?user=play#U0VMRUNUIGNoZWNrX3N0YXJ0X3RpbWUsIGNoZWNrX25hbWUsIHRlc3RfbmFtZSwgcmVwb3J0X3VybApGUk9NIGNoZWNrcwpXSEVSRSByZXBvcnRfdXJsIExJS0UgJyVkb2NrZXIlJwogICAgQU5EIGNoZWNrX3N0YXJ0X3RpbWUgPj0gbm93KCkgLSBJTlRFUlZBTCAyNCBkYXkKICAgIEFORCBwdWxsX3JlcXVlc3RfbnVtYmVyID0gNjUxODYKT1JERVIgQlkgY2hlY2tfbmFtZSwgdGVzdF9uYW1lLCBjaGVja19zdGFydF90aW1l\r\n\r\nBut maybe there is some issues with this database or/and descriptions/urls",
  "created_at": "2024-07-03T19:59:03Z",
  "modified_files": [
    "cmake/target.cmake",
    "b/docker/reqgenerator.py",
    "src/IO/BufferWithOwnMemory.h"
  ],
  "modified_test_files": [
    "docker/test/fasttest/Dockerfile",
    "b/docker/test/fasttest/requirements.txt",
    "docker/test/fuzzer/Dockerfile",
    "b/docker/test/fuzzer/requirements.txt",
    "docker/test/integration/base/Dockerfile",
    "b/docker/test/integration/base/requirements.txt",
    "docker/test/integration/resolver/Dockerfile",
    "b/docker/test/integration/resolver/requirements.txt",
    "docker/test/integration/runner/Dockerfile",
    "b/docker/test/integration/runner/requirements.txt",
    "docker/test/libfuzzer/Dockerfile",
    "b/docker/test/libfuzzer/requirements.txt",
    "docker/test/performance-comparison/Dockerfile",
    "b/docker/test/performance-comparison/requirements.txt",
    "docker/test/sqllogic/Dockerfile",
    "b/docker/test/sqllogic/requirements.txt",
    "docker/test/sqltest/Dockerfile",
    "b/docker/test/sqltest/requirements.txt",
    "docker/test/stateful/Dockerfile",
    "docker/test/stateless/Dockerfile",
    "b/docker/test/stateless/requirements.txt",
    "docker/test/style/Dockerfile",
    "b/docker/test/style/requirements.txt"
  ]
}