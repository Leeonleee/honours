You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
uniqState memory leak
**Describe the bug or unexpected behaviour**
PR #4277 states that there is a memory leak in uniqState.

At least it was in version
ClickHouse: v19.1.6

**How to reproduce**

```
for i in {1..1000}; do clickhouse-client --max_memory_usage 100000000 <<< "SELECT uniqExactState(number) FROM system.numbers GROUP BY number % 1000"; done
```


**Expected behavior**
Memory usage should be bounded.

**Additional context**
We should check if bug is still present and fix it.
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
