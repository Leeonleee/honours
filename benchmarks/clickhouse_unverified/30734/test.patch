diff --git a/tests/integration/test_sql_user_defined_functions_on_cluster/__init__.py b/tests/integration/test_sql_user_defined_functions_on_cluster/__init__.py
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/tests/integration/test_sql_user_defined_functions_on_cluster/configs/config.d/clusters.xml b/tests/integration/test_sql_user_defined_functions_on_cluster/configs/config.d/clusters.xml
new file mode 100644
index 000000000000..4d668f591b93
--- /dev/null
+++ b/tests/integration/test_sql_user_defined_functions_on_cluster/configs/config.d/clusters.xml
@@ -0,0 +1,22 @@
+<clickhouse>
+<remote_servers>
+    <cluster>
+        <shard>
+            <replica>
+                <host>ch1</host>
+                <port>9000</port>
+            </replica>
+            <replica>
+                <host>ch2</host>
+                <port>9000</port>
+            </replica>
+        </shard>
+        <shard>
+            <replica>
+                <host>ch3</host>
+                <port>9000</port>
+            </replica>
+        </shard>
+    </cluster>
+</remote_servers>
+</clickhouse>
diff --git a/tests/integration/test_sql_user_defined_functions_on_cluster/test.py b/tests/integration/test_sql_user_defined_functions_on_cluster/test.py
new file mode 100644
index 000000000000..d5c74a99622d
--- /dev/null
+++ b/tests/integration/test_sql_user_defined_functions_on_cluster/test.py
@@ -0,0 +1,34 @@
+import pytest
+from helpers.cluster import ClickHouseCluster
+
+cluster = ClickHouseCluster(__file__)
+ch1 = cluster.add_instance('ch1', main_configs=["configs/config.d/clusters.xml"], with_zookeeper=True)
+ch2 = cluster.add_instance('ch2', main_configs=["configs/config.d/clusters.xml"], with_zookeeper=True)
+ch3 = cluster.add_instance('ch3', main_configs=["configs/config.d/clusters.xml"], with_zookeeper=True)
+
+
+@pytest.fixture(scope="module", autouse=True)
+def started_cluster():
+    try:
+        cluster.start()
+        yield cluster
+
+    finally:
+        cluster.shutdown()
+
+
+def test_sql_user_defined_functions_on_cluster():
+    assert "Unknown function test_function" in ch1.query_and_get_error("SELECT test_function(1);")
+    assert "Unknown function test_function" in ch2.query_and_get_error("SELECT test_function(1);")
+    assert "Unknown function test_function" in ch3.query_and_get_error("SELECT test_function(1);")
+
+    ch1.query_with_retry("CREATE FUNCTION test_function ON CLUSTER 'cluster' AS x -> x + 1;")
+
+    assert ch1.query("SELECT test_function(1);") == "2
"
+    assert ch2.query("SELECT test_function(1);") == "2
"
+    assert ch3.query("SELECT test_function(1);") == "2
"
+
+    ch2.query_with_retry("DROP FUNCTION test_function ON CLUSTER 'cluster'")
+    assert "Unknown function test_function" in ch1.query_and_get_error("SELECT test_function(1);")
+    assert "Unknown function test_function" in ch2.query_and_get_error("SELECT test_function(1);")
+    assert "Unknown function test_function" in ch3.query_and_get_error("SELECT test_function(1);")
