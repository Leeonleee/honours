diff --git a/tests/queries/0_stateless/03164_create_as_default.reference b/tests/queries/0_stateless/03164_create_as_default.reference
new file mode 100644
index 000000000000..aceba23beaf3
--- /dev/null
+++ b/tests/queries/0_stateless/03164_create_as_default.reference
@@ -0,0 +1,5 @@
+CREATE TABLE default.src_table
(
    `time` DateTime(\'UTC\') DEFAULT fromUnixTimestamp(sipTimestamp),
    `sipTimestamp` UInt64
)
ENGINE = MergeTree
ORDER BY time
SETTINGS index_granularity = 8192
+sipTimestamp	
+time	fromUnixTimestamp(sipTimestamp)
+{"time":"2024-05-20 09:00:00","sipTimestamp":"1716195600"}
+{"time":"2024-05-20 09:00:00","sipTimestamp":"1716195600"}
diff --git a/tests/queries/0_stateless/03164_create_as_default.sql b/tests/queries/0_stateless/03164_create_as_default.sql
new file mode 100644
index 000000000000..e9fd7c1e35a8
--- /dev/null
+++ b/tests/queries/0_stateless/03164_create_as_default.sql
@@ -0,0 +1,27 @@
+DROP TABLE IF EXISTS src_table;
+DROP TABLE IF EXISTS copied_table;
+
+CREATE TABLE src_table
+(
+    time DateTime('UTC') DEFAULT fromUnixTimestamp(sipTimestamp),
+    sipTimestamp UInt64
+)
+ENGINE = MergeTree
+ORDER BY time;
+
+INSERT INTO src_table(sipTimestamp) VALUES (toUnixTimestamp(toDateTime('2024-05-20 09:00:00', 'UTC')));
+
+CREATE TABLE copied_table AS src_table;
+
+ALTER TABLE copied_table RENAME COLUMN `sipTimestamp` TO `timestamp`;
+
+SHOW CREATE TABLE src_table;
+
+SELECT name, default_expression FROM system.columns WHERE database = currentDatabase() AND table = 'src_table' ORDER BY name;
+INSERT INTO src_table(sipTimestamp) VALUES (toUnixTimestamp(toDateTime('2024-05-20 09:00:00', 'UTC')));
+
+SELECT * FROM src_table ORDER BY time FORMAT JSONEachRow;
+SELECT * FROM copied_table ORDER BY time FORMAT JSONEachRow;
+
+DROP TABLE src_table;
+DROP TABLE copied_table;
