diff --git a/tests/queries/0_stateless/01663_quantile_weighted_overflow.reference b/tests/queries/0_stateless/01663_quantile_weighted_overflow.reference
new file mode 100644
index 000000000000..3f6c3f15064f
--- /dev/null
+++ b/tests/queries/0_stateless/01663_quantile_weighted_overflow.reference
@@ -0,0 +1,2 @@
+5
+\N	[0,9,9,0,0,0,9,0,0,4,9,9,0,0,9,9]
diff --git a/tests/queries/0_stateless/01663_quantile_weighted_overflow.sql b/tests/queries/0_stateless/01663_quantile_weighted_overflow.sql
new file mode 100644
index 000000000000..c8c75e640140
--- /dev/null
+++ b/tests/queries/0_stateless/01663_quantile_weighted_overflow.sql
@@ -0,0 +1,2 @@
+SELECT quantileExactWeighted(1)(number, 9223372036854775807) FROM numbers(6);
+SELECT quantileExactWeighted((NULL, NULL, NULL, NULL))((NULL), number, (NULL, 0, 255), 9223372036854775807), quantilesExactWeighted(0, 1., 0.9998999834060669, 0.00009999999747378752, 0., 0., 0.9998999834060669, 0., 0.00009999999747378752, 0.5, 1., 0.9998999834060669, 0.00009999999747378752, 0., 1., 1)(number, 9223372036854775807) FROM (SELECT (NULL, NULL, NULL, 0.9998999834060669), number FROM system.numbers LIMIT 10);
