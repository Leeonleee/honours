diff --git a/src/Processors/QueryPlan/FilterStep.cpp b/src/Processors/QueryPlan/FilterStep.cpp
index 0c6b71387b72..ee770d1077c7 100644
--- a/src/Processors/QueryPlan/FilterStep.cpp
+++ b/src/Processors/QueryPlan/FilterStep.cpp
@@ -51,6 +51,10 @@ FilterStep::FilterStep(
     , remove_filter_column(remove_filter_column_)
 {
     actions_dag.removeAliasesForFilter(filter_column_name);
+    /// Removing aliases may result in unneeded ALIAS node in DAG.
+    /// This should not be an issue by itself,
+    /// but it might trigger an issue with duplicated names in Block after plan optimizations.
+    actions_dag.removeUnusedActions(false, false);
 }
 
 void FilterStep::transformPipeline(QueryPipelineBuilder & pipeline, const BuildQueryPipelineSettings & settings)
