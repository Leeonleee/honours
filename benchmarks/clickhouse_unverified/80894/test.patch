diff --git a/tests/queries/0_stateless/03522_join_resolve_matcher_recursive_bug.reference b/tests/queries/0_stateless/03522_join_resolve_matcher_recursive_bug.reference
new file mode 100644
index 000000000000..573541ac9702
--- /dev/null
+++ b/tests/queries/0_stateless/03522_join_resolve_matcher_recursive_bug.reference
@@ -0,0 +1,1 @@
+0
diff --git a/tests/queries/0_stateless/03522_join_resolve_matcher_recursive_bug.sql b/tests/queries/0_stateless/03522_join_resolve_matcher_recursive_bug.sql
new file mode 100644
index 000000000000..b3dcfc1d60ee
--- /dev/null
+++ b/tests/queries/0_stateless/03522_join_resolve_matcher_recursive_bug.sql
@@ -0,0 +1,3 @@
+SET enable_analyzer = 1;
+SELECT 1 FROM (SELECT 1) tx JOIN VALUES ((*)) ty USING (c0); -- { serverError UNKNOWN_IDENTIFIER }
+SELECT * FROM numbers(1) AS t1 FULL JOIN numbers(1, 46 AND (1 IS NULL) AND (* AND 3) ) AS t2 USING (number);
