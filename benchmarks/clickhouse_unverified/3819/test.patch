diff --git a/dbms/tests/queries/0_stateless/00802_daylight_saving_time_shift_backwards_at_midnight.reference b/dbms/tests/queries/0_stateless/00802_daylight_saving_time_shift_backwards_at_midnight.reference
new file mode 100644
index 000000000000..f72940bb386e
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00802_daylight_saving_time_shift_backwards_at_midnight.reference
@@ -0,0 +1,24 @@
+1981-09-30 23:00:00
+1981-09-30 23:05:00
+1981-09-30 23:10:00
+1981-09-30 23:15:00
+1981-09-30 23:20:00
+1981-09-30 23:25:00
+1981-09-30 23:30:00
+1981-09-30 23:35:00
+1981-09-30 23:40:00
+1981-09-30 23:45:00
+1981-09-30 23:50:00
+1981-09-30 23:55:00
+2018-09-21 23:00:00
+2018-09-21 23:05:00
+2018-09-21 23:10:00
+2018-09-21 23:15:00
+2018-09-21 23:20:00
+2018-09-21 23:25:00
+2018-09-21 23:30:00
+2018-09-21 23:35:00
+2018-09-21 23:40:00
+2018-09-21 23:45:00
+2018-09-21 23:50:00
+2018-09-21 23:55:00
diff --git a/dbms/tests/queries/0_stateless/00802_daylight_saving_time_shift_backwards_at_midnight.sql b/dbms/tests/queries/0_stateless/00802_daylight_saving_time_shift_backwards_at_midnight.sql
new file mode 100644
index 000000000000..4244ce2039bf
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00802_daylight_saving_time_shift_backwards_at_midnight.sql
@@ -0,0 +1,3 @@
+-- concat with empty string to defeat injectiveness of toString assumption.
+SELECT concat('', toString(toDateTime('1981-09-29 00:00:00', 'Europe/Moscow') + INTERVAL number * 300 SECOND)) AS k FROM numbers(10000) GROUP BY k HAVING count() > 1 ORDER BY k;
+SELECT concat('', toString(toDateTime('2018-09-19 00:00:00', 'Asia/Tehran') + INTERVAL number * 300 SECOND)) AS k FROM numbers(1000) GROUP BY k HAVING count() > 1 ORDER BY k;
