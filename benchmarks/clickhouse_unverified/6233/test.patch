diff --git a/dbms/tests/queries/0_stateless/00977_int_div.reference b/dbms/tests/queries/0_stateless/00977_int_div.reference
new file mode 100644
index 000000000000..d3d73cb37985
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00977_int_div.reference
@@ -0,0 +1,23 @@
+-2000	-1	1
+-1
+-1
+-1
+0
+0
+0
+0
+0
+0
+0
+0
+0
+-1
+0
+0
+0
+0
+0
+0
+0
+0
+0
diff --git a/dbms/tests/queries/0_stateless/00977_int_div.sql b/dbms/tests/queries/0_stateless/00977_int_div.sql
new file mode 100644
index 000000000000..3270ab342241
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00977_int_div.sql
@@ -0,0 +1,19 @@
+SELECT 
+    sum(ASD) AS asd, 
+    intDiv(toInt64(asd), abs(toInt64(asd))) AS int_div_with_abs, 
+    intDiv(toInt64(asd), toInt64(asd)) AS int_div_without_abs
+FROM 
+(
+    SELECT ASD
+    FROM 
+    (
+        SELECT [-1000, -1000] AS asds
+    ) 
+    ARRAY JOIN asds AS ASD
+);
+
+SELECT  intDivOrZero( CAST(-1000, 'Int64')   , CAST(1000, 'UInt64') );
+SELECT  intDivOrZero( CAST(-1000, 'Int64')   , CAST(1000, 'Int64') );
+
+SELECT intDiv(-1, number) FROM numbers(1, 10);
+SELECT intDivOrZero(-1, number) FROM numbers(1, 10);
