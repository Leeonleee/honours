diff --git a/src/Interpreters/ActionsVisitor.cpp b/src/Interpreters/ActionsVisitor.cpp
index 171586c8a70f..8a58eb892020 100644
--- a/src/Interpreters/ActionsVisitor.cpp
+++ b/src/Interpreters/ActionsVisitor.cpp
@@ -1055,7 +1055,11 @@ void ActionsMatcher::visit(const ASTFunction & node, const ASTPtr & ast, Data &
             for (const auto & arg : node.arguments->children)
             {
                 visit(arg, index_hint_data);
-                args.push_back({arg->getColumnNameWithoutAlias(), {}});
+
+                if (auto name_type = getNameAndTypeFromAST(arg, index_hint_data))
+                    args.push_back({name_type->name, {}});
+                else
+                    throw Exception(ErrorCodes::UNEXPECTED_EXPRESSION, "Unexpected element in AST inside the indexHint function: {}", arg->getID());
             }
         }
 
