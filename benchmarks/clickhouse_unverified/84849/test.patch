diff --git a/tests/queries/0_stateless/02346_text_index_bug84805.reference b/tests/queries/0_stateless/02346_text_index_bug84805.reference
new file mode 100644
index 000000000000..62ba36f1167a
--- /dev/null
+++ b/tests/queries/0_stateless/02346_text_index_bug84805.reference
@@ -0,0 +1,2 @@
+Test no_op tokenizer
+Test ngram tokenizer
diff --git a/tests/queries/0_stateless/02346_text_index_bug84805.sql b/tests/queries/0_stateless/02346_text_index_bug84805.sql
new file mode 100644
index 000000000000..6374c3faa8da
--- /dev/null
+++ b/tests/queries/0_stateless/02346_text_index_bug84805.sql
@@ -0,0 +1,29 @@
+SET allow_experimental_full_text_index = 1;
+
+-- Issue 84805: the no-op and ngram tokenizers crash for empty inputs
+
+SELECT 'Test no_op tokenizer';
+
+DROP TABLE IF EXISTS tab;
+
+CREATE TABLE tab (
+    str String,
+    INDEX idx str TYPE text(tokenizer = 'no_op') )
+ENGINE = MergeTree()
+ORDER BY tuple();
+
+INSERT INTO TABLE tab (str) VALUES ('');
+
+DROP TABLE tab;
+
+SELECT 'Test ngram tokenizer';
+
+CREATE TABLE tab (
+    str String,
+    INDEX idx str TYPE text(tokenizer = 'ngram') )
+ENGINE = MergeTree()
+ORDER BY tuple();
+
+INSERT INTO TABLE tab (str) VALUES ('');
+
+DROP TABLE tab;
diff --git a/tests/queries/0_stateless/03403_function_tokens.reference b/tests/queries/0_stateless/03403_function_tokens.reference
index c05a05ef2855..0d1e9ff1f8b4 100644
--- a/tests/queries/0_stateless/03403_function_tokens.reference
+++ b/tests/queries/0_stateless/03403_function_tokens.reference
@@ -4,7 +4,7 @@ Default tokenizer
 ['abc','def','foo','bar','baz','code','hello','world','xäöüx']
 ['abc','def','foo','bar','baz','code','hello','world','xäöüx']
 Ngram tokenizer
-['']
+[]
 ['abc','bc ','c d',' de','def']
 ['abc','bc ','c d',' de','def']
 ['abc def']
@@ -16,7 +16,7 @@ Split tokenizer
 ['a','bc','d']
 ['a','bc','d']
 No-op tokenizer
-['']
+[]
 ['abc def']
 Special cases (not systematically tested)
 -- FixedString inputs
