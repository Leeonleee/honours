diff --git a/tests/queries/0_stateless/03319_http_exception_formatting_during_interpretation.reference b/tests/queries/0_stateless/03319_http_exception_formatting_during_interpretation.reference
new file mode 100644
index 000000000000..3d60b2d19a49
--- /dev/null
+++ b/tests/queries/0_stateless/03319_http_exception_formatting_during_interpretation.reference
@@ -0,0 +1,4 @@
+< HTTP/1.1 404 Not Found
+< X-ClickHouse-Format: JSONLines
+< X-ClickHouse-Exception-Code: 81
+{"exception": "Code: 81. DB::Exception: Database nonexistent does not exist. (UNKNOWN_DATABASE) "}
diff --git a/tests/queries/0_stateless/03319_http_exception_formatting_during_interpretation.sh b/tests/queries/0_stateless/03319_http_exception_formatting_during_interpretation.sh
new file mode 100755
index 000000000000..59af1489a153
--- /dev/null
+++ b/tests/queries/0_stateless/03319_http_exception_formatting_during_interpretation.sh
@@ -0,0 +1,8 @@
+#!/usr/bin/env bash
+# Tags: long
+
+CUR_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+# shellcheck source=../shell_config.sh
+. "$CUR_DIR"/../shell_config.sh
+
+${CLICKHOUSE_CURL} -v -sS "${CLICKHOUSE_URL}" -d "SELECT * FROM nonexistent.nonexistent FORMAT JSONLines" 2>&1 | grep -P 'X-ClickHouse-Format: |X-ClickHouse-Exception-Code: |"exception": |< HTTP/1\.1 ' | sed -r -e 's/\(version [^)]+\)//'
