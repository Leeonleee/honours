diff --git a/tests/queries/0_stateless/02709_storage_memory_compressed.reference b/tests/queries/0_stateless/02709_storage_memory_compressed.reference
new file mode 100644
index 000000000000..9a665fab8098
--- /dev/null
+++ b/tests/queries/0_stateless/02709_storage_memory_compressed.reference
@@ -0,0 +1,2 @@
+1	foo	['0','1','2','3','4']	{'k1':'v1'}
+2	bar	['0','1','2','3','4']	{'k2':'v2'}
diff --git a/tests/queries/0_stateless/02709_storage_memory_compressed.sql b/tests/queries/0_stateless/02709_storage_memory_compressed.sql
new file mode 100644
index 000000000000..0e12b47998cc
--- /dev/null
+++ b/tests/queries/0_stateless/02709_storage_memory_compressed.sql
@@ -0,0 +1,11 @@
+DROP TABLE IF EXISTS t_memory_compressed;
+
+CREATE TABLE t_memory_compressed (id UInt64, s String, arr Array(LowCardinality(String)), m Map(String, String))
+ENGINE = Memory SETTINGS compress = 1;
+
+INSERT INTO t_memory_compressed VALUES (1, 'foo', range(5), map('k1', 'v1'));
+INSERT INTO t_memory_compressed VALUES (2, 'bar', range(5), map('k2', 'v2'));
+
+SELECT * FROM t_memory_compressed ORDER BY id;
+
+DROP TABLE t_memory_compressed;
