diff --git a/tests/queries/0_stateless/02900_clickhouse_local_drop_current_database.reference b/tests/queries/0_stateless/02900_clickhouse_local_drop_current_database.reference
new file mode 100644
index 000000000000..4a3213805366
--- /dev/null
+++ b/tests/queries/0_stateless/02900_clickhouse_local_drop_current_database.reference
@@ -0,0 +1,10 @@
+CREATE DATABASE foo;
+USE foo;
+SELECT 1;
+1
+DROP DATABASE foo;
+SELECT 2;
+2
+USE _local;
+SELECT 3;
+3
diff --git a/tests/queries/0_stateless/02900_clickhouse_local_drop_current_database.sh b/tests/queries/0_stateless/02900_clickhouse_local_drop_current_database.sh
new file mode 100755
index 000000000000..1af40f8778d2
--- /dev/null
+++ b/tests/queries/0_stateless/02900_clickhouse_local_drop_current_database.sh
@@ -0,0 +1,15 @@
+#!/usr/bin/env bash
+
+CUR_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+# shellcheck source=../shell_config.sh
+. "$CUR_DIR"/../shell_config.sh
+
+${CLICKHOUSE_LOCAL} --echo --multiquery "
+    CREATE DATABASE foo;
+    USE foo;
+    SELECT 1;
+    DROP DATABASE foo;
+    SELECT 2;
+    USE _local;
+    SELECT 3;
+"
