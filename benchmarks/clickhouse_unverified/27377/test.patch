diff --git a/docker/test/fasttest/run.sh b/docker/test/fasttest/run.sh
index 6419ea3659c4..a0dcf07c41dd 100755
--- a/docker/test/fasttest/run.sh
+++ b/docker/test/fasttest/run.sh
@@ -312,6 +312,7 @@ function run_tests
         01798_uniq_theta_sketch
         01799_long_uniq_theta_sketch
         01890_stem                               # depends on libstemmer_c
+        02003_compress_bz2                       # depends on bzip2
         collate
         collation
         _orc_
diff --git a/tests/queries/0_stateless/02003_compress_bz2.reference b/tests/queries/0_stateless/02003_compress_bz2.reference
new file mode 100644
index 000000000000..8ab686eafeb1
--- /dev/null
+++ b/tests/queries/0_stateless/02003_compress_bz2.reference
@@ -0,0 +1,1 @@
+Hello, World!
diff --git a/tests/queries/0_stateless/02003_compress_bz2.sh b/tests/queries/0_stateless/02003_compress_bz2.sh
new file mode 100755
index 000000000000..b65ce2f233b9
--- /dev/null
+++ b/tests/queries/0_stateless/02003_compress_bz2.sh
@@ -0,0 +1,17 @@
+#!/usr/bin/env bash
+
+CURDIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+# shellcheck source=../shell_config.sh
+. "$CURDIR"/../shell_config.sh
+
+USER_FILES_PATH=$(clickhouse-client --query "select _path,_file from file('nonexist.txt', 'CSV', 'val1 char')" 2>&1 | grep Exception | awk '{gsub("/nonexist.txt","",$9); print $9}')
+WORKING_FOLDER_02003="${USER_FILES_PATH}/${CLICKHOUSE_DATABASE}"
+
+rm -rf "${WORKING_FOLDER_02003}"
+mkdir "${WORKING_FOLDER_02003}"
+
+${CLICKHOUSE_CLIENT} --query "SELECT * FROM (SELECT 'Hello, World!' as String) INTO OUTFILE '${WORKING_FOLDER_02003}/bz2_compression.bz2'"
+bzip2 -t ${WORKING_FOLDER_02003}/bz2_compression.bz2
+${CLICKHOUSE_CLIENT} --query "SELECT * FROM file('${WORKING_FOLDER_02003}/bz2_compression.bz2', 'TabSeparated', 'col String')"
+
+rm -rf "${WORKING_FOLDER_02003}"
