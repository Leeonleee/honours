You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
lgamma wrong result with negative integers 
```sql
SELECT lgamma(-1)
```

latest (24.9.2.42) output:
```
37.78343889855838
```

24.10.1.1198 with asan:
```
inf
```

Expected result:
NaN or an error since the gamma function is not defined for negative integers.
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
