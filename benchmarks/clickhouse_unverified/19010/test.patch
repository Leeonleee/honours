diff --git a/tests/queries/0_stateless/01651_lc_insert_tiny_log.reference b/tests/queries/0_stateless/01651_lc_insert_tiny_log.reference
new file mode 100644
index 000000000000..3da44c57b274
--- /dev/null
+++ b/tests/queries/0_stateless/01651_lc_insert_tiny_log.reference
@@ -0,0 +1,12 @@
+10000000
+10000000	1274991808
+20000000
+20000000	2549983616
+10000000
+10000000	1274991808
+20000000
+20000000	2549983616
+10000000
+10000000	1274991808
+20000000
+20000000	2549983616
diff --git a/tests/queries/0_stateless/01651_lc_insert_tiny_log.sql b/tests/queries/0_stateless/01651_lc_insert_tiny_log.sql
new file mode 100644
index 000000000000..225325298129
--- /dev/null
+++ b/tests/queries/0_stateless/01651_lc_insert_tiny_log.sql
@@ -0,0 +1,47 @@
+drop table if exists perf_lc_num;
+
+CREATE TABLE perf_lc_num(　        num UInt8,　        arr Array(LowCardinality(Int64)) default [num]　        ) ENGINE = TinyLog;
+
+INSERT INTO perf_lc_num (num) SELECT toUInt8(number) FROM numbers(10000000);
+
+select sum(length(arr)) from perf_lc_num;
+select sum(length(arr)), sum(num) from perf_lc_num;
+
+INSERT INTO perf_lc_num (num) SELECT toUInt8(number) FROM numbers(10000000);
+
+select sum(length(arr)) from perf_lc_num;
+select sum(length(arr)), sum(num) from perf_lc_num;
+
+drop table if exists perf_lc_num;
+
+
+CREATE TABLE perf_lc_num(　        num UInt8,　        arr Array(LowCardinality(Int64)) default [num]　        ) ENGINE = Log;
+
+INSERT INTO perf_lc_num (num) SELECT toUInt8(number) FROM numbers(10000000);
+
+select sum(length(arr)) from perf_lc_num;
+select sum(length(arr)), sum(num) from perf_lc_num;
+
+INSERT INTO perf_lc_num (num) SELECT toUInt8(number) FROM numbers(10000000);
+
+select sum(length(arr)) from perf_lc_num;
+select sum(length(arr)), sum(num) from perf_lc_num;
+
+drop table if exists perf_lc_num;
+
+
+CREATE TABLE perf_lc_num(　        num UInt8,　        arr Array(LowCardinality(Int64)) default [num]　        ) ENGINE = StripeLog;
+
+INSERT INTO perf_lc_num (num) SELECT toUInt8(number) FROM numbers(10000000);
+
+select sum(length(arr)) from perf_lc_num;
+select sum(length(arr)), sum(num) from perf_lc_num;
+
+INSERT INTO perf_lc_num (num) SELECT toUInt8(number) FROM numbers(10000000);
+
+select sum(length(arr)) from perf_lc_num;
+select sum(length(arr)), sum(num) from perf_lc_num;
+
+drop table if exists perf_lc_num;
+
+
