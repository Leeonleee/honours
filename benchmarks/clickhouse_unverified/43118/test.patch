diff --git a/tests/queries/0_stateless/02479_analyzer_aggregation_crash.reference b/tests/queries/0_stateless/02479_analyzer_aggregation_crash.reference
new file mode 100644
index 000000000000..73d811f75f34
--- /dev/null
+++ b/tests/queries/0_stateless/02479_analyzer_aggregation_crash.reference
@@ -0,0 +1,2 @@
+10	123456789
+10	123456789
diff --git a/tests/queries/0_stateless/02479_analyzer_aggregation_crash.sql b/tests/queries/0_stateless/02479_analyzer_aggregation_crash.sql
new file mode 100644
index 000000000000..c931a3ab6343
--- /dev/null
+++ b/tests/queries/0_stateless/02479_analyzer_aggregation_crash.sql
@@ -0,0 +1,13 @@
+SET allow_experimental_analyzer = 1;
+SET compile_aggregate_expressions = 1;
+SET min_count_to_compile_aggregate_expression = 0;
+
+DROP TABLE IF EXISTS lc_00906__fuzz_46;
+CREATE TABLE lc_00906__fuzz_46 (`b` Int64) ENGINE = MergeTree ORDER BY b;
+INSERT INTO lc_00906__fuzz_46 SELECT '0123456789' FROM numbers(10);
+
+SELECT count(3.4028234663852886e38), b FROM lc_00906__fuzz_46 GROUP BY b;
+
+SELECT count(1), b FROM lc_00906__fuzz_46 GROUP BY b;
+
+DROP TABLE lc_00906__fuzz_46;
