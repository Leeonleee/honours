diff --git a/tests/queries/0_stateless/00662_has_nullable.reference b/tests/queries/0_stateless/00662_has_nullable.reference
new file mode 100644
index 000000000000..1ac93f25a392
--- /dev/null
+++ b/tests/queries/0_stateless/00662_has_nullable.reference
@@ -0,0 +1,14 @@
+Nullable(UInt64), non-null array
+1	1
+\N	0
+Non-nullable UInt64, nullable array
+0	0
+1	1
+2	1
+Nullable(UInt64), nullable array
+0	0
+\N	1
+1	1
+All NULLs
+0	0
+\N	1
diff --git a/tests/queries/0_stateless/00662_has_nullable.sql b/tests/queries/0_stateless/00662_has_nullable.sql
new file mode 100644
index 000000000000..3fd3bd46baa7
--- /dev/null
+++ b/tests/queries/0_stateless/00662_has_nullable.sql
@@ -0,0 +1,39 @@
+DROP TABLE IF EXISTS 00662_has_nullable;
+
+SELECT 'Nullable(UInt64), non-null array';
+CREATE TABLE 00662_has_nullable(a Nullable(UInt64)) ENGINE = Memory;
+
+INSERT INTO 00662_has_nullable VALUES (1), (Null);
+SELECT a, has([0, 1], a) FROM 00662_has_nullable;
+
+DROP TABLE 00662_has_nullable;
+
+--------------------------------------------------------------------------------
+
+SELECT 'Non-nullable UInt64, nullable array';
+CREATE TABLE 00662_has_nullable(a UInt64) ENGINE = Memory;
+
+INSERT INTO 00662_has_nullable VALUES (0), (1), (2);
+SELECT a, has([NULL, 1, 2], a) FROM 00662_has_nullable;
+
+DROP TABLE 00662_has_nullable;
+
+--------------------------------------------------------------------------------
+
+SELECT 'Nullable(UInt64), nullable array';
+CREATE TABLE 00662_has_nullable(a Nullable(UInt64)) ENGINE = Memory;
+
+INSERT INTO 00662_has_nullable VALUES (0), (Null), (1);
+SELECT a, has([NULL, 1, 2], a) FROM 00662_has_nullable;
+
+DROP TABLE 00662_has_nullable;
+
+--------------------------------------------------------------------------------
+
+SELECT 'All NULLs';
+CREATE TABLE 00662_has_nullable(a Nullable(UInt64)) ENGINE = Memory;
+
+INSERT INTO 00662_has_nullable VALUES (0), (Null);
+SELECT a, has([NULL, NULL], a) FROM 00662_has_nullable;
+
+DROP TABLE 00662_has_nullable;
