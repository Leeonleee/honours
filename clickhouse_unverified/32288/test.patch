diff --git a/tests/integration/test_dictionaries_dependency_xml/configs/dictionaries/node.xml b/tests/integration/test_dictionaries_dependency_xml/configs/dictionaries/node.xml
new file mode 100644
index 000000000000..2cd957a37209
--- /dev/null
+++ b/tests/integration/test_dictionaries_dependency_xml/configs/dictionaries/node.xml
@@ -0,0 +1,25 @@
+<clickhouse>
+    <dictionary>
+        <name>node</name>
+        <source>
+            <clickhouse>
+                <host>localhost</host>
+                <port>9000</port>
+                <user>default</user>
+                <password></password>
+                <db>system</db>
+                <query>select dummy, toString(dummy) from system.one</query>
+            </clickhouse>
+        </source>
+        <lifetime>0</lifetime>
+        <layout><flat /></layout>
+        <structure>
+            <id><name>key</name></id>
+            <attribute>
+                <name>name</name>
+                <type>String</type>
+                <null_value></null_value>
+            </attribute>
+        </structure>
+    </dictionary>
+</clickhouse>
diff --git a/tests/integration/test_dictionaries_dependency_xml/test.py b/tests/integration/test_dictionaries_dependency_xml/test.py
index 1b3ea32d09c7..13635c7b9698 100644
--- a/tests/integration/test_dictionaries_dependency_xml/test.py
+++ b/tests/integration/test_dictionaries_dependency_xml/test.py
@@ -3,7 +3,7 @@
 from helpers.test_tools import assert_eq_with_retry
 
 DICTIONARY_FILES = ['configs/dictionaries/dep_x.xml', 'configs/dictionaries/dep_y.xml',
-                    'configs/dictionaries/dep_z.xml']
+                    'configs/dictionaries/dep_z.xml', 'configs/dictionaries/node.xml']
 
 cluster = ClickHouseCluster(__file__)
 instance = cluster.add_instance('instance', dictionaries=DICTIONARY_FILES, stay_alive=True)
@@ -117,3 +117,10 @@ def test_dependent_tables(started_cluster):
     query("drop table system.join")
     query("drop database a")
     query("drop database lazy")
+
+
+def test_xml_dict_same_name(started_cluster):
+    instance.query("create table default.node ( key UInt64, name String ) Engine=Dictionary(node);")
+    instance.restart_clickhouse()
+    assert "node" in instance.query("show tables from default")
+    instance.query("drop table default.node")
