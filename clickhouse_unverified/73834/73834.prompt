You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
Flush query progress even when there are no new result blocks
Context: https://github.com/ClickHouse/ClickHouse/pull/66205 uncovered incorrect behavior around query progress data flushing.  Currently, progress flush only occurs when there are new result blocks to return.  For this output format (and for the other `*WithProgress` formats as well), progress should be flushed periodically even in the absence of new result blocks.

@alexey-milovidov - is there an open issue for the underlying problem with flushing progress?  Should I open one?

_Originally posted by @ArctypeZach in https://github.com/ClickHouse/ClickHouse/issues/69989#issuecomment-2412149553_
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
