diff --git a/tests/clickhouse-test b/tests/clickhouse-test
index 91e9700e32cf..b1282ad5f412 100755
--- a/tests/clickhouse-test
+++ b/tests/clickhouse-test
@@ -151,7 +151,7 @@ def run_single_test(args, ext, server_logs_level, client_options, case_file, std
     pattern = '{test} > {stdout} 2> {stderr}'
 
     if ext == '.sql':
-        pattern = "{client} --send_logs_level={logs_level} --testmode --multiquery {options} < " + pattern
+        pattern = "{client} --send_logs_level={logs_level} --testmode --multiquery {options} --log_comment='{test}' < " + pattern
 
     command = pattern.format(**params)
 
diff --git a/tests/queries/0_stateless/01670_log_comment.reference b/tests/queries/0_stateless/01670_log_comment.reference
new file mode 100644
index 000000000000..b6335f432cf7
--- /dev/null
+++ b/tests/queries/0_stateless/01670_log_comment.reference
@@ -0,0 +1,3 @@
+1
+QueryStart	SELECT 1;
+QueryFinish	SELECT 1;
diff --git a/tests/queries/0_stateless/01670_log_comment.sql b/tests/queries/0_stateless/01670_log_comment.sql
new file mode 100644
index 000000000000..bbe7330cc743
--- /dev/null
+++ b/tests/queries/0_stateless/01670_log_comment.sql
@@ -0,0 +1,5 @@
+SET log_comment = 'log_comment test', log_queries = 1;
+SELECT 1;
+SYSTEM FLUSH LOGS;
+SELECT type, query FROM system.query_log WHERE log_comment = 'log_comment test' AND event_date >= yesterday() AND type = 1 ORDER BY event_time DESC LIMIT 1;
+SELECT type, query FROM system.query_log WHERE log_comment = 'log_comment test' AND event_date >= yesterday() AND type = 2 ORDER BY event_time DESC LIMIT 1;
