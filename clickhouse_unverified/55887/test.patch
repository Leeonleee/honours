diff --git a/tests/queries/0_stateless/02896_union_distinct_http_format.reference b/tests/queries/0_stateless/02896_union_distinct_http_format.reference
new file mode 100644
index 000000000000..3a68ab6dc9f2
--- /dev/null
+++ b/tests/queries/0_stateless/02896_union_distinct_http_format.reference
@@ -0,0 +1,7 @@
+┌─[1m1[0m─┐
+│ 1 │
+└───┘
+┌─[1ma[0m─┐
+│ 1 │
+│ 2 │
+└───┘
diff --git a/tests/queries/0_stateless/02896_union_distinct_http_format.sh b/tests/queries/0_stateless/02896_union_distinct_http_format.sh
new file mode 100755
index 000000000000..bb35800e39d9
--- /dev/null
+++ b/tests/queries/0_stateless/02896_union_distinct_http_format.sh
@@ -0,0 +1,8 @@
+#!/usr/bin/env bash
+
+CURDIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+# shellcheck source=../shell_config.sh
+. "$CURDIR"/../shell_config.sh
+
+curl -d@- -sS "${CLICKHOUSE_URL}" <<< 'SELECT 1 UNION DISTINCT SELECT 1 FORMAT PrettyCompactMonoBlock'
+curl -d@- -sS "${CLICKHOUSE_URL}" <<< 'SELECT * FROM (SELECT 1 as a UNION DISTINCT SELECT 2 as a) ORDER BY a FORMAT PrettyCompactMonoBlock'
