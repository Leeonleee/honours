diff --git a/tests/queries/0_stateless/03571_join_inequality_constants.reference b/tests/queries/0_stateless/03571_join_inequality_constants.reference
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/tests/queries/0_stateless/03571_join_inequality_constants.sql b/tests/queries/0_stateless/03571_join_inequality_constants.sql
new file mode 100644
index 000000000000..2a2cb98ebddd
--- /dev/null
+++ b/tests/queries/0_stateless/03571_join_inequality_constants.sql
@@ -0,0 +1,4 @@
+SET enable_analyzer = 1;
+
+SELECT id FROM (SELECT toLowCardinality(1) AS id) AS a INNER JOIN (SELECT toLowCardinality(toUInt128(materialize(0))) AS id) AS b USING (id) INNER JOIN a AS t ON b.id < t.id;
+SELECT 1 FROM (SELECT toLowCardinality(0) a) a FULL JOIN a b USING (a) JOIN a c ON b.a > c.a SETTINGS join_use_nulls = true;
