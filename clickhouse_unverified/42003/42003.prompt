You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
Show progress by default in non-interactive mode if stderr is a terminal.
Motivation: I want all the beauty by default.

Also change the behaviour of `--progress` option.
`--progress 0` will turn off the progress indication.

Downsides: if you run a shell script with multiple invocations of clickhouse-client, you will also see the progress of every invocation while the script is being run. Actually this can be considered as improvement.

Alternatively we can write progress to `/dev/tty` instead of stderr. It will allow to show progress even if stderr is redirected.
But it may look too surprising for user.
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
