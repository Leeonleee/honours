You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
MySQL compatibility: substring with enums
Required by Tableau via MySQL interface.

Sample generated query:

```sql
SELECT 
  CONCAT(
    SUBSTRING(`cell_towers`.`radio`, 1, 1024), 
    SUBSTRING(`cell_towers`.`radio`, 1, 1024)
  ) AS `Calculation_3276650229452562433`
FROM `cell_towers`
GROUP BY 1
```

Simplified:

```sql
SELECT substring(CAST('foo', 'Enum(\'foo\' = 1)'), 1, 1000)
```

fails with 

```
Code: 43. DB::Exception: Received from localhost:9000. DB::Exception: Illegal type Enum8('foo' = 1) of argument of function substring: While processing substring(CAST('foo', 'Enum(\'foo\' = 1)'), 1, 1000). (ILLEGAL_TYPE_OF_ARGUMENT)
```

**Expected behavior**

Treat enums as strings when calling the `substring` function.

**How to reproduce**
* Which ClickHouse server version to use: latest
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
