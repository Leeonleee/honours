diff --git a/tests/queries/0_stateless/01506_buffer_table_alter_block_structure.reference b/tests/queries/0_stateless/01506_buffer_table_alter_block_structure.reference
new file mode 100644
index 000000000000..1f90610041b0
--- /dev/null
+++ b/tests/queries/0_stateless/01506_buffer_table_alter_block_structure.reference
@@ -0,0 +1,3 @@
+2020-01-01 00:05:00	
+2020-01-01 00:05:00	
+2020-01-01 00:06:00	hello
diff --git a/tests/queries/0_stateless/01506_buffer_table_alter_block_structure.sql b/tests/queries/0_stateless/01506_buffer_table_alter_block_structure.sql
new file mode 100644
index 000000000000..cba7d84fac6e
--- /dev/null
+++ b/tests/queries/0_stateless/01506_buffer_table_alter_block_structure.sql
@@ -0,0 +1,22 @@
+DROP TABLE IF EXISTS buf_dest;
+DROP TABLE IF EXISTS buf;
+
+CREATE TABLE buf_dest (timestamp DateTime)
+ENGINE = MergeTree PARTITION BY toYYYYMMDD(timestamp)
+ORDER BY (timestamp);
+
+CREATE TABLE buf (timestamp DateTime) Engine = Buffer(currentDatabase(), buf_dest, 16, 3, 20, 2000000, 20000000, 100000000, 300000000);;
+
+INSERT INTO buf (timestamp) VALUES (toDateTime('2020-01-01 00:05:00'));
+
+ALTER TABLE buf_dest ADD COLUMN s String;
+ALTER TABLE buf ADD COLUMN s String;
+
+SELECT * FROM buf;
+
+INSERT INTO buf (timestamp, s) VALUES (toDateTime('2020-01-01 00:06:00'), 'hello');
+
+SELECT * FROM buf ORDER BY timestamp;
+
+DROP TABLE IF EXISTS buf;
+DROP TABLE IF EXISTS buf_dest;
