diff --git a/tests/performance/subqueries.xml b/tests/performance/subqueries.xml
new file mode 100644
index 000000000000..0d41099841b3
--- /dev/null
+++ b/tests/performance/subqueries.xml
@@ -0,0 +1,7 @@
+<test>
+    <create_query>create table tab (a UInt32, b UInt32) engine = MergeTree order by (a, b)</create_query>
+    <fill_query>insert into tab values (1, 1)</fill_query>
+    <query>select a, b from tab where (a, b) in (select toUInt32(number) as x, toUInt32(sleep(0.1) + 1) from numbers_mt(16)) settings max_threads = 2, max_block_size = 4</query>
+    <query>select a, b from tab where (1, 1) = (select min(toUInt32(number + 1)) as x, min(toUInt32(sleep(0.1) + 1)) from numbers_mt(16)) settings max_threads = 2, max_block_size = 4</query>
+    <drop_query>DROP TABLE tab</drop_query>
+</test>
diff --git a/tests/queries/0_stateless/00205_scalar_subqueries.sql b/tests/queries/0_stateless/00205_scalar_subqueries.sql
index 14244377e5f7..03bcd0a3ebce 100644
--- a/tests/queries/0_stateless/00205_scalar_subqueries.sql
+++ b/tests/queries/0_stateless/00205_scalar_subqueries.sql
@@ -7,3 +7,4 @@ SELECT (SELECT toDate('2015-01-02'), 'Hello');
 SELECT (SELECT toDate('2015-01-02'), 'Hello') AS x, x, identity((SELECT 1)), identity((SELECT 1) AS y);
 -- SELECT (SELECT uniqState(''));
 
+ SELECT ( SELECT throwIf(1 + dummy) );  -- { serverError 395 }
