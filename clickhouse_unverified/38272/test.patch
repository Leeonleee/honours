diff --git a/tests/queries/0_stateless/02343_create_empty_as_select.reference b/tests/queries/0_stateless/02343_create_empty_as_select.reference
new file mode 100644
index 000000000000..3b0d34c58637
--- /dev/null
+++ b/tests/queries/0_stateless/02343_create_empty_as_select.reference
@@ -0,0 +1,4 @@
+CREATE TABLE default.t
(
    `1` UInt8
)
ENGINE = Memory
+0
+CREATE MATERIALIZED VIEW default.mv
(
    `1` UInt8
)
ENGINE = Memory AS
SELECT 1
+0
diff --git a/tests/queries/0_stateless/02343_create_empty_as_select.sql b/tests/queries/0_stateless/02343_create_empty_as_select.sql
new file mode 100644
index 000000000000..54f383b553f3
--- /dev/null
+++ b/tests/queries/0_stateless/02343_create_empty_as_select.sql
@@ -0,0 +1,18 @@
+
+drop table if exists t;
+drop table if exists mv;
+
+create table t engine=Memory empty; -- { clientError SYNTAX_ERROR }
+create table t engine=Memory empty as; -- { clientError SYNTAX_ERROR }
+create table t engine=Memory as; -- { clientError SYNTAX_ERROR }
+create table t engine=Memory empty as select 1;
+
+show create table t;
+select count() from t;
+
+create materialized view mv engine=Memory empty as select 1;
+show create mv;
+select count() from mv;
+
+drop table t;
+drop table mv;
