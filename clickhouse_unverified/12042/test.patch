diff --git a/tests/queries/0_stateless/01358_constexpr_constraint.reference b/tests/queries/0_stateless/01358_constexpr_constraint.reference
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/tests/queries/0_stateless/01358_constexpr_constraint.sql b/tests/queries/0_stateless/01358_constexpr_constraint.sql
new file mode 100644
index 000000000000..799f6f322595
--- /dev/null
+++ b/tests/queries/0_stateless/01358_constexpr_constraint.sql
@@ -0,0 +1,12 @@
+CREATE TEMPORARY TABLE constrained
+(
+    `URL` String,
+    CONSTRAINT is_yandex CHECK domainWithoutWWW(URL) = domainWithoutWWW(URL),
+    CONSTRAINT is_utf8 CHECK isValidUTF8(URL)
+);
+
+insert into constrained values ('a');
+
+DROP TEMPORARY TABLE constrained;
+CREATE TEMPORARY TABLE constrained (x UInt8, CONSTRAINT bogus CHECK 0);
+INSERT INTO constrained VALUES (1); -- { serverError 469 }
