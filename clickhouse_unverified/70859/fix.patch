diff --git a/src/IO/WriteBufferFromHTTP.cpp b/src/IO/WriteBufferFromHTTP.cpp
index d54e16850179..4505228eda6c 100644
--- a/src/IO/WriteBufferFromHTTP.cpp
+++ b/src/IO/WriteBufferFromHTTP.cpp
@@ -24,17 +24,17 @@ WriteBufferFromHTTP::WriteBufferFromHTTP(
     request.setHost(uri.getHost());
     request.setChunkedTransferEncoding(true);
 
-    if (!content_type.empty())
-    {
-        request.set("Content-Type", content_type);
-    }
-
     if (!content_encoding.empty())
         request.set("Content-Encoding", content_encoding);
 
     for (const auto & header: additional_headers)
         request.add(header.name, header.value);
 
+    if (!content_type.empty() && !request.has("Content-Type"))
+    {
+        request.set("Content-Type", content_type);
+    }
+
     LOG_TRACE((getLogger("WriteBufferToHTTP")), "Sending request to {}", uri.toString());
 
     ostr = &session->sendRequest(request);
