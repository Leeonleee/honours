diff --git a/tests/queries/0_stateless/02559_ip_types_bloom.reference b/tests/queries/0_stateless/02559_ip_types_bloom.reference
new file mode 100644
index 000000000000..7a76aeeff8ef
--- /dev/null
+++ b/tests/queries/0_stateless/02559_ip_types_bloom.reference
@@ -0,0 +1,1 @@
+1	1.1.1.1	::1
diff --git a/tests/queries/0_stateless/02559_ip_types_bloom.sql b/tests/queries/0_stateless/02559_ip_types_bloom.sql
new file mode 100644
index 000000000000..b3fc16debd91
--- /dev/null
+++ b/tests/queries/0_stateless/02559_ip_types_bloom.sql
@@ -0,0 +1,18 @@
+DROP TABLE IF EXISTS ip_bloom;
+
+CREATE TABLE ip_bloom
+(
+    `a` UInt32,
+    `ip4` Nullable(IPv4),
+    `ip6` Nullable(IPv6),
+    INDEX x4 ip4 TYPE bloom_filter(0.1) GRANULARITY 3,
+    INDEX x6 ip6 TYPE bloom_filter(0.1) GRANULARITY 3
+)
+ENGINE = MergeTree
+ORDER BY a;
+
+INSERT INTO ip_bloom VALUES (1, '1.1.1.1', '::1');
+
+SELECT * FROM ip_bloom;
+
+DROP TABLE ip_bloom;
