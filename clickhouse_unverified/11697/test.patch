diff --git a/tests/queries/0_stateless/01145_with_fill_const.reference b/tests/queries/0_stateless/01145_with_fill_const.reference
new file mode 100644
index 000000000000..fa72c3c5993b
--- /dev/null
+++ b/tests/queries/0_stateless/01145_with_fill_const.reference
@@ -0,0 +1,20 @@
+2020-06-16 00:00:00
+2020-06-16 00:30:00
+2020-06-16 01:00:00
+2020-06-16 01:30:00
+2020-06-16 02:00:00
+2020-06-16 02:30:00
+2020-06-16 03:00:00
+2020-06-16 03:30:00
+2020-06-16 04:00:00
+2020-06-16 04:30:00
+2020-06-16 05:00:00
+2020-06-16 05:30:00
+2020-06-16 06:00:00
+2020-06-16 06:30:00
+2020-06-16 07:00:00
+2020-06-16 07:30:00
+2020-06-16 08:00:00
+2020-06-16 08:30:00
+2020-06-16 09:00:00
+2020-06-16 09:30:00
diff --git a/tests/queries/0_stateless/01145_with_fill_const.sql b/tests/queries/0_stateless/01145_with_fill_const.sql
new file mode 100644
index 000000000000..531d202c02ae
--- /dev/null
+++ b/tests/queries/0_stateless/01145_with_fill_const.sql
@@ -0,0 +1,6 @@
+WITH toDateTime('2020-06-16 03:00:00') AS date_time
+SELECT date_time ORDER BY date_time ASC
+WITH FILL
+    FROM toDateTime('2020-06-16 00:00:00')
+    TO toDateTime('2020-06-16 10:00:00')
+    STEP 1800;
