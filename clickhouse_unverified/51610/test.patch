diff --git a/tests/queries/0_stateless/02809_prewhere_and_in.reference b/tests/queries/0_stateless/02809_prewhere_and_in.reference
new file mode 100644
index 000000000000..3080ae862bb6
--- /dev/null
+++ b/tests/queries/0_stateless/02809_prewhere_and_in.reference
@@ -0,0 +1,8 @@
+PREWHERE a IN
+PREWHERE a IN
+PREWHERE a IN
+PREWHERE a IN
+PREWHERE b NOT IN
+PREWHERE b NOT IN
+PREWHERE b NOT IN
+PREWHERE b NOT IN
diff --git a/tests/queries/0_stateless/02809_prewhere_and_in.sql b/tests/queries/0_stateless/02809_prewhere_and_in.sql
new file mode 100644
index 000000000000..345577d6c7c6
--- /dev/null
+++ b/tests/queries/0_stateless/02809_prewhere_and_in.sql
@@ -0,0 +1,56 @@
+DROP TABLE IF EXISTS t_02809;
+
+CREATE TABLE t_02809(a Int64, b Int64, s String)
+ENGINE=MergeTree order by tuple()
+AS SELECT number, number%10, toString(arrayMap(i-> cityHash64(i*number), range(50))) FROM numbers(10000);
+
+CREATE TABLE t_02809_set(c Int64)
+ENGINE=Set()
+AS SELECT * FROM numbers(10);
+
+CREATE TABLE t_02809_aux(c Int64)
+ENGINE=Memory()
+AS SELECT * FROM numbers(10);
+
+
+SET optimize_move_to_prewhere=1;
+
+-- Queries with 'IN'
+SELECT substring(explain, 1, 13) FROM (EXPLAIN SYNTAX
+     SELECT * FROM t_02809 WHERE a IN (SELECT * FROM system.one)
+) WHERE explain LIKE '%WHERE%';
+
+SELECT substring(explain, 1, 13) FROM (EXPLAIN SYNTAX
+     SELECT * FROM t_02809 WHERE a IN (1,2,3)
+) WHERE explain LIKE '%WHERE%';
+
+SELECT substring(explain, 1, 13) FROM (EXPLAIN SYNTAX
+     SELECT * FROM t_02809 WHERE a IN t_02809_set
+) WHERE explain LIKE '%WHERE%';
+
+SELECT substring(explain, 1, 13) FROM (EXPLAIN SYNTAX
+     SELECT * FROM t_02809 WHERE a IN t_02809_aux
+) WHERE explain LIKE '%WHERE%';
+
+
+-- Queries with 'NOT IN'
+SELECT substring(explain, 1, 17) FROM (EXPLAIN SYNTAX
+     SELECT * FROM t_02809 WHERE b NOT IN (SELECT * FROM system.one)
+) WHERE explain LIKE '%WHERE%';
+
+SELECT substring(explain, 1, 17) FROM (EXPLAIN SYNTAX
+     SELECT * FROM t_02809 WHERE b NOT IN (1,2,3)
+) WHERE explain LIKE '%WHERE%';
+
+SELECT substring(explain, 1, 17) FROM (EXPLAIN SYNTAX
+     SELECT * FROM t_02809 WHERE b NOT IN t_02809_set
+) WHERE explain LIKE '%WHERE%';
+
+SELECT substring(explain, 1, 17) FROM (EXPLAIN SYNTAX
+     SELECT * FROM t_02809 WHERE b NOT IN t_02809_aux
+) WHERE explain LIKE '%WHERE%';
+
+
+DROP TABLE t_02809;
+DROP TABLE t_02809_set;
+DROP TABLE t_02809_aux;
