{
  "repo": "ClickHouse/ClickHouse",
  "pull_number": 11828,
  "instance_id": "ClickHouse__ClickHouse-11828",
  "issue_numbers": [
    "11393"
  ],
  "base_commit": "1b9e72f9adc0655d054793c4f76191dd7e027f3c",
  "patch": "diff --git a/src/Functions/FunctionsComparison.h b/src/Functions/FunctionsComparison.h\nindex 910da07599cd..028dc78c25c1 100644\n--- a/src/Functions/FunctionsComparison.h\n+++ b/src/Functions/FunctionsComparison.h\n@@ -262,7 +262,7 @@ struct StringComparisonImpl\n         {\n             size_t size = a_data.size();\n             for (size_t i = 0, j = 0; i < size; i += a_n, ++j)\n-                c[j] = Op::apply(0, memcmpSmallLikeZeroPaddedAllowOverflow15(a_data.data() + i, a_n, b_data.data(), b_size));\n+                c[j] = Op::apply(memcmpSmallLikeZeroPaddedAllowOverflow15(a_data.data() + i, a_n, b_data.data(), b_size), 0);\n         }\n     }\n \n",
  "test_patch": "diff --git a/tests/queries/0_stateless/01326_fixed_string_comparison_denny_crane.reference b/tests/queries/0_stateless/01326_fixed_string_comparison_denny_crane.reference\nnew file mode 100644\nindex 000000000000..6ed281c757a9\n--- /dev/null\n+++ b/tests/queries/0_stateless/01326_fixed_string_comparison_denny_crane.reference\n@@ -0,0 +1,2 @@\n+1\n+1\ndiff --git a/tests/queries/0_stateless/01326_fixed_string_comparison_denny_crane.sql b/tests/queries/0_stateless/01326_fixed_string_comparison_denny_crane.sql\nnew file mode 100644\nindex 000000000000..c26e78e53da7\n--- /dev/null\n+++ b/tests/queries/0_stateless/01326_fixed_string_comparison_denny_crane.sql\n@@ -0,0 +1,2 @@\n+select toFixedString(unhex('202005295555'), 15) > unhex('20200529') r;\n+select materialize(toFixedString(unhex('202005295555'), 15)) > unhex('20200529') r;\n",
  "problem_statement": "fixed string comparison regression. \n19.16.16.72\r\n\r\n```\r\nselect             toFixedString(unhex('202005295555'), 15)  > unhex('20200529') r;\r\n--\r\n1\r\n\r\nselect materialize(toFixedString(unhex('202005295555'), 15)) > unhex('20200529') r;\r\n--\r\n1\r\n```\r\n\r\n\r\n20.4.4.18\r\n```\r\nselect             toFixedString(unhex('202005295555'), 15)  > unhex('20200529') r;\r\n--\r\n1\r\n\r\nselect materialize(toFixedString(unhex('202005295555'), 15)) > unhex('20200529') r;\r\n--\r\n0\r\n\r\n```\n",
  "hints_text": "",
  "created_at": "2020-06-20T13:15:16Z",
  "modified_files": [
    "src/Functions/FunctionsComparison.h"
  ],
  "modified_test_files": [
    "b/tests/queries/0_stateless/01326_fixed_string_comparison_denny_crane.reference",
    "b/tests/queries/0_stateless/01326_fixed_string_comparison_denny_crane.sql"
  ]
}