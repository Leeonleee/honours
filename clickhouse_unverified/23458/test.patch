diff --git a/tests/queries/0_stateless/01838_system_dictionaries_virtual_key_column.reference b/tests/queries/0_stateless/01838_system_dictionaries_virtual_key_column.reference
new file mode 100644
index 000000000000..f0543d9221e8
--- /dev/null
+++ b/tests/queries/0_stateless/01838_system_dictionaries_virtual_key_column.reference
@@ -0,0 +1,4 @@
+simple key
+example_simple_key_dictionary	UInt64
+complex key
+example_complex_key_dictionary	(UInt64, String)
diff --git a/tests/queries/0_stateless/01838_system_dictionaries_virtual_key_column.sql b/tests/queries/0_stateless/01838_system_dictionaries_virtual_key_column.sql
new file mode 100644
index 000000000000..97d96f643cf9
--- /dev/null
+++ b/tests/queries/0_stateless/01838_system_dictionaries_virtual_key_column.sql
@@ -0,0 +1,26 @@
+DROP DICTIONARY IF EXISTS example_simple_key_dictionary;
+CREATE DICTIONARY example_simple_key_dictionary (
+    id UInt64,
+    value UInt64
+)
+PRIMARY KEY id
+SOURCE(CLICKHOUSE(HOST 'localhost' PORT tcpPort() USER 'default' TABLE '' DATABASE currentDatabase()))
+LAYOUT(DIRECT());
+
+SELECT 'simple key';
+
+SELECT name, key FROM system.dictionaries WHERE name='example_simple_key_dictionary' AND database=currentDatabase();
+
+DROP DICTIONARY IF EXISTS example_complex_key_dictionary;
+CREATE DICTIONARY example_complex_key_dictionary (
+    id UInt64,
+    id_key String,
+    value UInt64
+)
+PRIMARY KEY id, id_key
+SOURCE(CLICKHOUSE(HOST 'localhost' PORT tcpPort() USER 'default' TABLE '' DATABASE currentDatabase()))
+LAYOUT(COMPLEX_KEY_DIRECT());
+
+SELECT 'complex key';
+
+SELECT name, key FROM system.dictionaries WHERE name='example_complex_key_dictionary' AND database=currentDatabase();
