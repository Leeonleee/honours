diff --git a/tests/queries/0_stateless/02125_constant_if_condition_and_not_existing_column.reference b/tests/queries/0_stateless/02125_constant_if_condition_and_not_existing_column.reference
new file mode 100644
index 000000000000..67f2590a0c6b
--- /dev/null
+++ b/tests/queries/0_stateless/02125_constant_if_condition_and_not_existing_column.reference
@@ -0,0 +1,8 @@
+42
+42
+42
+42
+42
+42
+42
+42
diff --git a/tests/queries/0_stateless/02125_constant_if_condition_and_not_existing_column.sql b/tests/queries/0_stateless/02125_constant_if_condition_and_not_existing_column.sql
new file mode 100644
index 000000000000..ad3d417bc26c
--- /dev/null
+++ b/tests/queries/0_stateless/02125_constant_if_condition_and_not_existing_column.sql
@@ -0,0 +1,14 @@
+drop table if exists test;
+-- this queries does not have to pass, but they works historically
+-- let's support this while can, see #31687
+create table test (x String) Engine=StripeLog;
+insert into test values (0);
+select if(0, y, 42) from test;
+select if(1, 42, y) from test;
+select if(toUInt8(0), y, 42) from test;
+select if(toInt8(0), y, 42) from test;
+select if(toUInt8(1), 42, y) from test;
+select if(toInt8(1), 42, y) from test;
+select if(toUInt8(toUInt8(0)), y, 42) from test;
+select if(cast(cast(0, 'UInt8'), 'UInt8'), y, 42) from test;
+drop table if exists t;
