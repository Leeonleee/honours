diff --git a/tests/queries/0_stateless/03312_analyzer_unused_projection_fix.reference b/tests/queries/0_stateless/03312_analyzer_unused_projection_fix.reference
new file mode 100644
index 000000000000..28195eae8962
--- /dev/null
+++ b/tests/queries/0_stateless/03312_analyzer_unused_projection_fix.reference
@@ -0,0 +1,4 @@
+0
+1
+1	1	2
+1	1
diff --git a/tests/queries/0_stateless/03312_analyzer_unused_projection_fix.sql b/tests/queries/0_stateless/03312_analyzer_unused_projection_fix.sql
new file mode 100644
index 000000000000..9cd88b4cba4b
--- /dev/null
+++ b/tests/queries/0_stateless/03312_analyzer_unused_projection_fix.sql
@@ -0,0 +1,39 @@
+SELECT count()
+FROM
+(
+    SELECT
+        1 AS a,
+        2 AS b
+    INTERSECT ALL
+    SELECT
+        1,
+        1
+);
+
+SELECT count()
+FROM
+(
+    SELECT
+        1 AS a,
+        2 AS b
+    EXCEPT ALL
+    SELECT
+        1,
+        1
+);
+
+-- THE RESULT CTE RETURNS 1 ROW WITH ALL COLUMN VALUES NULL. WHICH IS SUPPOSED TO BE THE EXPECTED BEHAVIOUR
+WITH T1 AS (SELECT 1 A, 1 B UNION ALL SELECT 1 A, 1 B), 
+T2 AS (SELECT 1 A, 1 B),
+T1_WITH_ROWNUM AS (SELECT A, B, ROW_NUMBER() OVER (PARTITION BY A, B ORDER BY A, B) RNK FROM T1),
+T2_WITH_ROWNUM AS (SELECT A, B, ROW_NUMBER() OVER (PARTITION BY A, B ORDER BY A, B) RNK FROM T2),
+RESULT AS (SELECT * FROM T1_WITH_ROWNUM EXCEPT SELECT * FROM T2_WITH_ROWNUM)
+SELECT * FROM RESULT;
+
+-- HOWEVER UPON EXPLICITLY USING COLUMN NAMES RATHER THAN *,  NO RESULTS IN THE OUTPUT
+WITH T1 AS (SELECT 1 A, 1 B UNION ALL SELECT 1 A, 1 B), 
+T2 AS (SELECT 1 A, 1 B),
+T1_WITH_ROWNUM AS (SELECT A, B, ROW_NUMBER() OVER (PARTITION BY A, B ORDER BY A, B) RNK FROM T1),
+T2_WITH_ROWNUM AS (SELECT A, B, ROW_NUMBER() OVER (PARTITION BY A, B ORDER BY A, B) RNK FROM T2),
+RESULT AS (SELECT * FROM T1_WITH_ROWNUM EXCEPT SELECT * FROM T2_WITH_ROWNUM)
+SELECT A,B FROM RESULT;
