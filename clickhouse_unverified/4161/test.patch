diff --git a/dbms/tests/queries/0_stateless/00832_storage_file_lock.reference b/dbms/tests/queries/0_stateless/00832_storage_file_lock.reference
new file mode 100644
index 000000000000..d00491fd7e5b
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00832_storage_file_lock.reference
@@ -0,0 +1,1 @@
+1
diff --git a/dbms/tests/queries/0_stateless/00832_storage_file_lock.sql b/dbms/tests/queries/0_stateless/00832_storage_file_lock.sql
new file mode 100644
index 000000000000..a3aeee110b00
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00832_storage_file_lock.sql
@@ -0,0 +1,6 @@
+DROP TABLE IF EXISTS test.file;
+CREATE TABLE test.file (number UInt64) ENGINE = File(TSV);
+SELECT * FROM test.file; -- { serverError 107 }
+INSERT INTO test.file VALUES (1);
+SELECT * FROM test.file;
+DROP TABLE test.file;
