{
  "repo": "ClickHouse/ClickHouse",
  "pull_number": 12092,
  "instance_id": "ClickHouse__ClickHouse-12092",
  "issue_numbers": [
    "12044"
  ],
  "base_commit": "8513e1ec7498ca5cb2dc162ebd642cadfc708c6e",
  "patch": "diff --git a/src/Interpreters/Aggregator.cpp b/src/Interpreters/Aggregator.cpp\nindex 5f7414b774b2..39fcb382e571 100644\n--- a/src/Interpreters/Aggregator.cpp\n+++ b/src/Interpreters/Aggregator.cpp\n@@ -28,6 +28,7 @@\n #include <common/demangle.h>\n #include <AggregateFunctions/AggregateFunctionArray.h>\n #include <AggregateFunctions/AggregateFunctionState.h>\n+#include <AggregateFunctions/AggregateFunctionResample.h>\n #include <Disks/StoragePolicy.h>\n \n \n@@ -1180,10 +1181,17 @@ Block Aggregator::prepareBlockAndFill(\n             if (aggregate_functions[i]->isState())\n             {\n                 /// The ColumnAggregateFunction column captures the shared ownership of the arena with aggregate function states.\n-                ColumnAggregateFunction & column_aggregate_func = assert_cast<ColumnAggregateFunction &>(*final_aggregate_columns[i]);\n+                if (auto * column_aggregate_func = typeid_cast<ColumnAggregateFunction *>(final_aggregate_columns[i].get()))\n+                    for (auto & pool : data_variants.aggregates_pools)\n+                        column_aggregate_func->addArena(pool);\n \n-                for (auto & pool : data_variants.aggregates_pools)\n-                    column_aggregate_func.addArena(pool);\n+                /// Aggregate state can be wrapped into array if aggregate function ends with -Resample combinator.\n+                final_aggregate_columns[i]->forEachSubcolumn([&data_variants](auto & subcolumn)\n+                {\n+                    if (auto * column_aggregate_func = typeid_cast<ColumnAggregateFunction *>(subcolumn.get()))\n+                        for (auto & pool : data_variants.aggregates_pools)\n+                            column_aggregate_func->addArena(pool);\n+                });\n             }\n         }\n     }\n",
  "test_patch": "diff --git a/tests/queries/0_stateless/01356_state_resample.reference b/tests/queries/0_stateless/01356_state_resample.reference\nnew file mode 100644\nindex 000000000000..40c606b4a68f\n--- /dev/null\n+++ b/tests/queries/0_stateless/01356_state_resample.reference\n@@ -0,0 +1,8 @@\n+[900,910,920,930,940,950,960,970,980,990,1000,1010,1020,1030,1040,1050,1060,1070,1080,1090]\n+[900,910,920,930,940,950,960,970,980,990,1000,1010,1020,1030,1040,1050,1060,1070,1080,1090]\n+[360,243,306,372,252,315,384,261,324,396,270,333,408,279,342,420,288,351,432,297]\n+[300,364,246,309,376,255,318,388,264,327,400,273,336,412,282,345,424,291,354,436]\n+[240,303,368,249,312,380,258,321,392,267,330,404,276,339,416,285,348,428,294,357]\n+[[0,20,40],[1,21,41],[2,22,42],[3,23,43],[4,24,44],[5,25,45],[6,26,46],[7,27,47],[8,28,48],[9,29,49],[10,30],[11,31],[12,32],[13,33],[14,34],[15,35],[16,36],[17,37],[18,38],[19,39]]\n+[[0,20,40],[1,21,41],[2,22,42],[3,23,43],[4,24,44],[5,25,45],[6,26,46],[7,27,47],[8,28,48],[9,29,49],[10,30],[11,31],[12,32],[13,33],[14,34],[15,35],[16,36],[17,37],[18,38],[19,39]]\n+[1800,1820,1840,1860,1880,1900,1920,1940,1960,1980,2000,2020,2040,2060,2080,2100,2120,2140,2160,2180]\ndiff --git a/tests/queries/0_stateless/01356_state_resample.sql b/tests/queries/0_stateless/01356_state_resample.sql\nnew file mode 100644\nindex 000000000000..6be28e19d87b\n--- /dev/null\n+++ b/tests/queries/0_stateless/01356_state_resample.sql\n@@ -0,0 +1,14 @@\n+select sumResample(0, 20, 1)(number, number % 20) from numbers(200);\n+select arrayMap(x -> finalizeAggregation(x), state) from (select sumStateResample(0, 20, 1)(number, number % 20) as state from numbers(200));\n+select arrayMap(x -> finalizeAggregation(x), state) from\n+(\n+    select sumStateResample(0,20,1)(number, number%20) as state from numbers(200) group by number % 3\n+);\n+\n+select groupArrayResample(0, 20, 1)(number, number % 20) from numbers(50);\n+select arrayMap(x -> finalizeAggregation(x), state) from (select groupArrayStateResample(0, 20, 1)(number, number % 20) state from numbers(50));\n+\n+select arrayMap(x -> finalizeAggregation(x), state) from \n+(\n+    select sumStateResample(0, 20, 1)(number, number % 20) as state from remote('127.0.0.{1,2}', numbers(200))\n+);\n",
  "problem_statement": "Segmentation Fault with *StateResample combinator in 20.4.4\n**Describe the bug**\r\nRunning query with *StateResample leads clickhouse server to be killed because of seg fault.\r\n\r\n**How to reproduce**\r\nClickHouse server version 20.4.4 revision 54434\r\n`select sumIfStateResample(0,20,1)(number,1=1,number%20) as arr  from numbers(200);`\r\n\r\n**Expected behavior**\r\nQuery should works.\r\n\r\n**Error message and/or stacktrace**\r\n```\r\n2020.06.30 01:27:40.412792 [ 91519 ] {} <Fatal> BaseDaemon: ########################################\r\n2020.06.30 01:27:40.412865 [ 91519 ] {} <Fatal> BaseDaemon: (version 20.4.4.18 (official build)) (from thread 130019) (query_id: a6b35b38-e9e5-4b5e-b75d-4950dff2c905) Received signal Segmentation fault (11).\r\n2020.06.30 01:27:40.412888 [ 91519 ] {} <Fatal> BaseDaemon: Address: NULL pointer. Access: read. Unknown si_code.\r\n2020.06.30 01:27:40.412905 [ 91519 ] {} <Fatal> BaseDaemon: Stack trace: 0xd5788e9 0xb3bc0a2 0xb3bd98a 0xb3bda7a 0x92562c1 0xd1dcde4 0xd1e1d50 0xdcea9ec 0xdaf0235 0xdb1d131 0xdb210ed 0xdb23228 0xdb233f5 0x90fe0b7 0x90263ab 0x902717a 0x902526b 0x9023753 0x7faedd0956db 0x7faedd76c88f\r\n2020.06.30 01:27:40.413392 [ 91519 ] {} <Fatal> BaseDaemon: 3. DB::ColumnAggregateFunction::insertFrom(DB::IColumn const&, unsigned long) @ 0xd5788e9 in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.413624 [ 91519 ] {} <Fatal> BaseDaemon: 4. DB::FunctionArrayElement::executeGenericConst(DB::Block&, std::__1::vector<unsigned long, std::__1::allocator<unsigned long> > const&, unsigned long, DB::Field const&, DB::ArrayImpl::NullMapBuilder&) @ 0xb3bc0a2 in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.413646 [ 91519 ] {} <Fatal> BaseDaemon: 5. DB::FunctionArrayElement::perform(DB::Block&, std::__1::vector<unsigned long, std::__1::allocator<unsigned long> > const&, unsigned long, DB::ArrayImpl::NullMapBuilder&, unsigned long) @ 0xb3bd98a in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.413660 [ 91519 ] {} <Fatal> BaseDaemon: 6. DB::FunctionArrayElement::executeImpl(DB::Block&, std::__1::vector<unsigned long, std::__1::allocator<unsigned long> > const&, unsigned long, unsigned long) @ 0xb3bda7a in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.413867 [ 91519 ] {} <Fatal> BaseDaemon: 7. DB::ExecutableFunctionAdaptor::execute(DB::Block&, std::__1::vector<unsigned long, std::__1::allocator<unsigned long> > const&, unsigned long, unsigned long, bool) @ 0x92562c1 in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.413885 [ 91519 ] {} <Fatal> BaseDaemon: 8. DB::ExpressionAction::execute(DB::Block&, bool, std::__1::shared_ptr<DB::ExtraBlock>&) const @ 0xd1dcde4 in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.413895 [ 91519 ] {} <Fatal> BaseDaemon: 9. DB::ExpressionActions::execute(DB::Block&, bool) const @ 0xd1e1d50 in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414090 [ 91519 ] {} <Fatal> BaseDaemon: 10. DB::ExpressionTransform::transform(DB::Chunk&) @ 0xdcea9ec in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414301 [ 91519 ] {} <Fatal> BaseDaemon: 11. DB::ISimpleTransform::work() @ 0xdaf0235 in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414317 [ 91519 ] {} <Fatal> BaseDaemon: 12. ? @ 0xdb1d131 in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414511 [ 91519 ] {} <Fatal> BaseDaemon: 13. DB::PipelineExecutor::executeSingleThread(unsigned long, unsigned long) @ 0xdb210ed in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414523 [ 91519 ] {} <Fatal> BaseDaemon: 14. DB::PipelineExecutor::executeImpl(unsigned long) @ 0xdb23228 in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414531 [ 91519 ] {} <Fatal> BaseDaemon: 15. DB::PipelineExecutor::execute(unsigned long) @ 0xdb233f5 in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414540 [ 91519 ] {} <Fatal> BaseDaemon: 16. ? @ 0x90fe0b7 in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414551 [ 91519 ] {} <Fatal> BaseDaemon: 17. ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::__1::__list_iterator<ThreadFromGlobalPool, void*>) @ 0x90263ab in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414658 [ 91519 ] {} <Fatal> BaseDaemon: 18. ThreadFromGlobalPool::ThreadFromGlobalPool<void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(void&&, void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()&&...)::'lambda'()::operator()() const @ 0x902717a in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414683 [ 91519 ] {} <Fatal> BaseDaemon: 19. ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>) @ 0x902526b in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414691 [ 91519 ] {} <Fatal> BaseDaemon: 20. ? @ 0x9023753 in /usr/bin/clickhouse\r\n2020.06.30 01:27:40.414706 [ 91519 ] {} <Fatal> BaseDaemon: 21. start_thread @ 0x76db in /lib/x86_64-linux-gnu/libpthread-2.27.so\r\n2020.06.30 01:27:40.414718 [ 91519 ] {} <Fatal> BaseDaemon: 22. __clone @ 0x12188f in /lib/x86_64-linux-gnu/libc-2.27.so\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n\n",
  "hints_text": "ASAN stack on master(20.6)\r\n```\r\n2020.07.02 11:09:21.296142 [ 25921 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Debug> executeQuery: (from [::1]:32982) SELECT sumIfStateResample(0, 20, 1)(number, 1 = 1, number % 20) AS arr FROM numbers(200)\r\n2020.07.02 11:09:21.296558 [ 25921 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Trace> ContextAccess (default): Access granted: CREATE TEMPORARY TABLE ON *.*\r\n2020.07.02 11:09:21.297876 [ 25921 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Trace> InterpreterSelectQuery: FetchColumns -> Complete\r\n2020.07.02 11:09:21.299589 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Trace> AggregatingTransform: Aggregating\r\n2020.07.02 11:09:21.299688 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Trace> Aggregator: Aggregation method: without_key\r\n2020.07.02 11:09:21.299801 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Trace> AggregatingTransform: Aggregated. 200 to 1 rows (from 1.77 KiB) in 0.001395898 sec. (143276.94430395344 rows/sec., 1.24 MiB/sec.)\r\n2020.07.02 11:09:21.299848 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Trace> Aggregator: Merging aggregated data\r\n=================================================================\r\n==25831==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6030003675f0 at pc 0x00001a6d8a9f bp 0x7fe414ebf6d0 sp 0x7fe414ebf6c8\r\nREAD of size 8 at 0x6030003675f0 thread T53 (QueryPipelineEx)\r\n2020.07.02 11:09:21.509105 [ 25872 ] {} <Trace> SystemLog (system.metric_log): Flushing system log, 10 entries to flush\r\n2020.07.02 11:09:21.519351 [ 25872 ] {} <Debug> DiskLocal: Reserving 1.00 MiB on disk `default`, having unreserved 56.72 GiB.\r\n2020.07.02 11:09:21.526439 [ 25872 ] {} <Trace> system.metric_log: Renaming temporary part tmp_insert_202007_8_8_0 to 202007_162637_162637_0.\r\n2020.07.02 11:09:21.528143 [ 25872 ] {} <Trace> SystemLog (system.metric_log): Flushed system log\r\n    #0 0x1a6d8a9e in std::__1::vector<std::__1::shared_ptr<DB::Arena const>, std::__1::allocator<std::__1::shared_ptr<DB::Arena const> > >::push_back(std::__1::shared_ptr<DB::Arena const> const&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/vector:1635:31\r\n    #1 0x1a6d8a9e in DB::ColumnAggregateFunction::addArena(std::__1::shared_ptr<DB::Arena const>) /build/obj-x86_64-linux-gnu/../src/Columns/ColumnAggregateFunction.cpp:85:20\r\n    #2 0x19ff4ce3 in DB::Block DB::Aggregator::prepareBlockAndFill<DB::Aggregator::prepareBlockAndFillWithoutKey(DB::AggregatedDataVariants&, bool, bool) const::$_1&>(DB::AggregatedDataVariants&, bool, unsigned long, DB::Aggregator::prepareBlockAndFillWithoutKey(DB::AggregatedDataVariants&, bool, bool) const::$_1&) const /build/obj-x86_64-linux-gnu/../src/Interpreters/Aggregator.cpp:1186:43\r\n    #3 0x19ff4ce3 in DB::Aggregator::prepareBlockAndFillWithoutKey(DB::AggregatedDataVariants&, bool, bool) const /build/obj-x86_64-linux-gnu/../src/Interpreters/Aggregator.cpp:1282:19\r\n    #4 0x1b9e564d in DB::ConvertingAggregatedToChunksTransform::initialize() /build/obj-x86_64-linux-gnu/../src/Processors/Transforms/AggregatingTransform.cpp:341:45\r\n    #5 0x1b60e219 in DB::executeJob(DB::IProcessor*) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:155:20\r\n    #6 0x1b60e219 in DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1::operator()() const /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:172:13\r\n    #7 0x1b60e219 in decltype(std::__1::forward<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1&>(fp)()) std::__1::__invoke<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1&>(DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3519:1\r\n    #8 0x1b60e219 in void std::__1::__invoke_void_return_wrapper<void>::__call<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1&>(DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/__functional_base:348:9\r\n    #9 0x1b60e219 in std::__1::__function::__alloc_func<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1, std::__1::allocator<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1>, void ()>::operator()() /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1540:16\r\n    #10 0x1b60e219 in std::__1::__function::__func<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1, std::__1::allocator<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1>, void ()>::operator()() /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1714:12\r\n    #11 0x1b609ef6 in std::__1::__function::__value_func<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1867:16\r\n    #12 0x1b609ef6 in std::__1::function<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2473:12\r\n    #13 0x1b609ef6 in DB::PipelineExecutor::executeStepImpl(unsigned long, unsigned long, std::__1::atomic<bool>*) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:630:17\r\n    #14 0x1b6059ec in DB::PipelineExecutor::executeSingleThread(unsigned long, unsigned long) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:546:5\r\n    #15 0x1b6059ec in DB::PipelineExecutor::executeImpl(unsigned long) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:812:9\r\n    #16 0x1b60507d in DB::PipelineExecutor::execute(unsigned long) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:479:9\r\n    #17 0x1b625e31 in DB::threadFunction(DB::PullingAsyncPipelineExecutor::Data&, std::__1::shared_ptr<DB::ThreadGroupStatus>, unsigned long) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PullingAsyncPipelineExecutor.cpp:79:24\r\n    #18 0x1b625e31 in DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0::operator()() const /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PullingAsyncPipelineExecutor.cpp:101:13\r\n    #19 0x1b625e31 in decltype(std::__1::forward<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&>(fp)()) std::__1::__invoke_constexpr<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3525:1\r\n    #20 0x1b625e31 in decltype(auto) std::__1::__apply_tuple_impl<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&, std::__1::tuple<> const&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&, std::__1::tuple<> const&, std::__1::__tuple_indices<>) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/tuple:1415:1\r\n    #21 0x1b625e31 in decltype(auto) std::__1::apply<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&, std::__1::tuple<> const&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&, std::__1::tuple<> const&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/tuple:1424:1\r\n    #22 0x1b625e31 in ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()::operator()() const /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.h:168:17\r\n    #23 0x1b625e31 in decltype(std::__1::forward<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(fp)()) std::__1::__invoke<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3519:1\r\n    #24 0x1b625e31 in void std::__1::__invoke_void_return_wrapper<void>::__call<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&...) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/__functional_base:348:9\r\n    #25 0x1b625e31 in std::__1::__function::__alloc_func<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'(), std::__1::allocator<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()>, void ()>::operator()() /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1540:16\r\n    #26 0x1b625e31 in std::__1::__function::__func<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'(), std::__1::allocator<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()>, void ()>::operator()() /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1714:12\r\n    #27 0xb4e3223 in std::__1::__function::__value_func<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1867:16\r\n    #28 0xb4e3223 in std::__1::function<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2473:12\r\n    #29 0xb4e3223 in ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:227:17\r\n    #30 0xb4eafb7 in void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()::operator()() const /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:108:73\r\n    #31 0xb4eafb7 in decltype(std::__1::forward<void>(fp)(std::__1::forward<void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(fp0)...)) std::__1::__invoke<void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(void&&, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()&&...) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3519:1\r\n    #32 0xb4eafb7 in void std::__1::__thread_execute<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(std::__1::tuple<void, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>&, std::__1::__tuple_indices<>) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/thread:273:5\r\n    #33 0xb4eafb7 in void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()> >(void*) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/thread:284:5\r\n    #34 0x7fe4ce0ff6da in start_thread /build/glibc-OTsEL5/glibc-2.27/nptl/pthread_create.c:463\r\n    #35 0x7fe4cda1c88e in clone /build/glibc-OTsEL5/glibc-2.27/misc/../sysdeps/unix/sysv/linux/x86_64/clone.S:95\r\n\r\n0x6030003675f0 is located 0 bytes to the right of 32-byte region [0x6030003675d0,0x6030003675f0)\r\nallocated by thread T53 (QueryPipelineEx) here:\r\n    #0 0xb395efd in operator new(unsigned long) (/home/qoega/docker-ch/output/binary/clickhouse+0xb395efd)\r\n    #1 0x194413c0 in COW<DB::IColumn>::mutable_ptr<DB::ColumnArray> COWHelper<DB::IColumn, DB::ColumnArray>::create<COW<DB::IColumn>::mutable_ptr<DB::IColumn>, COW<DB::IColumn>::mutable_ptr<DB::ColumnVector<unsigned long> > >(COW<DB::IColumn>::mutable_ptr<DB::IColumn>&&, COW<DB::IColumn>::mutable_ptr<DB::ColumnVector<unsigned long> >&&) /build/obj-x86_64-linux-gnu/../src/Common/COW.h:285:67\r\n    #2 0x194413c0 in COW<DB::IColumn>::mutable_ptr<DB::ColumnArray> DB::ColumnArray::create<COW<DB::IColumn>::mutable_ptr<DB::IColumn>, COW<DB::IColumn>::mutable_ptr<DB::ColumnVector<unsigned long> >, void>(COW<DB::IColumn>::mutable_ptr<DB::IColumn>&&, COW<DB::IColumn>::mutable_ptr<DB::ColumnVector<unsigned long> >&&) /build/obj-x86_64-linux-gnu/../src/Columns/ColumnArray.h:48:56\r\n    #3 0x194413c0 in DB::DataTypeArray::createColumn() const /build/obj-x86_64-linux-gnu/../src/DataTypes/DataTypeArray.cpp:487:12\r\n    #4 0x19ff48f3 in DB::Block DB::Aggregator::prepareBlockAndFill<DB::Aggregator::prepareBlockAndFillWithoutKey(DB::AggregatedDataVariants&, bool, bool) const::$_1&>(DB::AggregatedDataVariants&, bool, unsigned long, DB::Aggregator::prepareBlockAndFillWithoutKey(DB::AggregatedDataVariants&, bool, bool) const::$_1&) const /build/obj-x86_64-linux-gnu/../src/Interpreters/Aggregator.cpp:1177:83\r\n    #5 0x19ff48f3 in DB::Aggregator::prepareBlockAndFillWithoutKey(DB::AggregatedDataVariants&, bool, bool) const /build/obj-x86_64-linux-gnu/../src/Interpreters/Aggregator.cpp:1282:19\r\n    #6 0x1b9e564d in DB::ConvertingAggregatedToChunksTransform::initialize() /build/obj-x86_64-linux-gnu/../src/Processors/Transforms/AggregatingTransform.cpp:341:45\r\n    #7 0x1b60e219 in DB::executeJob(DB::IProcessor*) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:155:20\r\n    #8 0x1b60e219 in DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1::operator()() const /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:172:13\r\n    #9 0x1b60e219 in decltype(std::__1::forward<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1&>(fp)()) std::__1::__invoke<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1&>(DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3519:1\r\n    #10 0x1b60e219 in void std::__1::__invoke_void_return_wrapper<void>::__call<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1&>(DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/__functional_base:348:9\r\n    #11 0x1b60e219 in std::__1::__function::__alloc_func<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1, std::__1::allocator<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1>, void ()>::operator()() /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1540:16\r\n    #12 0x1b60e219 in std::__1::__function::__func<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1, std::__1::allocator<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1>, void ()>::operator()() /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1714:12\r\n    #13 0x1b609ef6 in std::__1::__function::__value_func<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1867:16\r\n    #14 0x1b609ef6 in std::__1::function<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2473:12\r\n    #15 0x1b609ef6 in DB::PipelineExecutor::executeStepImpl(unsigned long, unsigned long, std::__1::atomic<bool>*) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:630:17\r\n    #16 0x1b6059ec in DB::PipelineExecutor::executeSingleThread(unsigned long, unsigned long) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:546:5\r\n    #17 0x1b6059ec in DB::PipelineExecutor::executeImpl(unsigned long) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:812:9\r\n    #18 0x1b60507d in DB::PipelineExecutor::execute(unsigned long) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:479:9\r\n    #19 0x1b625e31 in DB::threadFunction(DB::PullingAsyncPipelineExecutor::Data&, std::__1::shared_ptr<DB::ThreadGroupStatus>, unsigned long) /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PullingAsyncPipelineExecutor.cpp:79:24\r\n    #20 0x1b625e31 in DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0::operator()() const /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PullingAsyncPipelineExecutor.cpp:101:13\r\n    #21 0x1b625e31 in decltype(std::__1::forward<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&>(fp)()) std::__1::__invoke_constexpr<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3525:1\r\n    #22 0x1b625e31 in decltype(auto) std::__1::__apply_tuple_impl<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&, std::__1::tuple<> const&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&, std::__1::tuple<> const&, std::__1::__tuple_indices<>) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/tuple:1415:1\r\n    #23 0x1b625e31 in decltype(auto) std::__1::apply<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&, std::__1::tuple<> const&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0 const&, std::__1::tuple<> const&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/tuple:1424:1\r\n    #24 0x1b625e31 in ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()::operator()() const /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.h:168:17\r\n    #25 0x1b625e31 in decltype(std::__1::forward<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(fp)()) std::__1::__invoke<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3519:1\r\n    #26 0x1b625e31 in void std::__1::__invoke_void_return_wrapper<void>::__call<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&...) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/__functional_base:348:9\r\n    #27 0x1b625e31 in std::__1::__function::__alloc_func<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'(), std::__1::allocator<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()>, void ()>::operator()() /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1540:16\r\n    #28 0x1b625e31 in std::__1::__function::__func<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'(), std::__1::allocator<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()>, void ()>::operator()() /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1714:12\r\n    #29 0xb4e3223 in std::__1::__function::__value_func<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1867:16\r\n    #30 0xb4e3223 in std::__1::function<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2473:12\r\n    #31 0xb4e3223 in ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:227:17\r\n    #32 0xb4eafb7 in void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()::operator()() const /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:108:73\r\n    #33 0xb4eafb7 in decltype(std::__1::forward<void>(fp)(std::__1::forward<void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(fp0)...)) std::__1::__invoke<void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(void&&, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()&&...) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3519:1\r\n    #34 0xb4eafb7 in void std::__1::__thread_execute<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(std::__1::tuple<void, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>&, std::__1::__tuple_indices<>) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/thread:273:5\r\n    #35 0xb4eafb7 in void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()> >(void*) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/thread:284:5\r\n    #36 0x7fe4ce0ff6da in start_thread /build/glibc-OTsEL5/glibc-2.27/nptl/pthread_create.c:463\r\n\r\nThread T53 (QueryPipelineEx) created by T13 (QueryPipelineEx) here:\r\n    #0 0xb35151a in pthread_create (/home/qoega/docker-ch/output/binary/clickhouse+0xb35151a)\r\n    #1 0xb4e921e in std::__1::__libcpp_thread_create(unsigned long*, void* (*)(void*), void*) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/__threading_support:394:10\r\n    #2 0xb4e921e in std::__1::thread::thread<void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'(), void>(void&&, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()&&...) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/thread:300:16\r\n    #3 0xb4e0992 in void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:108:35\r\n    #4 0xb4e1e83 in ThreadPoolImpl<std::__1::thread>::scheduleOrThrow(std::__1::function<void ()>, int, unsigned long) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:144:5\r\n    #5 0xb4ed4ca in ThreadFromGlobalPool::ThreadFromGlobalPool<void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(void&&, void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()&&...) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.h:158:38\r\n    #6 0xb4e4a57 in void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:108:35\r\n    #7 0xb4e418b in ThreadPoolImpl<ThreadFromGlobalPool>::scheduleOrThrowOnError(std::__1::function<void ()>, int) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:132:5\r\n    #8 0x1af2e3f3 in DB::MergeTreeData::loadDataParts(bool) /build/obj-x86_64-linux-gnu/../src/Storages/MergeTree/MergeTreeData.cpp:726:14\r\n    #9 0x1ab44a8f in DB::StorageMergeTree::StorageMergeTree(DB::StorageID const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::StorageInMemoryMetadata const&, bool, DB::Context&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::MergeTreeData::MergingParams const&, std::__1::unique_ptr<DB::MergeTreeSettings, std::__1::default_delete<DB::MergeTreeSettings> >, bool) /build/obj-x86_64-linux-gnu/../src/Storages/StorageMergeTree.cpp:76:5\r\n    #10 0x1b32e665 in std::__1::shared_ptr<DB::StorageMergeTree> ext::shared_ptr_helper<DB::StorageMergeTree>::create<DB::StorageID const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::StorageInMemoryMetadata&, bool const&, DB::Context&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, DB::MergeTreeData::MergingParams&, std::__1::unique_ptr<DB::MergeTreeSettings, std::__1::default_delete<DB::MergeTreeSettings> >, bool const&>(DB::StorageID const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::StorageInMemoryMetadata&, bool const&, DB::Context&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, DB::MergeTreeData::MergingParams&, std::__1::unique_ptr<DB::MergeTreeSettings, std::__1::default_delete<DB::MergeTreeSettings> >&&, bool const&) /build/obj-x86_64-linux-gnu/../base/common/../ext/shared_ptr_helper.h:19:39\r\n    #11 0x1b31f075 in DB::create(DB::StorageFactory::Arguments const&) /build/obj-x86_64-linux-gnu/../src/Storages/MergeTree/registerStorageMergeTree.cpp:622:16\r\n    #12 0x1b330944 in decltype(std::__1::forward<std::__1::shared_ptr<DB::IStorage> (*&)(DB::StorageFactory::Arguments const&)>(fp)(std::__1::forward<DB::StorageFactory::Arguments const&>(fp0))) std::__1::__invoke<std::__1::shared_ptr<DB::IStorage> (*&)(DB::StorageFactory::Arguments const&), DB::StorageFactory::Arguments const&>(std::__1::shared_ptr<DB::IStorage> (*&)(DB::StorageFactory::Arguments const&), DB::StorageFactory::Arguments const&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3519:1\r\n    #13 0x1b330944 in std::__1::shared_ptr<DB::IStorage> std::__1::__invoke_void_return_wrapper<std::__1::shared_ptr<DB::IStorage> >::__call<std::__1::shared_ptr<DB::IStorage> (*&)(DB::StorageFactory::Arguments const&), DB::StorageFactory::Arguments const&>(std::__1::shared_ptr<DB::IStorage> (*&)(DB::StorageFactory::Arguments const&), DB::StorageFactory::Arguments const&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/__functional_base:317:16\r\n    #14 0x1b330944 in std::__1::__function::__alloc_func<std::__1::shared_ptr<DB::IStorage> (*)(DB::StorageFactory::Arguments const&), std::__1::allocator<std::__1::shared_ptr<DB::IStorage> (*)(DB::StorageFactory::Arguments const&)>, std::__1::shared_ptr<DB::IStorage> (DB::StorageFactory::Arguments const&)>::operator()(DB::StorageFactory::Arguments const&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1540:16\r\n    #15 0x1b330944 in std::__1::__function::__func<std::__1::shared_ptr<DB::IStorage> (*)(DB::StorageFactory::Arguments const&), std::__1::allocator<std::__1::shared_ptr<DB::IStorage> (*)(DB::StorageFactory::Arguments const&)>, std::__1::shared_ptr<DB::IStorage> (DB::StorageFactory::Arguments const&)>::operator()(DB::StorageFactory::Arguments const&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1714:12\r\n    #16 0x1aa05975 in std::__1::__function::__value_func<std::__1::shared_ptr<DB::IStorage> (DB::StorageFactory::Arguments const&)>::operator()(DB::StorageFactory::Arguments const&) const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1867:16\r\n    #17 0x1aa05975 in std::__1::function<std::__1::shared_ptr<DB::IStorage> (DB::StorageFactory::Arguments const&)>::operator()(DB::StorageFactory::Arguments const&) const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2473:12\r\n    #18 0x1aa05975 in DB::StorageFactory::get(DB::ASTCreateQuery const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::Context&, DB::Context&, DB::ColumnsDescription const&, DB::ConstraintsDescription const&, bool) const /build/obj-x86_64-linux-gnu/../src/Storages/StorageFactory.cpp:183:12\r\n    #19 0x1987302f in DB::createTableFromAST(DB::ASTCreateQuery, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::Context&, bool) /build/obj-x86_64-linux-gnu/../src/Databases/DatabaseOnDisk.cpp:74:36\r\n    #20 0x1988f96d in DB::(anonymous namespace)::tryAttachTable(DB::Context&, DB::ASTCreateQuery const&, DB::DatabaseOrdinary&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool) /build/obj-x86_64-linux-gnu/../src/Databases/DatabaseOrdinary.cpp:52:19\r\n    #21 0x1988f96d in DB::DatabaseOrdinary::loadStoredObjects(DB::Context&, bool)::$_1::operator()() const /build/obj-x86_64-linux-gnu/../src/Databases/DatabaseOrdinary.cpp:162:17\r\n    #22 0x1988f96d in decltype(std::__1::forward<DB::DatabaseOrdinary::loadStoredObjects(DB::Context&, bool)::$_1&>(fp)()) std::__1::__invoke<DB::DatabaseOrdinary::loadStoredObjects(DB::Context&, bool)::$_1&>(DB::DatabaseOrdinary::loadStoredObjects(DB::Context&, bool)::$_1&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3519:1\r\n    #23 0x1988f96d in void std::__1::__invoke_void_return_wrapper<void>::__call<DB::DatabaseOrdinary::loadStoredObjects(DB::Context&, bool)::$_1&>(DB::DatabaseOrdinary::loadStoredObjects(DB::Context&, bool)::$_1&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/__functional_base:348:9\r\n    #24 0x1988f96d in std::__1::__function::__alloc_func<DB::DatabaseOrdinary::loadStoredObjects(DB::Context&, bool)::$_1, std::__1::allocator<DB::DatabaseOrdinary::loadStoredObjects(DB::Context&, bool)::$_1>, void ()>::operator()() /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1540:16\r\n    #25 0x1988f96d in std::__1::__function::__func<DB::DatabaseOrdinary::loadStoredObjects(DB::Context&, bool)::$_1, std::__1::allocator<DB::DatabaseOrdinary::loadStoredObjects(DB::Context&, bool)::$_1>, void ()>::operator()() /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1714:12\r\n    #26 0xb4e7cd2 in std::__1::__function::__value_func<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1867:16\r\n    #27 0xb4e7cd2 in std::__1::function<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2473:12\r\n    #28 0xb4e7cd2 in ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::__1::__list_iterator<ThreadFromGlobalPool, void*>) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:227:17\r\n    #29 0xb4efba6 in void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()::operator()() const /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:108:73\r\n    #30 0xb4efba6 in decltype(std::__1::forward<void>(fp)(std::__1::forward<void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'() const&>(fp0)...)) std::__1::__invoke_constexpr<void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'() const&>(void&&, void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'() const&...) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3525:1\r\n    #31 0xb4efba6 in decltype(auto) std::__1::__apply_tuple_impl<void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'() const&, std::__1::tuple<> const&>(void&&, void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'() const&, std::__1::__tuple_indices<std::__1::tuple<> const&...>) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/tuple:1415:1\r\n    #32 0xb4efba6 in decltype(auto) std::__1::apply<void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'() const&, std::__1::tuple<> const&>(void&&, void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'() const&) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/tuple:1424:1\r\n    #33 0xb4efba6 in ThreadFromGlobalPool::ThreadFromGlobalPool<void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(void&&, void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()&&...)::'lambda'()::operator()() const /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.h:168:17\r\n    #34 0xb4e3223 in std::__1::__function::__value_func<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:1867:16\r\n    #35 0xb4e3223 in std::__1::function<void ()>::operator()() const /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2473:12\r\n    #36 0xb4e3223 in ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:227:17\r\n    #37 0xb4eafb7 in void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()::operator()() const /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:108:73\r\n    #38 0xb4eafb7 in decltype(std::__1::forward<void>(fp)(std::__1::forward<void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(fp0)...)) std::__1::__invoke<void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(void&&, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()&&...) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3519:1\r\n    #39 0xb4eafb7 in void std::__1::__thread_execute<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(std::__1::tuple<void, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>&, std::__1::__tuple_indices<>) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/thread:273:5\r\n    #40 0xb4eafb7 in void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()> >(void*) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/thread:284:5\r\n    #41 0x7fe4ce0ff6da in start_thread /build/glibc-OTsEL5/glibc-2.27/nptl/pthread_create.c:463\r\n\r\nThread T13 (QueryPipelineEx) created by T0 here:\r\n    #0 0xb35151a in pthread_create (/home/qoega/docker-ch/output/binary/clickhouse+0xb35151a)\r\n    #1 0xb4e921e in std::__1::__libcpp_thread_create(unsigned long*, void* (*)(void*), void*) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/__threading_support:394:10\r\n    #2 0xb4e921e in std::__1::thread::thread<void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'(), void>(void&&, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()&&...) /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/thread:300:16\r\n    #3 0xb4e0992 in void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:108:35\r\n    #4 0xb4e1e83 in ThreadPoolImpl<std::__1::thread>::scheduleOrThrow(std::__1::function<void ()>, int, unsigned long) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:144:5\r\n    #5 0xb4ed4ca in ThreadFromGlobalPool::ThreadFromGlobalPool<void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(void&&, void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()&&...) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.h:158:38\r\n    #6 0xb4e4a57 in void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:108:35\r\n    #7 0xb4e418b in ThreadPoolImpl<ThreadFromGlobalPool>::scheduleOrThrowOnError(std::__1::function<void ()>, int) /build/obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:132:5\r\n    #8 0x198878a0 in DB::DatabaseOrdinary::loadStoredObjects(DB::Context&, bool) /build/obj-x86_64-linux-gnu/../src/Databases/DatabaseOrdinary.cpp:160:18\r\n    #9 0x19d7431d in DB::InterpreterCreateQuery::createDatabase(DB::ASTCreateQuery&) /build/obj-x86_64-linux-gnu/../src/Interpreters/InterpreterCreateQuery.cpp:171:19\r\n    #10 0x19d90e20 in DB::InterpreterCreateQuery::execute() /build/obj-x86_64-linux-gnu/../src/Interpreters/InterpreterCreateQuery.cpp:790:16\r\n    #11 0x1a6bb7e1 in DB::executeCreateQuery(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::Context&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool) /build/obj-x86_64-linux-gnu/../src/Interpreters/loadMetadata.cpp:41:17\r\n    #12 0x1a6bb7e1 in DB::loadDatabase(DB::Context&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool) /build/obj-x86_64-linux-gnu/../src/Interpreters/loadMetadata.cpp:72:5\r\n    #13 0x1a6bc49d in DB::loadMetadataSystem(DB::Context&) /build/obj-x86_64-linux-gnu/../src/Interpreters/loadMetadata.cpp:140:9\r\n    #14 0xb3c7abb in DB::Server::main(std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&) /build/obj-x86_64-linux-gnu/../programs/server/Server.cpp:678:9\r\n    #15 0x218a0763 in Poco::Util::Application::run() /build/obj-x86_64-linux-gnu/../contrib/poco/Util/src/Application.cpp:334:8\r\n    #16 0xb3b173d in DB::Server::run() /build/obj-x86_64-linux-gnu/../programs/server/Server.cpp:188:25\r\n    #17 0xb3ffdfb in mainEntryClickHouseServer(int, char**) /build/obj-x86_64-linux-gnu/../programs/server/Server.cpp:1179:20\r\n    #18 0xb399707 in main /build/obj-x86_64-linux-gnu/../programs/main.cpp:324:12\r\n    #19 0x7fe4cd91cb96 in __libc_start_main /build/glibc-OTsEL5/glibc-2.27/csu/../csu/libc-start.c:310\r\n\r\nSUMMARY: AddressSanitizer: heap-buffer-overflow /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/vector:1635:31 in std::__1::vector<std::__1::shared_ptr<DB::Arena const>, std::__1::allocator<std::__1::shared_ptr<DB::Arena const> > >::push_back(std::__1::shared_ptr<DB::Arena const> const&)\r\nShadow bytes around the buggy address:\r\n  0x0c0680064e60: 00 00 00 fa fa fa fd fd fd fd fa fa fd fd fd fd\r\n  0x0c0680064e70: fa fa fd fd fd fd fa fa 00 00 00 00 fa fa fd fd\r\n  0x0c0680064e80: fd fd fa fa 00 00 00 00 fa fa 00 00 00 00 fa fa\r\n  0x0c0680064e90: 00 00 00 00 fa fa 00 00 00 fa fa fa 00 00 00 fa\r\n  0x0c0680064ea0: fa fa 00 00 00 00 fa fa fd fd fd fd fa fa 00 00\r\n=>0x0c0680064eb0: 00 00 fa fa fd fd fd fd fa fa 00 00 00 00[fa]fa\r\n  0x0c0680064ec0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\r\n  0x0c0680064ed0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\r\n  0x0c0680064ee0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\r\n  0x0c0680064ef0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\r\n  0x0c0680064f00: fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd\r\nShadow byte legend (one shadow byte represents 8 application bytes):\r\n  Addressable:           00\r\n  Partially addressable: 01 02 03 04 05 06 07\r\n  Heap left redzone:       fa\r\n  Freed heap region:       fd\r\n  Stack left redzone:      f1\r\n  Stack mid redzone:       f2\r\n  Stack right redzone:     f3\r\n  Stack after return:      f5\r\n  Stack use after scope:   f8\r\n  Global redzone:          f9\r\n  Global init order:       f6\r\n  Poisoned by user:        f7\r\n  Container overflow:      fc\r\n  Array cookie:            ac\r\n  Intra object redzone:    bb\r\n  ASan internal:           fe\r\n  Left alloca redzone:     ca\r\n  Right alloca redzone:    cb\r\n  Shadow gap:              cc\r\n==25831==ABORTING\r\n2020.07.02 11:09:22.465212 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: (version 20.6.1.1) (from thread 25885) (query_id: 12259b75-f839-4d94-b2b4-6d6d29fb2417) Sanitizer trap.\r\n2020.07.02 11:09:22.465737 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: Stack trace: 0xb4afe87 0x18e2e8a8 0xb382d96 0xb36a709 0xb36c1be 0xb36ca88 0x1a6d8a9f 0x19ff4ce4 0x1b9e564e 0x1b60e21a 0x1b609ef7 0x1b6059ed 0x1b60507e 0x1b625e32 0xb4e3224 0xb4eafb8 0x7fe4ce0ff6db 0x7fe4cda1c88f\r\n2020.07.02 11:09:22.466227 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 0. /build/obj-x86_64-linux-gnu/../src/Common/StackTrace.cpp:291: StackTrace::StackTrace() @ 0xb4afe87 in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.468604 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 1. /build/obj-x86_64-linux-gnu/../base/daemon/BaseDaemon.cpp:0: sanitizerDeathCallback() @ 0x18e2e8a8 in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.472201 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 2. __sanitizer::Die() @ 0xb382d96 in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.475719 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 3. ? @ 0xb36a709 in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.479230 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 4. __asan::ReportGenericError(unsigned long, unsigned long, unsigned long, unsigned long, bool, unsigned long, unsigned int, bool) @ 0xb36c1be in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.482698 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 5. __asan_report_load8 @ 0xb36ca88 in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.485163 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 6. /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/vector:897: DB::ColumnAggregateFunction::addArena(std::__1::shared_ptr<DB::Arena const>) @ 0x1a6d8a9f in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.488433 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 7. /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/memory:4206: DB::Aggregator::prepareBlockAndFillWithoutKey(DB::AggregatedDataVariants&, bool, bool) const @ 0x19ff4ce4 in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.492779 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 8. /build/obj-x86_64-linux-gnu/../src/Processors/Transforms/AggregatingTransform.cpp:344: DB::ConvertingAggregatedToChunksTransform::initialize() @ 0x1b9e564e in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.496080 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 9. /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:0: std::__1::__function::__func<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1, std::__1::allocator<DB::PipelineExecutor::addJob(DB::PipelineExecutor::ExecutionState*)::$_1>, void ()>::operator()() @ 0x1b60e21a in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.499179 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 10. /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:0: DB::PipelineExecutor::executeStepImpl(unsigned long, unsigned long, std::__1::atomic<bool>*) @ 0x1b609ef7 in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.502126 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 11. /build/obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:0: DB::PipelineExecutor::executeImpl(unsigned long) @ 0x1b6059ed in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.505116 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 12. /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/vector:1516: DB::PipelineExecutor::execute(unsigned long) @ 0x1b60507e in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.508056 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 13. /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/atomic:957: std::__1::__function::__func<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'(), std::__1::allocator<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()>, void ()>::operator()() @ 0x1b625e32 in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.508379 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 14. /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/atomic:1036: ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>) @ 0xb4e3224 in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.508893 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 15. /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/memory:2615: void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()> >(void*) @ 0xb4eafb8 in /home/qoega/docker-ch/output/binary/clickhouse\r\n2020.07.02 11:09:22.509055 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 16. start_thread @ 0x76db in /lib/x86_64-linux-gnu/libpthread-2.27.so\r\n2020.07.02 11:09:22.509339 [ 25885 ] {12259b75-f839-4d94-b2b4-6d6d29fb2417} <Fatal> BaseDaemon: 17. /build/glibc-OTsEL5/glibc-2.27/misc/../sysdeps/unix/sysv/linux/x86_64/clone.S:97: __GI___clone @ 0x12188f in /usr/lib/debug/lib/x86_64-linux-gnu/libc-2.27.so\r\n```",
  "created_at": "2020-07-02T16:15:04Z"
}