diff --git a/tests/queries/0_stateless/02460_projections_and_aggregate_null_if_empty.reference b/tests/queries/0_stateless/02460_projections_and_aggregate_null_if_empty.reference
new file mode 100644
index 000000000000..54f97aaa2e65
--- /dev/null
+++ b/tests/queries/0_stateless/02460_projections_and_aggregate_null_if_empty.reference
@@ -0,0 +1,1 @@
+20220920
diff --git a/tests/queries/0_stateless/02460_projections_and_aggregate_null_if_empty.sh b/tests/queries/0_stateless/02460_projections_and_aggregate_null_if_empty.sh
new file mode 100755
index 000000000000..6e96b9b8afcd
--- /dev/null
+++ b/tests/queries/0_stateless/02460_projections_and_aggregate_null_if_empty.sh
@@ -0,0 +1,9 @@
+#!/usr/bin/env bash
+# Tags: no-fasttest
+# Tag no-fasttest: depends on bzip2
+
+CURDIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+# shellcheck source=../shell_config.sh
+. "$CURDIR"/../shell_config.sh
+
+${CLICKHOUSE_LOCAL} --aggregate_functions_null_for_empty=1 --multiquery --query "create table test_date (date Int32) ENGINE = MergeTree ORDER BY (date) as select 20220920; SELECT max(date) FROM test_date";
