You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
Table function credentials are not properly masked in analyzer
There is a masking for functions in analyzer: https://github.com/ClickHouse/ClickHouse/blob/8610a01745a459459159b109b7193a5ab1a2d52e/src/Analyzer/Resolve/QueryAnalyzer.cpp#L2812-L2829

But it's not working for table functions (`s3`, `azureBlobStorage`, ...)
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
