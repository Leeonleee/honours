You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
Failed 01213_alter_rename_with_default_zookeeper with compact parts.
Renaming column, on which depends TTL expression is broken in ReplicatedMergeTree with compact parts.
It was missed, because CI check with enabled polymorphic parts haven't been working well for some period.

StackTrace:
```
2020.07.08 18:45:27.054943 [ 10032 ] {} <Error> test_rnqtie.table_rename_with_ttl: auto DB::StorageReplicatedMergeTree::queueTask()::(anonymous class)::operator()(DB::StorageReplicatedMergeTree::LogEntryPtr &) const: Code: 10, e.displayText() = DB::Exception: Not found column date2 in block. There are only columns: value2, value1, renamed_date2, renamed_date1, toIntervalMonth(10000), Stack trace (when copying this message, always include the lines below):

0. /home/ap11/ClickHouse/build_clang/../contrib/libcxx/include/exception:129: Poco::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x1033002c in /home/ap11/ClickHouse/build_clang/programs/clickhouse
1. /home/ap11/ClickHouse/build_clang/../src/Common/Exception.cpp:38: DB::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x9acb249 in /home/ap11/ClickHouse/build_clang/programs/clickhouse
2. /home/ap11/ClickHouse/build_clang/../src/Core/Block.cpp:0: DB::Block::getPositionByName(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) const @ 0xda713f1 in /home/ap11/ClickHouse/build_clang/programs/clickhouse
3. /home/ap11/ClickHouse/build_clang/../contrib/libcxx/include/vector:1549: DB::ExpressionAction::execute(DB::Block&, bool) const @ 0xde97c8e in /home/ap11/ClickHouse/build_clang/programs/clickhouse
4. /home/ap11/ClickHouse/build_clang/../src/Interpreters/ExpressionActions.cpp:684: DB::ExpressionActions::execute(DB::Block&, bool) const @ 0xde9bb5d in /home/ap11/ClickHouse/build_clang/programs/clickhouse
5. /home/ap11/ClickHouse/build_clang/../contrib/libcxx/include/memory:3821: DB::TTLBlockInputStream::removeRowsWithExpiredTableTTL(DB::Block&) @ 0xe40d720 in /home/ap11/ClickHouse/build_clang/programs/clickhouse
6. /home/ap11/ClickHouse/build_clang/../src/DataStreams/TTLBlockInputStream.cpp:0: DB::TTLBlockInputStream::readImpl() @ 0xe40d139 in /home/ap11/ClickHouse/build_clang/programs/clickhouse
7. /home/ap11/ClickHouse/build_clang/../src/DataStreams/IBlockInputStream.cpp:0: DB::IBlockInputStream::read() @ 0xdb7f2c5 in /home/ap11/ClickHouse/build_clang/programs/clickhouse
8. /home/ap11/ClickHouse/build_clang/../contrib/libcxx/include/vector:1383: DB::MergeTreeDataMergerMutator::mutateAllPartColumns(std::__1::shared_ptr<DB::IMergeTreeDataPart>, std::__1::shared_ptr<DB::StorageInMemoryMetadata const> const&, std::__1::vector<std::__1::shared_ptr<DB::IMergeTreeIndex const>, std::__1::allocator<std::__1::shared_ptr<DB::IMergeTreeIndex const> > > const&, std::__1::shared_ptr<DB::IBlockInputStream>, long, std::__1::shared_ptr<DB::ICompressionCodec> const&, DB::MergeListEntry&, bool) const @ 0xe3fcc6c in /home/ap11/ClickHouse/build_clang/programs/clickhouse
9. /home/ap11/ClickHouse/build_clang/../src/Storages/MergeTree/MergeTreeDataMergerMutator.cpp:1096: DB::MergeTreeDataMergerMutator::mutatePartToTemporaryPart(DB::FutureMergedMutatedPart const&, std::__1::shared_ptr<DB::StorageInMemoryMetadata const> const&, DB::MutationCommands const&, DB::MergeListEntry&, long, DB::Context const&, std::__1::unique_ptr<DB::IReservation, std::__1::default_delete<DB::IReservation> > const&, std::__1::shared_ptr<DB::RWLockImpl::LockHolderImpl>&) @ 0xe3f8afd in /home/ap11/ClickHouse/build_clang/programs/clickhouse
10. /home/ap11/ClickHouse/build_clang/../src/Storages/StorageReplicatedMergeTree.cpp:1476: DB::StorageReplicatedMergeTree::tryExecutePartMutation(DB::ReplicatedMergeTreeLogEntry const&) @ 0xe2a9ac1 in /home/ap11/ClickHouse/build_clang/programs/clickhouse
11. /home/ap11/ClickHouse/build_clang/../src/Storages/StorageReplicatedMergeTree.cpp:0: DB::StorageReplicatedMergeTree::executeLogEntry(DB::ReplicatedMergeTreeLogEntry&) @ 0xe29ea6b in /home/ap11/ClickHouse/build_clang/programs/clickhouse
12. /home/ap11/ClickHouse/build_clang/../contrib/libcxx/include/functional:1714: std::__1::__function::__func<DB::StorageReplicatedMergeTree::queueTask()::$_14, std::__1::allocator<DB::StorageReplicatedMergeTree::queueTask()::$_14>, bool (std::__1::shared_ptr<DB::ReplicatedMergeTreeLogEntry>&)>::operator()(std::__1::shared_ptr<DB::ReplicatedMergeTreeLogEntry>&) @ 0xe2e5b3c in /home/ap11/ClickHouse/build_clang/programs/clickhouse
13. /home/ap11/ClickHouse/build_clang/../src/Storages/MergeTree/ReplicatedMergeTreeQueue.cpp:1239: DB::ReplicatedMergeTreeQueue::processEntry(std::__1::function<std::__1::shared_ptr<zkutil::ZooKeeper> ()>, std::__1::shared_ptr<DB::ReplicatedMergeTreeLogEntry>&, std::__1::function<bool (std::__1::shared_ptr<DB::ReplicatedMergeTreeLogEntry>&)>) @ 0xe4d18d5 in /home/ap11/ClickHouse/build_clang/programs/clickhouse
14. /home/ap11/ClickHouse/build_clang/../src/Storages/StorageReplicatedMergeTree.cpp:0: DB::StorageReplicatedMergeTree::queueTask() @ 0xe2bbe79 in /home/ap11/ClickHouse/build_clang/programs/clickhouse
15. /home/ap11/ClickHouse/build_clang/../contrib/libcxx/include/functional:0: DB::BackgroundProcessingPool::workLoopFunc() @ 0xe388d45 in /home/ap11/ClickHouse/build_clang/programs/clickhouse
16. /home/ap11/ClickHouse/build_clang/../src/Storages/MergeTree/BackgroundProcessingPool.cpp:0: std::__1::__function::__func<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::BackgroundProcessingPool::BackgroundProcessingPool(int, DB::BackgroundProcessingPool::PoolSettings const&, char const*, char const*)::$_0>(DB::BackgroundProcessingPool::BackgroundProcessingPool(int, DB::BackgroundProcessingPool::PoolSettings const&, char const*, char const*)::$_0&&)::'lambda'(), std::__1::allocator<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::BackgroundProcessingPool::BackgroundProcessingPool(int, DB::BackgroundProcessingPool::PoolSettings const&, char const*, char const*)::$_0>(DB::BackgroundProcessingPool::BackgroundProcessingPool(int, DB::BackgroundProcessingPool::PoolSettings const&, char const*, char const*)::$_0&&)::'lambda'()>, void ()>::operator()() @ 0xe38928e in /home/ap11/ClickHouse/build_clang/programs/clickhouse
17. /home/ap11/ClickHouse/build_clang/../contrib/libcxx/include/atomic:1036: ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>) @ 0x9aeb896 in /home/ap11/ClickHouse/build_clang/programs/clickhouse
18. /home/ap11/ClickHouse/build_clang/../contrib/libcxx/include/memory:2615: void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()> >(void*) @ 0x9aed91b in /home/ap11/ClickHouse/build_clang/programs/clickhouse
19. start_thread @ 0x76db in /lib/x86_64-linux-gnu/libpthread-2.27.so
20. /build/glibc-OTsEL5/glibc-2.27/misc/../sysdeps/unix/sysv/linux/x86_64/clone.S:97: __clone @ 0x12188f in /usr/lib/debug/lib/x86_64-linux-gnu/libc-2.27.so
 (version 20.6.1.1)
```
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
