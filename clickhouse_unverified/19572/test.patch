diff --git a/tests/queries/0_stateless/01181_db_atomic_drop_on_cluster.reference b/tests/queries/0_stateless/01181_db_atomic_drop_on_cluster.reference
new file mode 100644
index 000000000000..5e2366c8a419
--- /dev/null
+++ b/tests/queries/0_stateless/01181_db_atomic_drop_on_cluster.reference
@@ -0,0 +1,5 @@
+localhost	9000	0		0	0
+localhost	9000	0		0	0
+localhost	9000	0		0	0
+localhost	9000	0		0	0
+localhost	9000	0		0	0
diff --git a/tests/queries/0_stateless/01181_db_atomic_drop_on_cluster.sql b/tests/queries/0_stateless/01181_db_atomic_drop_on_cluster.sql
new file mode 100644
index 000000000000..ca393c366171
--- /dev/null
+++ b/tests/queries/0_stateless/01181_db_atomic_drop_on_cluster.sql
@@ -0,0 +1,6 @@
+DROP TABLE IF EXISTS test_repl ON CLUSTER test_shard_localhost SYNC;
+
+CREATE TABLE test_repl ON CLUSTER test_shard_localhost (n UInt64) ENGINE ReplicatedMergeTree('/clickhouse/test_01181/{database}/test_repl','r1') ORDER BY tuple();
+DETACH TABLE test_repl ON CLUSTER test_shard_localhost SYNC;
+ATTACH TABLE test_repl ON CLUSTER test_shard_localhost;
+DROP TABLE test_repl ON CLUSTER test_shard_localhost SYNC;
diff --git a/tests/queries/0_stateless/arcadia_skip_list.txt b/tests/queries/0_stateless/arcadia_skip_list.txt
index f2bac038e38f..98e33c21887f 100644
--- a/tests/queries/0_stateless/arcadia_skip_list.txt
+++ b/tests/queries/0_stateless/arcadia_skip_list.txt
@@ -193,3 +193,4 @@
 01660_sum_ubsan
 01669_columns_declaration_serde
 01666_blns
+01181_db_atomic_drop_on_cluster
