diff --git a/tests/queries/0_stateless/02465_limit_trivial_max_rows_to_read.reference b/tests/queries/0_stateless/02465_limit_trivial_max_rows_to_read.reference
new file mode 100644
index 000000000000..87370760038e
--- /dev/null
+++ b/tests/queries/0_stateless/02465_limit_trivial_max_rows_to_read.reference
@@ -0,0 +1,7 @@
+0
+0
+1
+2
+3
+4
+0
diff --git a/tests/queries/0_stateless/02465_limit_trivial_max_rows_to_read.sql b/tests/queries/0_stateless/02465_limit_trivial_max_rows_to_read.sql
new file mode 100644
index 000000000000..ee7a4e6b6b50
--- /dev/null
+++ b/tests/queries/0_stateless/02465_limit_trivial_max_rows_to_read.sql
@@ -0,0 +1,22 @@
+DROP TABLE IF EXISTS t_max_rows_to_read;
+
+CREATE TABLE t_max_rows_to_read (a UInt64)
+ENGINE = MergeTree ORDER BY a
+SETTINGS index_granularity = 4;
+
+INSERT INTO t_max_rows_to_read SELECT number FROM numbers(100);
+
+SET max_block_size = 10;
+SET max_rows_to_read = 20;
+SET read_overflow_mode = 'throw';
+
+SELECT number FROM numbers(30); -- { serverError 158 }
+SELECT number FROM numbers(30) LIMIT 21; -- { serverError 158 }
+SELECT number FROM numbers(30) LIMIT 1;
+SELECT number FROM numbers(5);
+
+SELECT a FROM t_max_rows_to_read LIMIT 1;
+SELECT a FROM t_max_rows_to_read LIMIT 11 offset 11; -- { serverError 158 }
+SELECT a FROM t_max_rows_to_read WHERE a > 50 LIMIT 1; -- { serverError 158 }
+
+DROP TABLE t_max_rows_to_read;
