diff --git a/tests/queries/0_stateless/02958_transform_enum.reference b/tests/queries/0_stateless/02958_transform_enum.reference
new file mode 100644
index 000000000000..4c1476a8922d
--- /dev/null
+++ b/tests/queries/0_stateless/02958_transform_enum.reference
@@ -0,0 +1,4 @@
+Hello	123
+world	456
+Hello	test
+world	best
diff --git a/tests/queries/0_stateless/02958_transform_enum.sql b/tests/queries/0_stateless/02958_transform_enum.sql
new file mode 100644
index 000000000000..3b0fd40a2823
--- /dev/null
+++ b/tests/queries/0_stateless/02958_transform_enum.sql
@@ -0,0 +1,3 @@
+WITH arrayJoin(['Hello', 'world'])::Enum('Hello', 'world') AS x SELECT x, transform(x, ['Hello', 'world'], [123, 456], 0);
+WITH arrayJoin(['Hello', 'world'])::Enum('Hello', 'world') AS x SELECT x, transform(x, ['Hello', 'world', 'goodbye'], [123, 456], 0); -- { serverError UNKNOWN_ELEMENT_OF_ENUM }
+WITH arrayJoin(['Hello', 'world'])::Enum('Hello', 'world') AS x SELECT x, transform(x, ['Hello', 'world'], ['test', 'best']::Array(Enum('test' = 123, 'best' = 456, '' = 0)), ''::Enum('test' = 123, 'best' = 456, '' = 0)) AS y;
