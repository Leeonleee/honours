diff --git a/tests/queries/0_stateless/02343_group_by_use_nulls.reference b/tests/queries/0_stateless/02343_group_by_use_nulls.reference
index 24b7bb5277cb..c694b7abfa16 100644
--- a/tests/queries/0_stateless/02343_group_by_use_nulls.reference
+++ b/tests/queries/0_stateless/02343_group_by_use_nulls.reference
@@ -213,3 +213,27 @@ SETTINGS group_by_use_nulls=1;
 \N	\N	45
 
 0	0	45
+SELECT
+    number,
+    number % 2,
+    sum(number) AS val
+FROM numbers(10)
+GROUP BY
+    GROUPING SETS (
+        (number),
+        (number % 2)
+    )
+ORDER BY 1, tuple(val)
+SETTINGS group_by_use_nulls = 1, max_bytes_before_external_sort=10;
+0	\N	0
+1	\N	1
+2	\N	2
+3	\N	3
+4	\N	4
+5	\N	5
+6	\N	6
+7	\N	7
+8	\N	8
+9	\N	9
+\N	0	20
+\N	1	25
diff --git a/tests/queries/0_stateless/02343_group_by_use_nulls.sql b/tests/queries/0_stateless/02343_group_by_use_nulls.sql
index a14db8240139..a979a78be0d2 100644
--- a/tests/queries/0_stateless/02343_group_by_use_nulls.sql
+++ b/tests/queries/0_stateless/02343_group_by_use_nulls.sql
@@ -60,3 +60,16 @@ FROM numbers(10)
 GROUP BY CUBE(number, number % 2) WITH TOTALS
 ORDER BY (number, number % 2, val)
 SETTINGS group_by_use_nulls=1;
+
+SELECT
+    number,
+    number % 2,
+    sum(number) AS val
+FROM numbers(10)
+GROUP BY
+    GROUPING SETS (
+        (number),
+        (number % 2)
+    )
+ORDER BY 1, tuple(val)
+SETTINGS group_by_use_nulls = 1, max_bytes_before_external_sort=10;
