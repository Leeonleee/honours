diff --git a/tests/queries/0_stateless/01529_bad_memory_tracking.reference b/tests/queries/0_stateless/01529_bad_memory_tracking.reference
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/tests/queries/0_stateless/01529_bad_memory_tracking.sh b/tests/queries/0_stateless/01529_bad_memory_tracking.sh
new file mode 100755
index 000000000000..f91f6ebaf80c
--- /dev/null
+++ b/tests/queries/0_stateless/01529_bad_memory_tracking.sh
@@ -0,0 +1,10 @@
+#!/usr/bin/env bash
+
+CLICKHOUSE_CLIENT_SERVER_LOGS_LEVEL=fatal
+
+CURDIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+. "$CURDIR"/../shell_config.sh
+
+for _ in {1..10}; do
+    ${CLICKHOUSE_CLIENT} --max_memory_usage '10G' --query "SELECT i FROM generateRandom('i Array(Int8)', 1, 1, 1048577) LIMIT 65536" 2>&1 | grep -v -P '^(Received exception from server|Code: 241)' ||:
+done
