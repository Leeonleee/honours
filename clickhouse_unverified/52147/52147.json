{
  "repo": "ClickHouse/ClickHouse",
  "pull_number": 52147,
  "instance_id": "ClickHouse__ClickHouse-52147",
  "issue_numbers": [
    "52140"
  ],
  "base_commit": "05d4932842463e01240a970402d5f213996cc1bd",
  "patch": "diff --git a/docs/en/sql-reference/aggregate-functions/reference/any.md b/docs/en/sql-reference/aggregate-functions/reference/any.md\nindex db19f524b312..f79fe66c05d7 100644\n--- a/docs/en/sql-reference/aggregate-functions/reference/any.md\n+++ b/docs/en/sql-reference/aggregate-functions/reference/any.md\n@@ -12,3 +12,5 @@ To get a determinate result, you can use the \u2018min\u2019 or \u2018max\u2019 function ins\n In some cases, you can rely on the order of execution. This applies to cases when SELECT comes from a subquery that uses ORDER BY.\n \n When a `SELECT` query has the `GROUP BY` clause or at least one aggregate function, ClickHouse (in contrast to MySQL) requires that all expressions in the `SELECT`, `HAVING`, and `ORDER BY` clauses be calculated from keys or from aggregate functions. In other words, each column selected from the table must be used either in keys or inside aggregate functions. To get behavior like in MySQL, you can put the other columns in the `any` aggregate function.\n+\n+- Alias: `any_value`\ndiff --git a/src/AggregateFunctions/AggregateFunctionAny.cpp b/src/AggregateFunctions/AggregateFunctionAny.cpp\nindex 7f57062126bf..fc8f50efabec 100644\n--- a/src/AggregateFunctions/AggregateFunctionAny.cpp\n+++ b/src/AggregateFunctions/AggregateFunctionAny.cpp\n@@ -49,6 +49,7 @@ void registerAggregateFunctionsAny(AggregateFunctionFactory & factory)\n     AggregateFunctionProperties properties = { .returns_default_when_only_null = false, .is_order_dependent = true };\n \n     factory.registerFunction(\"any\", { createAggregateFunctionAny, properties });\n+    factory.registerAlias(\"any_value\", \"any\", AggregateFunctionFactory::CaseInsensitive);\n     factory.registerFunction(\"anyLast\", { createAggregateFunctionAnyLast, properties });\n     factory.registerFunction(\"anyHeavy\", { createAggregateFunctionAnyHeavy, properties });\n \n",
  "test_patch": "diff --git a/tests/queries/0_stateless/02813_any_value.reference b/tests/queries/0_stateless/02813_any_value.reference\nnew file mode 100644\nindex 000000000000..aa47d0d46d47\n--- /dev/null\n+++ b/tests/queries/0_stateless/02813_any_value.reference\n@@ -0,0 +1,2 @@\n+0\n+0\ndiff --git a/tests/queries/0_stateless/02813_any_value.sql b/tests/queries/0_stateless/02813_any_value.sql\nnew file mode 100644\nindex 000000000000..6bd2b66fde18\n--- /dev/null\n+++ b/tests/queries/0_stateless/02813_any_value.sql\n@@ -0,0 +1,3 @@\n+SET max_block_size = 10, max_threads = 1;\n+select any_value(number) from numbers(10);\n+select aNy_VaLue(number) from numbers(10);\n",
  "problem_statement": "Add `any_value` as a compatibility alias for `any`\n**Use case**\r\n\r\nCompatibility with BigQuery.\r\n\r\n**Describe the solution you'd like**\r\n\r\nSimply add this alias. It should be case-insensitive.\n",
  "hints_text": "",
  "created_at": "2023-07-16T05:24:10Z"
}