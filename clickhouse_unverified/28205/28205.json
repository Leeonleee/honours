{
  "repo": "ClickHouse/ClickHouse",
  "pull_number": 28205,
  "instance_id": "ClickHouse__ClickHouse-28205",
  "issue_numbers": [
    "28165"
  ],
  "base_commit": "e42b0291555389400fe658a95f15e623849318ec",
  "patch": "diff --git a/src/Columns/ColumnUnique.h b/src/Columns/ColumnUnique.h\nindex bfa80b5e3b21..72904c5ab8fc 100644\n--- a/src/Columns/ColumnUnique.h\n+++ b/src/Columns/ColumnUnique.h\n@@ -301,7 +301,7 @@ size_t ColumnUnique<ColumnType>::getNullValueIndex() const\n template <typename ColumnType>\n size_t ColumnUnique<ColumnType>::uniqueInsert(const Field & x)\n {\n-    if (x.getType() == Field::Types::Null)\n+    if (x.isNull())\n         return getNullValueIndex();\n \n     if (valuesHaveFixedSize())\n",
  "test_patch": "diff --git a/tests/queries/0_stateless/2013_lc_nullable_and_infinity.reference b/tests/queries/0_stateless/2013_lc_nullable_and_infinity.reference\nnew file mode 100644\nindex 000000000000..ef5038b2236f\n--- /dev/null\n+++ b/tests/queries/0_stateless/2013_lc_nullable_and_infinity.reference\n@@ -0,0 +1,4 @@\n+0\t\\N\n+\n+0\t\\N\n+0\t\\N\ndiff --git a/tests/queries/0_stateless/2013_lc_nullable_and_infinity.sql b/tests/queries/0_stateless/2013_lc_nullable_and_infinity.sql\nnew file mode 100644\nindex 000000000000..c1c8a9c00b1a\n--- /dev/null\n+++ b/tests/queries/0_stateless/2013_lc_nullable_and_infinity.sql\n@@ -0,0 +1,3 @@\n+set receive_timeout = '10', receive_data_timeout_ms = '10000', extremes = '1', allow_suspicious_low_cardinality_types = '1', force_primary_key = '1', join_use_nulls = '1', max_rows_to_read = '1', join_algorithm = 'partial_merge';\n+\n+SELECT * FROM (SELECT dummy AS val FROM system.one) AS s1 ANY LEFT JOIN (SELECT toLowCardinality(dummy) AS rval FROM system.one) AS s2 ON (val + 9223372036854775806) = (rval * 1);\n",
  "problem_statement": "use-of-uninitialized-value ExtremesTransform.cpp\nhttps://clickhouse-test-reports.s3.yandex.net/28139/eecd5b21c9e39bfec3b5299be8b4809ca6c57382/fuzzer_msan/report.html#fail1\r\n``` sql\r\n2021.08.25 21:23:59.602867 [ 61 ] {902e9705-eaa8-4982-bdb4-1f2f5121cc6f} <Debug> executeQuery: (from [::1]:32806) SELECT * FROM (SELECT dummy AS val FROM system.one) AS s1 ANY LEFT JOIN (SELECT toLowCardinality(dummy) AS rval FROM system.one) AS s2 ON (val + 9223372036854775806) = (rval * 1)\r\n```\r\n\r\n```\r\n==36==WARNING: MemorySanitizer: use-of-uninitialized-value\r\n    #0 0xa0cf5f5 in memequalSSE2Wide(char const*, char const*, unsigned long) obj-x86_64-linux-gnu/../base/common/../common/StringRef.h:139:22\r\n    #1 0x3234939b in operator==(StringRef, StringRef) obj-x86_64-linux-gnu/../base/common/../common/StringRef.h:158:12\r\n    #2 0x3234939b in DB::ColumnUnique<DB::ColumnVector<char8_t> >::uniqueInsertData(char const*, unsigned long) obj-x86_64-linux-gnu/../src/Columns/ColumnUniq\r\nue.h:330:92\r\n    #3 0x3234939b in DB::ColumnUnique<DB::ColumnVector<char8_t> >::uniqueInsert(DB::Field const&) obj-x86_64-linux-gnu/../src/Columns/ColumnUnique.h:308:16\r\n    #4 0x357692c2 in DB::ColumnLowCardinality::insert(DB::Field const&) obj-x86_64-linux-gnu/../src/Columns/ColumnLowCardinality.cpp:140:53\r\n    #5 0x381753e4 in DB::ExtremesTransform::transform(DB::Chunk&) obj-x86_64-linux-gnu/../src/Processors/Transforms/ExtremesTransform.cpp:88:38\r\n    #6 0x2931ace6 in DB::ISimpleTransform::transform(DB::Chunk&, DB::Chunk&) obj-x86_64-linux-gnu/../src/Processors/ISimpleTransform.h:42:9\r\n    #7 0x37993dee in DB::ISimpleTransform::work() obj-x86_64-linux-gnu/../src/Processors/ISimpleTransform.cpp:89:9\r\n    #8 0x38173794 in DB::ExtremesTransform::work() obj-x86_64-linux-gnu/../src/Processors/Transforms/ExtremesTransform.cpp:54:27\r\n    #9 0x37ab6238 in DB::executeJob(DB::IProcessor*) obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:88:20\r\n    #10 0x37ab6238 in DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0::operator()() const obj-x86_64-linux-gnu/../src/Processors/Executors/Pipeli\r\nneExecutor.cpp:105:13\r\n    #11 0x37ab6238 in decltype(std::__1::forward<DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0&>(fp)()) std::__1::__invoke<DB::PipelineExecutor\r\n::addJob(DB::ExecutingGraph::Node*)::$_0&>(DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0&) obj-x86_64-linux-gnu/../contrib/libcxx/include/type_\r\ntraits:3676:1\r\n    #12 0x37ab6238 in void std::__1::__invoke_void_return_wrapper<void>::__call<DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0&>(DB::PipelineExe\r\ncutor::addJob(DB::ExecutingGraph::Node*)::$_0&) obj-x86_64-linux-gnu/../contrib/libcxx/include/__functional_base:348:9\r\n    #13 0x37ab6238 in std::__1::__function::__default_alloc_func<DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0, void ()>::operator()() obj-x86_\r\n64-linux-gnu/../contrib/libcxx/include/functional:1608:12\r\n    #14 0x37ab6238 in void std::__1::__function::__policy_invoker<void ()>::__call_impl<std::__1::__function::__default_alloc_func<DB::PipelineExecutor::addJo\r\nb(DB::ExecutingGraph::Node*)::$_0, void ()> >(std::__1::__function::__policy_storage const*) obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2089:16\r\n    #15 0x37aaeb48 in std::__1::__function::__policy_func<void ()>::operator()() const obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2221:16\r\n    #16 0x37aaeb48 in std::__1::function<void ()>::operator()() const obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2560:12\r\n    #17 0x37aaeb48 in DB::PipelineExecutor::executeStepImpl(unsigned long, unsigned long, std::__1::atomic<bool>*) obj-x86_64-linux-gnu/../src/Processors/Exec\r\nutors/PipelineExecutor.cpp:597:17\r\n    #18 0x37aa832b in DB::PipelineExecutor::executeSingleThread(unsigned long, unsigned long) obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecuto\r\nr.cpp:485:5\r\n    #19 0x37aa832b in DB::PipelineExecutor::executeImpl(unsigned long) obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:824:9\r\n    #20 0x37aa66f6 in DB::PipelineExecutor::execute(unsigned long) obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:407:9\r\n    #21 0x37ae78c7 in DB::threadFunction(DB::PullingAsyncPipelineExecutor::Data&, std::__1::shared_ptr<DB::ThreadGroupStatus>, unsigned long) obj-x86_64-linux\r\n-gnu/../src/Processors/Executors/PullingAsyncPipelineExecutor.cpp:80:24\r\n    #22 0x37ae78c7 in DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0::operator()() const obj-x86_64-linux-gnu/../src/Processors/Execut\r\nors/PullingAsyncPipelineExecutor.cpp:107:13\r\n    #23 0x37ae78c7 in decltype(std::__1::forward<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&>(fp)()) std::__1::__invoke_constexpr<\r\nDB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&) obj-x86_64-l\r\ninux-gnu/../contrib/libcxx/include/type_traits:3682:1\r\n    #24 0x37ae78c7 in decltype(auto) std::__1::__apply_tuple_impl<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&, std::__1::tuple<>&>\r\n(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&, std::__1::tuple<>&, std::__1::__tuple_indices<>) obj-x86_64-linux-gnu/../contrib/lib\r\ncxx/include/tuple:1415:1\r\n    #25 0x37ae78c7 in decltype(auto) std::__1::apply<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&, std::__1::tuple<>&>(DB::PullingA\r\nsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&, std::__1::tuple<>&) obj-x86_64-linux-gnu/../contrib/libcxx/include/tuple:1424:1\r\n    #26 0x37ae78c7 in ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipel\r\nineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()::operator()() obj-x86_64-linux-gnu/../src/Common/ThreadPool.h:182:13\r\n    #27 0x37ae78c7 in decltype(std::__1::forward<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(fp)()) std::__1::__invoke<ThreadFromG\r\nlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, uns\r\nigned long)::$_0&&)::'lambda'()&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&) obj-x86_64-linux-gnu/../contrib/libcxx/include/typ\r\ne_traits:3676:1\r\n    #28 0x37ae78c7 in void std::__1::__invoke_void_return_wrapper<void>::__call<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::p\r\null(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()&>(DB::PullingAsyncPipelineExecutor:\r\n:pull(DB::Chunk&, unsigned long)::$_0&&...) obj-x86_64-linux-gnu/../contrib/libcxx/include/__functional_base:348:9\r\n    #29 0x37ae78c7 in std::__1::__function::__default_alloc_func<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&,\r\n unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'(), void ()>::operator()() obj-x86_64-linux-gnu/../co\r\nntrib/libcxx/include/functional:1608:12\r\n    #30 0x37ae78c7 in void std::__1::__function::__policy_invoker<void ()>::__call_impl<std::__1::__function::__default_alloc_func<ThreadFromGlobalPool::Threa\r\ndFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0\r\n&&)::'lambda'(), void ()> >(std::__1::__function::__policy_storage const*) obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2089:16\r\n    #31 0x9f80296 in std::__1::__function::__policy_func<void ()>::operator()() const obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2221:16\r\n    #32 0x9f80296 in std::__1::function<void ()>::operator()() const obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2560:12\r\n    #33 0x9f80296 in ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>) obj-x86_64-linux-gnu/../src/Common/ThreadPoo\r\nl.cpp:270:17\r\n    #34 0x9f8d297 in void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda0'\r\n()::operator()() const obj-x86_64-linux-gnu/../src/Common/ThreadPool.cpp:136:73\r\n    #35 0x9f8d297 in decltype(std::__1::forward<void>(fp)(std::__1::forward<void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void\r\n()>, int, std::__1::optional<unsigned long>)::'lambda0'()>(fp0)...)) std::__1::__invoke<void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::fu\r\nnction<void ()>, int, std::__1::optional<unsigned long>)::'lambda0'()>(void&&, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<vo\r\nid ()>, int, std::__1::optional<unsigned long>)::'lambda0'()&&...) obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3676:1\r\n    #36 0x9f8d297 in void std::__1::__thread_execute<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, vo\r\nid ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda0'()>(std::__1::tuple<voi\r\nd, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda0'()>&, std::__1::__\r\ntuple_indices<>) obj-x86_64-linux-gnu/../contrib/libcxx/include/thread:280:5\r\n    #37 0x9f8d297 in void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__threa\r\nd_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda0'()> >(vo\r\nid*) obj-x86_64-linux-gnu/../contrib/libcxx/include/thread:291:5\r\n    #38 0x7fd5de6a0608 in start_thread /build/glibc-eX1tMB/glibc-2.31/nptl/pthread_create.c:477:8\r\n    #39 0x7fd5de5c7292 in clone /build/glibc-eX1tMB/glibc-2.31/misc/../sysdeps/unix/sysv/linux/x86_64/clone.S:95\r\n\r\n  Uninitialized value was created by an allocation of 'min_value' in the stack frame of function '_ZN2DB17ExtremesTransform9transformERNS_5ChunkE'\r\n    #0 0x38173ca0 in DB::ExtremesTransform::transform(DB::Chunk&) obj-x86_64-linux-gnu/../src/Processors/Transforms/ExtremesTransform.cpp:58\r\n\r\nSUMMARY: MemorySanitizer: use-of-uninitialized-value obj-x86_64-linux-gnu/../base/common/../common/StringRef.h:139:22 in memequalSSE2Wide(char const*, char co\r\nnst*, unsigned long)\r\n\r\n2021.08.25 21:24:00.619839 [ 280 ] {} <Fatal> BaseDaemon: ########################################\r\n2021.08.25 21:24:00.620564 [ 280 ] {} <Fatal> BaseDaemon: (version 21.10.1.7892, build id: 7D5B0F05746F3F8DEED09AB43F05462B0925436D) (from thread 257) (query_id: 902e9705-eaa8-4982-bdb4-1f2f5121cc6f) Received signal Unknown signal (-3)\r\n2021.08.25 21:24:00.620847 [ 280 ] {} <Fatal> BaseDaemon: Sanitizer trap.\r\n2021.08.25 21:24:00.621225 [ 280 ] {} <Fatal> BaseDaemon: Stack trace: 0x9e94739 0x311a82fc 0x9d8ab56 0x9d213a3 0xa0cf5f6 0x3234939c 0x357692c3 0x381753e5 0x2931ace7 0x37993def 0x38173795 0x37ab6239 0x37aaeb49 0x37aa832c 0x37aa66f7 0x37ae78c8 0x9f80297 0x9f8d298 0x7fd5de6a0609 0x7fd5de5c7293\r\n2021.08.25 21:24:00.768739 [ 280 ] {} <Fatal> BaseDaemon: 0.1. inlined from ./obj-x86_64-linux-gnu/../src/Common/StackTrace.cpp:304: StackTrace::tryCapture()\r\n2021.08.25 21:24:00.768991 [ 280 ] {} <Fatal> BaseDaemon: 0. ../src/Common/StackTrace.cpp:265: StackTrace::StackTrace() @ 0x9e94739 in /workspace/clickhouse\r\n2021.08.25 21:24:01.296121 [ 280 ] {} <Fatal> BaseDaemon: 1.1. inlined from ./obj-x86_64-linux-gnu/../src/Common/CurrentThread.h:78: DB::CurrentThread::getQueryId()\r\n2021.08.25 21:24:01.296325 [ 280 ] {} <Fatal> BaseDaemon: 1. ../base/daemon/BaseDaemon.cpp:396: sanitizerDeathCallback() @ 0x311a82fc in /workspace/clickhouse\r\n2021.08.25 21:24:07.989897 [ 280 ] {} <Fatal> BaseDaemon: 2. __sanitizer::Die() @ 0x9d8ab56 in /workspace/clickhouse\r\n2021.08.25 21:24:10.619906 [ 281 ] {} <Fatal> BaseDaemon: ########################################\r\n2021.08.25 21:24:10.620069 [ 281 ] {} <Fatal> BaseDaemon: (version 21.10.1.7892, build id: 7D5B0F05746F3F8DEED09AB43F05462B0925436D) (from thread 257) (query_id: 902e9705-eaa8-4982-bdb4-1f2f5121cc6f) Received signal Aborted (6)\r\n2021.08.25 21:24:10.620246 [ 281 ] {} <Fatal> BaseDaemon:\r\n2021.08.25 21:24:10.620429 [ 281 ] {} <Fatal> BaseDaemon: Stack trace: 0x7fd5de4eb18b 0x7fd5de4ca859 0x9d8c237 0x9d8abb1 0x9d213a3 0xa0cf5f6 0x3234939c 0x357692c3 0x381753e5 0x2931ace7 0x37993def 0x38173795 0x37ab6239 0x37aaeb49 0x37aa832c 0x37aa66f7 0x37ae78c8 0x9f80297 0x9f8d298 0x7fd5de6a0609 0x7fd5de5c7293\r\n2021.08.25 21:24:10.620669 [ 281 ] {} <Fatal> BaseDaemon: 4. raise @ 0x4618b in /usr/lib/x86_64-linux-gnu/libc-2.31.so\r\n2021.08.25 21:24:10.620809 [ 281 ] {} <Fatal> BaseDaemon: 5. abort @ 0x25859 in /usr/lib/x86_64-linux-gnu/libc-2.31.so\r\n2021.08.25 21:24:14.547685 [ 280 ] {} <Fatal> BaseDaemon: 3. ? @ 0x9d213a3 in /workspace/clickhouse\r\n2021.08.25 21:24:14.669704 [ 280 ] {} <Fatal> BaseDaemon: 4. ./obj-x86_64-linux-gnu/../base/common/../common/StringRef.h:133: memequalSSE2Wide(char const*, char const*, unsigned long) @ 0xa0cf5f6 in /workspace/clickhouse\r\n2021.08.25 21:24:15.384046 [ 280 ] {} <Fatal> BaseDaemon: 5.1. inlined from ./obj-x86_64-linux-gnu/../base/common/../common/StringRef.h:0: operator==(StringRef, StringRef)\r\n2021.08.25 21:24:15.384255 [ 280 ] {} <Fatal> BaseDaemon: 5.2. inlined from ../src/Columns/ColumnUnique.h:330: DB::ColumnUnique<DB::ColumnVector<char8_t> >::uniqueInsertData(char const*, unsigned long)\r\n2021.08.25 21:24:15.384348 [ 280 ] {} <Fatal> BaseDaemon: 5. ../src/Columns/ColumnUnique.h:308: DB::ColumnUnique<DB::ColumnVector<char8_t> >::uniqueInsert(DB::Field const&) @ 0x3234939c in /workspace/clickhouse\r\n2021.08.25 21:24:15.623573 [ 280 ] {} <Fatal> BaseDaemon: 6. ./obj-x86_64-linux-gnu/../src/Columns/ColumnLowCardinality.cpp:0: DB::ColumnLowCardinality::insert(DB::Field const&) @ 0x357692c3 in /workspace/clickhouse\r\n2021.08.25 21:24:15.758007 [ 280 ] {} <Fatal> BaseDaemon: 7.1. inlined from ./obj-x86_64-linux-gnu/../contrib/libcxx/include/vector:1550: std::__1::vector<COW<DB::IColumn>::mutable_ptr<DB::IColumn>, std::__1::allocator<COW<DB::IColumn>::mutable_ptr<DB::IColumn> > >::operator[](unsigned long)\r\n2021.08.25 21:24:15.758111 [ 280 ] {} <Fatal> BaseDaemon: 7. ../src/Processors/Transforms/ExtremesTransform.cpp:89: DB::ExtremesTransform::transform(DB::Chunk&) @ 0x381753e5 in /workspace/clickhouse\r\n2021.08.25 21:24:16.081336 [ 280 ] {} <Fatal> BaseDaemon: 8.1. inlined from ./obj-x86_64-linux-gnu/../contrib/libcxx/include/type_traits:3933: std::__1::enable_if<(is_move_constructible<COW<DB::IColumn>::immutable_ptr<DB::IColumn>*>::value) && (is_move_assignable<COW<DB::IColumn>::immutable_ptr<DB::IColumn>*>::value), void>::type std::__1::swap<COW<DB::IColumn>::immutable_ptr<DB::IColumn>*>(COW<DB::IColumn>::immutable_ptr<DB::IColumn>*&, COW<DB::IColumn>::immutable_ptr<DB::IColumn>*&)\r\n2021.08.25 21:24:16.081479 [ 280 ] {} <Fatal> BaseDaemon: 8.2. inlined from ../contrib/libcxx/include/vector:2054: std::__1::vector<COW<DB::IColumn>::immutable_ptr<DB::IColumn>, std::__1::allocator<COW<DB::IColumn>::immutable_ptr<DB::IColumn> > >::swap(std::__1::vector<COW<DB::IColumn>::immutable_ptr<DB::IColumn>, std::__1::allocator<COW<DB::IColumn>::immutable_ptr<DB::IColumn> > >&)\r\n2021.08.25 21:24:16.081591 [ 280 ] {} <Fatal> BaseDaemon: 8.3. inlined from ../src/Processors/Chunk.h:64: DB::Chunk::swap(DB::Chunk&)\r\n2021.08.25 21:24:16.081675 [ 280 ] {} <Fatal> BaseDaemon: 8. ../src/Processors/ISimpleTransform.h:43: DB::ISimpleTransform::transform(DB::Chunk&, DB::Chunk&) @ 0x2931ace7 in /workspace/clickhouse\r\n2021.08.25 21:24:16.198643 [ 280 ] {} <Fatal> BaseDaemon: 9. ./obj-x86_64-linux-gnu/../src/Processors/ISimpleTransform.cpp:99: DB::ISimpleTransform::work() @ 0x37993def in /workspace/clickhouse\r\n2021.08.25 21:24:16.334838 [ 280 ] {} <Fatal> BaseDaemon: 10. ./obj-x86_64-linux-gnu/../src/Processors/Transforms/ExtremesTransform.cpp:0: DB::ExtremesTransform::work() @ 0x38173795 in /workspace/clickhouse\r\n2021.08.25 21:24:16.944488 [ 280 ] {} <Fatal> BaseDaemon: 11.1. inlined from ./obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:108: operator()\r\n2021.08.25 21:24:16.944730 [ 280 ] {} <Fatal> BaseDaemon: 11.2. inlined from ../contrib/libcxx/include/type_traits:3676: decltype(std::__1::forward<DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0&>(fp)()) std::__1::__invoke<DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0&>(DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0&)\r\n2021.08.25 21:24:16.944884 [ 280 ] {} <Fatal> BaseDaemon: 11.3. inlined from ../contrib/libcxx/include/__functional_base:348: void std::__1::__invoke_void_return_wrapper<void>::__call<DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0&>(DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0&)\r\n2021.08.25 21:24:16.945019 [ 280 ] {} <Fatal> BaseDaemon: 11.4. inlined from ../contrib/libcxx/include/functional:1608: std::__1::__function::__default_alloc_func<DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0, void ()>::operator()()\r\n2021.08.25 21:24:16.945119 [ 280 ] {} <Fatal> BaseDaemon: 11. ../contrib/libcxx/include/functional:2089: void std::__1::__function::__policy_invoker<void ()>::__call_impl<std::__1::__function::__default_alloc_func<DB::PipelineExecutor::addJob(DB::ExecutingGraph::Node*)::$_0, void ()> >(std::__1::__function::__policy_storage const*) @ 0x37ab6239 in /workspace/clickhouse\r\n2021.08.25 21:24:17.186562 [ 281 ] {} <Fatal> BaseDaemon: 6. ? @ 0x9d8c237 in /workspace/clickhouse\r\n2021.08.25 21:24:17.512830 [ 280 ] {} <Fatal> BaseDaemon: 12. ./obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:604: DB::PipelineExecutor::executeStepImpl(unsigned long, unsigned long, std::__1::atomic<bool>*) @ 0x37aaeb49 in /workspace/clickhouse\r\n2021.08.25 21:24:18.018344 [ 280 ] {} <Fatal> BaseDaemon: 13.1. inlined from ./obj-x86_64-linux-gnu/../src/Processors/Executors/PipelineExecutor.cpp:0: DB::PipelineExecutor::executeSingleThread(unsigned long, unsigned long)\r\n2021.08.25 21:24:18.018510 [ 280 ] {} <Fatal> BaseDaemon: 13. ../src/Processors/Executors/PipelineExecutor.cpp:824: DB::PipelineExecutor::executeImpl(unsigned long) @ 0x37aa832c in /workspace/clickhouse\r\n2021.08.25 21:24:18.580559 [ 280 ] {} <Fatal> BaseDaemon: 14.1. inlined from ./obj-x86_64-linux-gnu/../contrib/libcxx/include/memory:1627: std::__1::unique_ptr<DB::ExecutingGraph, std::__1::default_delete<DB::ExecutingGraph> >::operator->() const\r\n2021.08.25 21:24:18.580718 [ 280 ] {} <Fatal> BaseDaemon: 14. ../src/Processors/Executors/PipelineExecutor.cpp:410: DB::PipelineExecutor::execute(unsigned long) @ 0x37aa66f7 in /workspace/clickhouse\r\n2021.08.25 21:24:18.864853 [ 280 ] {} <Fatal> BaseDaemon: 15.1. inlined from ./obj-x86_64-linux-gnu/../src/Processors/Executors/PullingAsyncPipelineExecutor.cpp:81: DB::threadFunction(DB::PullingAsyncPipelineExecutor::Data&, std::__1::shared_ptr<DB::ThreadGroupStatus>, unsigned long)\r\n2021.08.25 21:24:18.865031 [ 280 ] {} <Fatal> BaseDaemon: 15.2. inlined from ../src/Processors/Executors/PullingAsyncPipelineExecutor.cpp:107: operator()\r\n2021.08.25 21:24:18.865183 [ 280 ] {} <Fatal> BaseDaemon: 15.3. inlined from ../contrib/libcxx/include/type_traits:3682: decltype(std::__1::forward<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&>(fp)()) std::__1::__invoke_constexpr<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&)\r\n2021.08.25 21:24:18.865333 [ 280 ] {} <Fatal> BaseDaemon: 15.4. inlined from ../contrib/libcxx/include/tuple:1415: decltype(auto) std::__1::__apply_tuple_impl<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&, std::__1::tuple<>&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&, std::__1::tuple<>&, std::__1::__tuple_indices<>)\r\n2021.08.25 21:24:18.865469 [ 280 ] {} <Fatal> BaseDaemon: 15.5. inlined from ../contrib/libcxx/include/tuple:1424: decltype(auto) std::__1::apply<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&, std::__1::tuple<>&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&, std::__1::tuple<>&)\r\n2021.08.25 21:24:18.865575 [ 280 ] {} <Fatal> BaseDaemon: 15.6. inlined from ../src/Common/ThreadPool.h:182: operator()\r\n2021.08.25 21:24:18.865740 [ 280 ] {} <Fatal> BaseDaemon: 15.7. inlined from ../contrib/libcxx/include/type_traits:3676: decltype(std::__1::forward<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(fp)()) std::__1::__invoke<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)\r\n2021.08.25 21:24:18.865905 [ 280 ] {} <Fatal> BaseDaemon: 15.8. inlined from ../contrib/libcxx/include/__functional_base:348: void std::__1::__invoke_void_return_wrapper<void>::__call<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'()&>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&...)\r\n2021.08.25 21:24:18.866039 [ 280 ] {} <Fatal> BaseDaemon: 15.9. inlined from ../contrib/libcxx/include/functional:1608: std::__1::__function::__default_alloc_func<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'(), void ()>::operator()()\r\n2021.08.25 21:24:18.866132 [ 280 ] {} <Fatal> BaseDaemon: 15. ../contrib/libcxx/include/functional:2089: void std::__1::__function::__policy_invoker<void ()>::__call_impl<std::__1::__function::__default_alloc_func<ThreadFromGlobalPool::ThreadFromGlobalPool<DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0>(DB::PullingAsyncPipelineExecutor::pull(DB::Chunk&, unsigned long)::$_0&&)::'lambda'(), void ()> >(std::__1::__function::__policy_storage const*) @ 0x37ae78c8 in /workspace/clickhouse\r\n2021.08.25 21:24:18.994121 [ 280 ] {} <Fatal> BaseDaemon: 16.1. inlined from ./obj-x86_64-linux-gnu/../contrib/libcxx/include/functional:2210: std::__1::__function::__policy_func<void ()>::operator=(std::nullptr_t)\r\n2021.08.25 21:24:18.994278 [ 280 ] {} <Fatal> BaseDaemon: 16.2. inlined from ../contrib/libcxx/include/functional:2533: std::__1::function<void ()>::operator=(std::nullptr_t)\r\n2021.08.25 21:24:18.994374 [ 280 ] {} <Fatal> BaseDaemon: 16. ../src/Common/ThreadPool.cpp:273: ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>) @ 0x9f80297 in /workspace/clickhouse\r\n2021.08.25 21:24:19.135674 [ 280 ] {} <Fatal> BaseDaemon: 17.1. inlined from ./obj-x86_64-linux-gnu/../contrib/libcxx/include/memory:1655: std::__1::unique_ptr<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda0'()>, std::__1::default_delete<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda0'()> > >::reset(std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda0'()>*)\r\n2021.08.25 21:24:19.135846 [ 280 ] {} <Fatal> BaseDaemon: 17.2. inlined from ../contrib/libcxx/include/memory:1612: ~unique_ptr\r\n2021.08.25 21:24:19.135953 [ 280 ] {} <Fatal> BaseDaemon: 17. ../contrib/libcxx/include/thread:293: void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void ThreadPoolImpl<std::__1::thread>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda0'()> >(void*) @ 0x9f8d298 in /workspace/clickhouse\r\n2021.08.25 21:24:19.136147 [ 280 ] {} <Fatal> BaseDaemon: 18. start_thread @ 0x9609 in /usr/lib/x86_64-linux-gnu/libpthread-2.31.so\r\n2021.08.25 21:24:19.136300 [ 280 ] {} <Fatal> BaseDaemon: 19. __clone @ 0x122293 in /usr/lib/x86_64-linux-gnu/libc-2.31.so\r\n2021.08.25 21:24:23.845928 [ 281 ] {} <Fatal> BaseDaemon: 7. ? @ 0x9d8abb1 in /workspace/clickhouse\r\n2021.08.25 21:24:24.236804 [ 280 ] {} <Fatal> BaseDaemon: Calculated checksum of the binary: F838603134E90ACF2CAA49ACB30104E0. There is no information about the reference checksum.\r\n2021.08.25 21:24:30.411660 [ 281 ] {} <Fatal> BaseDaemon: 8. ? @ 0x9d213a3 in /workspace/clickhouse\r\n2021.08.25 21:24:30.537343 [ 281 ] {} <Fatal> BaseDaemon: 9. ./obj-x86_64-linux-gnu/../base/common/../common/StringRef.h:133: memequalSSE2Wide(char const*, char const*, unsigned long) @ 0xa0cf5f6 in /workspace/clickhouse\r\n```\n",
  "hints_text": "",
  "created_at": "2021-08-26T18:22:09Z",
  "modified_files": [
    "src/Columns/ColumnUnique.h"
  ],
  "modified_test_files": [
    "b/tests/queries/0_stateless/2013_lc_nullable_and_infinity.reference",
    "b/tests/queries/0_stateless/2013_lc_nullable_and_infinity.sql"
  ]
}