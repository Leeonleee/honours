You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
In some cases ORDER BY is mistakenly removed from subquery if WITH FILL is used
```
SELECT s FROM (SELECT 5 AS x, 'Hello' AS s ORDER BY x WITH FILL FROM 1 TO 10) ORDER BY s

┌─s─────┐
│ Hello │
└───────┘
```
Incorrect results of ORDER BY ... WITH FILL when used together with toStartOfMinute()
```
select toStartOfMinute(some_time) as ts
from (select toDateTime('2021-07-07 15:21:05') as some_time)
order by ts with fill from toDateTime('2021-07-07 15:21:00') to toDateTime('2021-07-07 15:21:15') step 5

```
returns 
1970-01-01 01:00:00
2021-07-07 15:21:00
1970-01-01 01:00:00

but expected to return
2021-07-07 15:21:00
2021-07-07 15:21:05
2021-07-07 15:21:10

select version()
21.4.7.3
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
