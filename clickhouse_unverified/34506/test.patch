diff --git a/tests/queries/0_stateless/02180_group_by_lowcardinality.reference b/tests/queries/0_stateless/02180_group_by_lowcardinality.reference
new file mode 100644
index 000000000000..a7149390d1a5
--- /dev/null
+++ b/tests/queries/0_stateless/02180_group_by_lowcardinality.reference
@@ -0,0 +1,10 @@
+{"val":"1563.8","avg(toUInt32(val))":null}
+{"val":"891.4","avg(toUInt32(val))":null}
+{"val":"584.4","avg(toUInt32(val))":null}
+{"val":"269","avg(toUInt32(val))":269}
+{"val":"1233.4","avg(toUInt32(val))":null}
+{"val":"1833","avg(toUInt32(val))":1833}
+{"val":"1009.4","avg(toUInt32(val))":null}
+{"val":"1178.6","avg(toUInt32(val))":null}
+{"val":"372.6","avg(toUInt32(val))":null}
+{"val":"232.4","avg(toUInt32(val))":null}
diff --git a/tests/queries/0_stateless/02180_group_by_lowcardinality.sql b/tests/queries/0_stateless/02180_group_by_lowcardinality.sql
new file mode 100644
index 000000000000..463753a624e4
--- /dev/null
+++ b/tests/queries/0_stateless/02180_group_by_lowcardinality.sql
@@ -0,0 +1,10 @@
+create table if not exists t_group_by_lowcardinality(p_date Date, val LowCardinality(Nullable(String))) 
+engine=MergeTree() partition by p_date order by tuple();
+
+insert into t_group_by_lowcardinality select today() as p_date, toString(number/5) as val from numbers(10000);
+insert into t_group_by_lowcardinality select today() as p_date, Null as val from numbers(100);
+
+select val, avg(toUInt32(val)) from t_group_by_lowcardinality group by val limit 10 settings max_threads=1, max_rows_to_group_by=100, group_by_overflow_mode='any' format JSONEachRow;
+
+drop table if exists t_group_by_lowcardinality;
+
