diff --git a/tests/queries/0_stateless/02764_index_analysis_fix.reference b/tests/queries/0_stateless/02764_index_analysis_fix.reference
new file mode 100644
index 000000000000..8eeacf99fa8c
--- /dev/null
+++ b/tests/queries/0_stateless/02764_index_analysis_fix.reference
@@ -0,0 +1,1 @@
+2022-10-01 10:10:10
diff --git a/tests/queries/0_stateless/02764_index_analysis_fix.sql b/tests/queries/0_stateless/02764_index_analysis_fix.sql
new file mode 100644
index 000000000000..541a3444ef30
--- /dev/null
+++ b/tests/queries/0_stateless/02764_index_analysis_fix.sql
@@ -0,0 +1,9 @@
+drop table if exists x;
+
+create table x (dt String) engine MergeTree partition by toYYYYMM(toDate(dt)) order by tuple();
+
+insert into x values ('2022-10-01 10:10:10');
+
+select * from x where dt like '2022-10-01%';
+
+drop table x;
