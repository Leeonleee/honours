diff --git a/tests/queries/0_stateless/02117_show_create_table_system.reference b/tests/queries/0_stateless/02117_show_create_table_system.reference
index ad27b86c6f5b..65362e9f35db 100644
--- a/tests/queries/0_stateless/02117_show_create_table_system.reference
+++ b/tests/queries/0_stateless/02117_show_create_table_system.reference
@@ -1013,7 +1013,8 @@ COMMENT 'SYSTEM TABLE is built on the fly.'
 CREATE TABLE system.table_functions
 (
     `name` String,
-    `description` String
+    `description` String,
+    `allow_readonly` UInt8
 )
 ENGINE = SystemTableFunctions
 COMMENT 'SYSTEM TABLE is built on the fly.'
diff --git a/tests/queries/0_stateless/02473_functions_in_readonly_mode.reference b/tests/queries/0_stateless/02473_functions_in_readonly_mode.reference
new file mode 100644
index 000000000000..500004a06b29
--- /dev/null
+++ b/tests/queries/0_stateless/02473_functions_in_readonly_mode.reference
@@ -0,0 +1,3 @@
+0
+123
+0
diff --git a/tests/queries/0_stateless/02473_functions_in_readonly_mode.sql b/tests/queries/0_stateless/02473_functions_in_readonly_mode.sql
new file mode 100644
index 000000000000..c5c82d2e2bf3
--- /dev/null
+++ b/tests/queries/0_stateless/02473_functions_in_readonly_mode.sql
@@ -0,0 +1,4 @@
+SELECT * from numbers(1);
+SELECT * from format('TSV', '123');
+SELECT * from numbers(1) SETTINGS readonly=1;
+SELECT * from format('TSV', '123') SETTINGS readonly=1; -- { serverError READONLY }
\ No newline at end of file
