diff --git a/tests/queries/0_stateless/00984_parser_stack_overflow.reference b/tests/queries/0_stateless/00984_parser_stack_overflow.reference
index a46c80e92337..0cf6a1f96df3 100644
--- a/tests/queries/0_stateless/00984_parser_stack_overflow.reference
+++ b/tests/queries/0_stateless/00984_parser_stack_overflow.reference
@@ -1,6 +1,4 @@
 exceeded
 exceeded
-exceeded
-exceeded
 20002
 1
diff --git a/tests/queries/0_stateless/00984_parser_stack_overflow.sh b/tests/queries/0_stateless/00984_parser_stack_overflow.sh
index 329e51e774ad..a7854b91ee27 100755
--- a/tests/queries/0_stateless/00984_parser_stack_overflow.sh
+++ b/tests/queries/0_stateless/00984_parser_stack_overflow.sh
@@ -1,4 +1,5 @@
 #!/usr/bin/env bash
+# Tags: no-asan
 
 # Such a huge timeout mostly for debug build.
 CLICKHOUSE_CURL_TIMEOUT=60
diff --git a/tests/queries/0_stateless/01062_max_parser_depth.reference b/tests/queries/0_stateless/01062_max_parser_depth.reference
index 3efc4f06710e..fc9c24676eb6 100644
--- a/tests/queries/0_stateless/01062_max_parser_depth.reference
+++ b/tests/queries/0_stateless/01062_max_parser_depth.reference
@@ -1,4 +1,3 @@
 -
-Maximum parse depth (42) exceeded.
 -
-Maximum parse depth (20) exceeded.
+-
diff --git a/tests/queries/0_stateless/01062_max_parser_depth.sh b/tests/queries/0_stateless/01062_max_parser_depth.sh
index 27593272f920..baebd7becd85 100755
--- a/tests/queries/0_stateless/01062_max_parser_depth.sh
+++ b/tests/queries/0_stateless/01062_max_parser_depth.sh
@@ -9,3 +9,4 @@ echo -
 echo 'select (1+1)*(2+1)' | ${CLICKHOUSE_CURL} -sSg "${CLICKHOUSE_URL}&max_parser_depth=42" -d @- 2>&1 | grep -oP "Maximum parse depth .* exceeded."
 echo -
 echo 'select 1' | ${CLICKHOUSE_CURL} -sSg "${CLICKHOUSE_URL}&max_parser_depth=20" -d @- 2>&1 | grep -oP "Maximum parse depth .* exceeded."
+echo -
diff --git a/tests/queries/0_stateless/01196_max_parser_depth.reference b/tests/queries/0_stateless/01196_max_parser_depth.reference
index 072fc270acd9..d2222a8b8952 100644
--- a/tests/queries/0_stateless/01196_max_parser_depth.reference
+++ b/tests/queries/0_stateless/01196_max_parser_depth.reference
@@ -1,4 +1,5 @@
-Code: 306
-Code: 306
-Code: 306
-Code: 306
+Code: 167
+Code: 167
+Code: 167
+Code: 167
+Code: 167
diff --git a/tests/queries/0_stateless/01196_max_parser_depth.sh b/tests/queries/0_stateless/01196_max_parser_depth.sh
index ae4851bf0c34..57283feb7f0e 100755
--- a/tests/queries/0_stateless/01196_max_parser_depth.sh
+++ b/tests/queries/0_stateless/01196_max_parser_depth.sh
@@ -6,6 +6,6 @@ CURDIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
 
 { printf "select "; for _ in {1..1000}; do printf "coalesce(null, "; done; printf "1"; for _ in {1..1000}; do printf ")"; done; } > "${CLICKHOUSE_TMP}"/query
 
-cat "${CLICKHOUSE_TMP}"/query | $CLICKHOUSE_CLIENT 2>&1 | grep -o -F 'Code: 306'
-cat "${CLICKHOUSE_TMP}"/query | $CLICKHOUSE_LOCAL 2>&1 | grep -o -F 'Code: 306'
-cat "${CLICKHOUSE_TMP}"/query | $CLICKHOUSE_CURL --data-binary @- -vsS "$CLICKHOUSE_URL" 2>&1 | grep -o -F 'Code: 306'
+cat "${CLICKHOUSE_TMP}"/query | $CLICKHOUSE_CLIENT 2>&1 | grep -o -F 'Code: 167'
+cat "${CLICKHOUSE_TMP}"/query | $CLICKHOUSE_LOCAL 2>&1 | grep -o -F 'Code: 167'
+cat "${CLICKHOUSE_TMP}"/query | $CLICKHOUSE_CURL --data-binary @- -vsS "$CLICKHOUSE_URL" 2>&1 | grep -o -F 'Code: 167'
