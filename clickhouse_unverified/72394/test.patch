diff --git a/tests/queries/0_stateless/03276_functions_to_subcolumns_lc.reference b/tests/queries/0_stateless/03276_functions_to_subcolumns_lc.reference
new file mode 100644
index 000000000000..3bc835eaeac0
--- /dev/null
+++ b/tests/queries/0_stateless/03276_functions_to_subcolumns_lc.reference
@@ -0,0 +1,1 @@
+['foo']	['bar']
diff --git a/tests/queries/0_stateless/03276_functions_to_subcolumns_lc.sql b/tests/queries/0_stateless/03276_functions_to_subcolumns_lc.sql
new file mode 100644
index 000000000000..b3b8c1a79f8d
--- /dev/null
+++ b/tests/queries/0_stateless/03276_functions_to_subcolumns_lc.sql
@@ -0,0 +1,14 @@
+DROP TABLE IF EXISTS t_map_lc;
+
+CREATE TABLE t_map_lc
+(
+    kv Map(LowCardinality(String), LowCardinality(String)),
+    k Array(LowCardinality(String)) ALIAS mapKeys(kv),
+    v Array(LowCardinality(String)) ALIAS mapValues(kv)
+) ENGINE = Memory;
+
+INSERT INTO t_map_lc VALUES (map('foo', 'bar'));
+
+SELECT k, v FROM t_map_lc SETTINGS optimize_functions_to_subcolumns=1;
+
+DROP TABLE t_map_lc;
