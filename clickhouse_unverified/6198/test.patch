diff --git a/dbms/tests/queries/0_stateless/00975_json_hang.reference b/dbms/tests/queries/0_stateless/00975_json_hang.reference
new file mode 100644
index 000000000000..1d474d525571
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00975_json_hang.reference
@@ -0,0 +1,2 @@
+false
+true
diff --git a/dbms/tests/queries/0_stateless/00975_json_hang.sql b/dbms/tests/queries/0_stateless/00975_json_hang.sql
new file mode 100644
index 000000000000..d60411cb7965
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00975_json_hang.sql
@@ -0,0 +1,1 @@
+SELECT DISTINCT JSONExtractRaw(concat('{"x":', rand() % 2 ? 'true' : 'false', '}'), 'x') AS res FROM numbers(1000000) ORDER BY res;
