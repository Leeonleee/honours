diff --git a/tests/queries/0_stateless/02965_projection_with_partition_pruning.reference b/tests/queries/0_stateless/02965_projection_with_partition_pruning.reference
new file mode 100644
index 000000000000..5816b4eb49bb
--- /dev/null
+++ b/tests/queries/0_stateless/02965_projection_with_partition_pruning.reference
@@ -0,0 +1,1 @@
+3	4
diff --git a/tests/queries/0_stateless/02965_projection_with_partition_pruning.sql b/tests/queries/0_stateless/02965_projection_with_partition_pruning.sql
new file mode 100644
index 000000000000..92f7cc0671c9
--- /dev/null
+++ b/tests/queries/0_stateless/02965_projection_with_partition_pruning.sql
@@ -0,0 +1,9 @@
+drop table if exists a;
+
+create table a (i int, j int, projection p (select * order by j)) engine MergeTree partition by i order by tuple() settings index_granularity = 1;
+
+insert into a values (1, 2), (0, 5), (3, 4);
+
+select * from a where i > 0 and j = 4 settings force_index_by_date = 1;
+
+drop table a;
