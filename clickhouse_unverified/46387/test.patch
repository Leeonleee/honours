diff --git a/tests/queries/0_stateless/02565_update_empty_nested.reference b/tests/queries/0_stateless/02565_update_empty_nested.reference
new file mode 100644
index 000000000000..3d358ef673ef
--- /dev/null
+++ b/tests/queries/0_stateless/02565_update_empty_nested.reference
@@ -0,0 +1,1 @@
+450000	450000
diff --git a/tests/queries/0_stateless/02565_update_empty_nested.sql b/tests/queries/0_stateless/02565_update_empty_nested.sql
new file mode 100644
index 000000000000..ca1c1f5f36e2
--- /dev/null
+++ b/tests/queries/0_stateless/02565_update_empty_nested.sql
@@ -0,0 +1,22 @@
+DROP TABLE IF EXISTS t_update_empty_nested;
+
+CREATE TABLE t_update_empty_nested
+(
+    `id` UInt32,
+    `nested.arr1` Array(UInt64),
+)
+ENGINE = MergeTree
+ORDER BY id
+SETTINGS min_bytes_for_wide_part = 0;
+
+SET mutations_sync = 2;
+
+INSERT INTO t_update_empty_nested SELECT 1, range(number % 10) FROM numbers(100000);
+ALTER TABLE t_update_empty_nested ADD COLUMN `nested.arr2` Array(UInt64);
+
+ALTER TABLE t_update_empty_nested UPDATE `nested.arr2` = `nested.arr1` WHERE 1;
+
+SELECT * FROM t_update_empty_nested FORMAT Null;
+SELECT sum(length(nested.arr1)), sum(length(nested.arr2)) FROM t_update_empty_nested;
+
+DROP TABLE t_update_empty_nested;
