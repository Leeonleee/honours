diff --git a/tests/queries/0_stateless/01786_nullable_string_tsv_at_eof.reference b/tests/queries/0_stateless/01786_nullable_string_tsv_at_eof.reference
new file mode 100644
index 000000000000..35b388bbafbe
--- /dev/null
+++ b/tests/queries/0_stateless/01786_nullable_string_tsv_at_eof.reference
@@ -0,0 +1,6 @@
+1	
+1	
+1	
+1	
+1	
+1	
diff --git a/tests/queries/0_stateless/01786_nullable_string_tsv_at_eof.sh b/tests/queries/0_stateless/01786_nullable_string_tsv_at_eof.sh
new file mode 100755
index 000000000000..f0a663ae4092
--- /dev/null
+++ b/tests/queries/0_stateless/01786_nullable_string_tsv_at_eof.sh
@@ -0,0 +1,12 @@
+#!/usr/bin/env bash
+
+CUR_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+# shellcheck source=../shell_config.sh
+. "$CUR_DIR"/../shell_config.sh
+
+printf '1\t' | $CLICKHOUSE_LOCAL --query="SELECT * FROM table" --structure='a String, b String'
+printf '1\t' | $CLICKHOUSE_LOCAL --input_format_null_as_default 0 --query="SELECT * FROM table" --structure='a String, b String'
+printf '1\t' | $CLICKHOUSE_LOCAL --input_format_null_as_default 1 --query="SELECT * FROM table" --structure='a String, b String'
+printf '1\t' | $CLICKHOUSE_LOCAL --query="SELECT * FROM table" --structure='a String, b Nullable(String)'
+printf '1\t' | $CLICKHOUSE_LOCAL --input_format_null_as_default 0 --query="SELECT * FROM table" --structure='a String, b Nullable(String)'
+printf '1\t' | $CLICKHOUSE_LOCAL --input_format_null_as_default 1 --query="SELECT * FROM table" --structure='a Nullable(String), b Nullable(String)'
