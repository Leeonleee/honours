{
  "repo": "ClickHouse/ClickHouse",
  "pull_number": 11753,
  "instance_id": "ClickHouse__ClickHouse-11753",
  "issue_numbers": [
    "11488"
  ],
  "base_commit": "d0beeaf7c4bf98c2dd392beb283c87107e0363d5",
  "patch": "diff --git a/src/Interpreters/TranslateQualifiedNamesVisitor.cpp b/src/Interpreters/TranslateQualifiedNamesVisitor.cpp\nindex 908eb2fd57c2..fcc4948d88ac 100644\n--- a/src/Interpreters/TranslateQualifiedNamesVisitor.cpp\n+++ b/src/Interpreters/TranslateQualifiedNamesVisitor.cpp\n@@ -210,13 +210,11 @@ void TranslateQualifiedNamesMatcher::visit(ASTExpressionList & node, const ASTPt\n                 if (tables_with_columns.empty())\n                     throw Exception(\"An asterisk cannot be replaced with empty columns.\", ErrorCodes::LOGICAL_ERROR);\n                 has_asterisk = true;\n-                break;\n             }\n             else if (const auto * qa = child->as<ASTQualifiedAsterisk>())\n             {\n                 visit(*qa, child, data); /// check if it's OK before rewrite\n                 has_asterisk = true;\n-                break;\n             }\n         }\n \n",
  "test_patch": "diff --git a/tests/queries/0_stateless/01333_select_abc_asterisk.reference b/tests/queries/0_stateless/01333_select_abc_asterisk.reference\nnew file mode 100644\nindex 000000000000..573541ac9702\n--- /dev/null\n+++ b/tests/queries/0_stateless/01333_select_abc_asterisk.reference\n@@ -0,0 +1,1 @@\n+0\ndiff --git a/tests/queries/0_stateless/01333_select_abc_asterisk.sql b/tests/queries/0_stateless/01333_select_abc_asterisk.sql\nnew file mode 100644\nindex 000000000000..e59829131d64\n--- /dev/null\n+++ b/tests/queries/0_stateless/01333_select_abc_asterisk.sql\n@@ -0,0 +1,6 @@\n+select *;\n+\n+--error: should be failed for abc.*;\n+select abc.*; --{serverError 47}\n+select *, abc.*; --{serverError 47}\n+select abc.*, *; --{serverError 47}\n",
  "problem_statement": "The query `SELECT *, xyz.*` is executing successfully but should not\n\n",
  "hints_text": "Should `select *` work as `select * from system.one` or we need disable both `select *` and `select xyz.*`?\n`Should select * work as select * from system.one`\r\n\r\nIt's ok if this query will work but it doesn't have to.\r\n\r\n> `select xyz.*`\r\n\r\nThis query should not work, because there is no `xyz`.\nIn which situation, will \r\n```\r\nselect xyz.*\r\n```\r\nsucessful? \r\n\r\nIf xyz is a database name , it also should be failed, right\uff1f\r\nI'm new to clickhouse, and I want to try to fix this.\nIf `xyz` is a correct table name from current database it should return columns from it. And it should return an error otherwise.\nDoes the feature of select xyz.*  already implemented? \r\nWhy I try below command failed?\r\nNeed I implement this feature first?\r\n```\r\ndell124 :) show tables;\r\n\r\nSHOW TABLES\r\n\r\n\u250c\u2500name\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 hits_v1   \u2502\r\n\u2502 visits_v1 \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n\r\n2 rows in set. Elapsed: 0.003 sec.\r\n\r\ndell124 :) select hits_v1.*\r\n\r\nSELECT hits_v1.*\r\n\r\nReceived exception from server (version 20.5.1):\r\nCode: 47. DB::Exception: Received from localhost:9000. DB::Exception: Unknown qualified identifier: hits_v1.\r\n\r\n0 rows in set. Elapsed: 0.002 sec.\r\n\r\ndell124 :)\r\n\r\n```",
  "created_at": "2020-06-18T09:05:48Z"
}