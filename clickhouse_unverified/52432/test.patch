diff --git a/tests/queries/0_stateless/01710_projection_query_plan_optimization_misc.reference b/tests/queries/0_stateless/01710_projection_query_plan_optimization_misc.reference
new file mode 100644
index 000000000000..9874d6464ab7
--- /dev/null
+++ b/tests/queries/0_stateless/01710_projection_query_plan_optimization_misc.reference
@@ -0,0 +1,1 @@
+1	2
diff --git a/tests/queries/0_stateless/01710_projection_query_plan_optimization_misc.sql b/tests/queries/0_stateless/01710_projection_query_plan_optimization_misc.sql
new file mode 100644
index 000000000000..cb565313380f
--- /dev/null
+++ b/tests/queries/0_stateless/01710_projection_query_plan_optimization_misc.sql
@@ -0,0 +1,11 @@
+drop table if exists t;
+
+create table t (x Int32, codectest Int32) engine = MergeTree order by x;
+
+alter table t add projection x (select * order by codectest);
+
+insert into t values (1, 2);
+
+select * from merge('', 't');
+
+drop table t;
