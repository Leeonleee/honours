diff --git a/tests/queries/1_stateful/00024_random_counters.reference b/tests/queries/1_stateful/00024_random_counters.reference
index f11b66aa5b5a..96ce61aeccb6 100644
--- a/tests/queries/1_stateful/00024_random_counters.reference
+++ b/tests/queries/1_stateful/00024_random_counters.reference
@@ -998,3 +998,5 @@
 1	1
 1	2
 1	1
+1	1
+1	5
diff --git a/tests/queries/1_stateful/00024_random_counters.sql b/tests/queries/1_stateful/00024_random_counters.sql
index 99ba9cc653b0..b44f07314716 100644
--- a/tests/queries/1_stateful/00024_random_counters.sql
+++ b/tests/queries/1_stateful/00024_random_counters.sql
@@ -998,3 +998,12 @@ SELECT uniq(UserID), sum(Sign) FROM test.visits WHERE CounterID = 15094099;
 SELECT uniq(UserID), sum(Sign) FROM test.visits WHERE CounterID = 6308405;
 SELECT uniq(UserID), sum(Sign) FROM test.visits WHERE CounterID = 20762370;
 SELECT uniq(UserID), sum(Sign) FROM test.visits WHERE CounterID = 14121177;
+
+SYSTEM DROP UNCOMPRESSED CACHE;
+
+SET local_filesystem_read_method = 'pread_threadpool';
+SET min_bytes_to_use_direct_io = 1;
+SET use_uncompressed_cache = 1;
+
+SELECT uniq(UserID), sum(Sign) FROM test.visits WHERE CounterID = 32745436;
+SELECT uniq(UserID), sum(Sign) FROM test.visits WHERE CounterID = 33436573;
