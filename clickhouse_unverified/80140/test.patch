diff --git a/tests/queries/0_stateless/03149_numbers_max_block_size_zero.reference b/tests/queries/0_stateless/03149_numbers_max_block_size_zero.reference
deleted file mode 100644
index d86bac9de59a..000000000000
--- a/tests/queries/0_stateless/03149_numbers_max_block_size_zero.reference
+++ /dev/null
@@ -1,1 +0,0 @@
-OK
diff --git a/tests/queries/0_stateless/03149_numbers_max_block_size_zero.sh b/tests/queries/0_stateless/03149_numbers_max_block_size_zero.sh
deleted file mode 100755
index 7f606d889a7f..000000000000
--- a/tests/queries/0_stateless/03149_numbers_max_block_size_zero.sh
+++ /dev/null
@@ -1,9 +0,0 @@
-#!/usr/bin/env bash
-# shellcheck disable=SC2266
-
-CUR_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
-# shellcheck source=../shell_config.sh
-. "$CUR_DIR"/../shell_config.sh
-
-$CLICKHOUSE_CLIENT -q "SELECT count(*) FROM numbers(10) AS a, numbers(11) AS b, numbers(12) AS c SETTINGS max_block_size = 0" 2>&1 |
-    [ "$(grep -c "Sanity check: 'max_block_size' cannot be 0. Set to default value")" -gt 0 ] && echo "OK" || echo "FAIL"
diff --git a/tests/queries/0_stateless/03512_settings_max_block_size.reference b/tests/queries/0_stateless/03512_settings_max_block_size.reference
new file mode 100644
index 000000000000..b79deb98a752
--- /dev/null
+++ b/tests/queries/0_stateless/03512_settings_max_block_size.reference
@@ -0,0 +1,1 @@
+Set to zero.
diff --git a/tests/queries/0_stateless/03512_settings_max_block_size.sql b/tests/queries/0_stateless/03512_settings_max_block_size.sql
new file mode 100644
index 000000000000..989c3bac5507
--- /dev/null
+++ b/tests/queries/0_stateless/03512_settings_max_block_size.sql
@@ -0,0 +1,7 @@
+CREATE TABLE tab (column Int) ENGINE = Memory;
+
+SELECT 'Set to zero.';
+INSERT INTO TABLE tab (column) FROM INFILE '/dev/null' SETTINGS max_block_size = 0 FORMAT Values; -- { clientError BAD_ARGUMENTS }
+SELECT count() FROM numbers(10) AS a, numbers(11) AS b, numbers(12) AS c SETTINGS max_block_size = 0; -- { clientError BAD_ARGUMENTS }
+
+DROP TABLE tab;
