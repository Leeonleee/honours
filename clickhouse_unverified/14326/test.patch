diff --git a/tests/queries/0_stateless/01461_alter_table_function.reference b/tests/queries/0_stateless/01461_alter_table_function.reference
new file mode 100644
index 000000000000..395155967a97
--- /dev/null
+++ b/tests/queries/0_stateless/01461_alter_table_function.reference
@@ -0,0 +1,7 @@
+CREATE TABLE default.table_from_remote AS remote(\'localhost\', \'system\', \'numbers\')
+CREATE TABLE default.table_from_remote AS remote(\'localhost\', \'system\', \'numbers\')
+CREATE TABLE default.table_from_numbers AS numbers(1000)
+CREATE TABLE default.table_from_numbers AS numbers(1000)
+CREATE TABLE default.table_from_select
(
    `number` UInt64
)
ENGINE = MergeTree()
ORDER BY tuple()
SETTINGS index_granularity = 8192
+CREATE TABLE default.table_from_select
(
    `number` UInt64,
    `col` UInt8
)
ENGINE = MergeTree()
ORDER BY tuple()
SETTINGS index_granularity = 8192
+1
diff --git a/tests/queries/0_stateless/01461_alter_table_function.sql b/tests/queries/0_stateless/01461_alter_table_function.sql
new file mode 100644
index 000000000000..e242d1f0b7b3
--- /dev/null
+++ b/tests/queries/0_stateless/01461_alter_table_function.sql
@@ -0,0 +1,33 @@
+DROP TABLE IF EXISTS table_from_remote;
+DROP TABLE IF EXISTS table_from_select;
+DROP TABLE IF EXISTS table_from_numbers;
+
+CREATE TABLE table_from_remote AS remote('localhost', 'system', 'numbers');
+
+SHOW CREATE TABLE table_from_remote;
+
+ALTER TABLE table_from_remote ADD COLUMN col UInt8; --{serverError 48}
+
+SHOW CREATE TABLE table_from_remote;
+
+CREATE TABLE table_from_numbers AS numbers(1000);
+
+SHOW CREATE TABLE table_from_numbers;
+
+ALTER TABLE table_from_numbers ADD COLUMN col UInt8; --{serverError 48}
+
+SHOW CREATE TABLE table_from_numbers;
+
+CREATE TABLE table_from_select ENGINE = MergeTree() ORDER BY tuple() AS SELECT number from system.numbers LIMIT 1;
+
+SHOW CREATE TABLE table_from_select;
+
+ALTER TABLE table_from_select ADD COLUMN col UInt8;
+
+SHOW CREATE TABLE table_from_select;
+
+SELECT 1;
+
+DROP TABLE IF EXISTS table_from_remote;
+DROP TABLE IF EXISTS table_from_select;
+DROP TABLE IF EXISTS table_from_numbers;
