You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
Error. Cannot get value from Function with ARRAY JOIN over lambda + limit by 
```
DROP TABLE TESTTABLE;
CREATE TABLE TESTTABLE (
  _id UInt64,  pt String, attr_list Array(String)
) ENGINE = MergeTree() PARTITION BY (pt) ORDER BY  tuple();

insert into TESTTABLE  values (0,'0',['1']),(1,'1',['1']);

SELECT attr, _id, arrayFilter(x -> (x IN (select '1')), attr_list) z
FROM TESTTABLE ARRAY JOIN z AS attr ORDER BY _id LIMIT 3 BY attr

â†’ Progress: 0.00 rows, 0.00 B (0.00 rows/s., 0.00 B/s.) Received exception from server (version 19.15.2):
Code: 48. DB::Exception: Received from localhost:9000. DB::Exception: Cannot get value from Function.

```
 19.15.2.2 (official build).
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
