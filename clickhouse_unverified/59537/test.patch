diff --git a/tests/queries/0_stateless/02982_aggregation_states_destruction.reference b/tests/queries/0_stateless/02982_aggregation_states_destruction.reference
new file mode 100644
index 000000000000..d00491fd7e5b
--- /dev/null
+++ b/tests/queries/0_stateless/02982_aggregation_states_destruction.reference
@@ -0,0 +1,1 @@
+1
diff --git a/tests/queries/0_stateless/02982_aggregation_states_destruction.sh b/tests/queries/0_stateless/02982_aggregation_states_destruction.sh
new file mode 100755
index 000000000000..1c72cf2b8c10
--- /dev/null
+++ b/tests/queries/0_stateless/02982_aggregation_states_destruction.sh
@@ -0,0 +1,14 @@
+#!/usr/bin/env bash
+# Tags: no-random-settings
+
+CURDIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+# shellcheck source=../shell_config.sh
+. "$CURDIR"/../shell_config.sh
+
+
+query_id="02982_$RANDOM"
+$CLICKHOUSE_CLIENT --query_id $query_id --log_query_threads 1 --query="select number, uniq(number) from numbers_mt(1e7) group by number limit 100 format Null;"
+
+$CLICKHOUSE_CLIENT -q "system flush logs;"
+
+$CLICKHOUSE_CLIENT -q "select count() > 1 from system.query_thread_log where query_id = '$query_id' and current_database = currentDatabase() and thread_name = 'AggregDestruct';"
