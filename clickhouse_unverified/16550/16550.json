{
  "repo": "ClickHouse/ClickHouse",
  "pull_number": 16550,
  "instance_id": "ClickHouse__ClickHouse-16550",
  "issue_numbers": [
    "15358"
  ],
  "base_commit": "e06f65ee73226099ddc98a26d5e2349b97bc40c0",
  "patch": "diff --git a/src/Dictionaries/SSDComplexKeyCacheDictionary.cpp b/src/Dictionaries/SSDComplexKeyCacheDictionary.cpp\nindex 44847df48ff3..5ac821e5eda7 100644\n--- a/src/Dictionaries/SSDComplexKeyCacheDictionary.cpp\n+++ b/src/Dictionaries/SSDComplexKeyCacheDictionary.cpp\n@@ -1467,7 +1467,6 @@ void SSDComplexKeyCacheDictionary::getItemsNumberImpl(\n {\n     assert(dict_struct.key);\n     assert(key_columns.size() == key_types.size());\n-    assert(key_columns.size() == dict_struct.key->size());\n \n     dict_struct.validateKeyTypes(key_types);\n \n",
  "test_patch": "diff --git a/tests/queries/0_stateless/01280_ssd_complex_key_dictionary.sql b/tests/queries/0_stateless/01280_ssd_complex_key_dictionary.sql\nindex 9faafb6c0c70..7f2da9835254 100644\n--- a/tests/queries/0_stateless/01280_ssd_complex_key_dictionary.sql\n+++ b/tests/queries/0_stateless/01280_ssd_complex_key_dictionary.sql\n@@ -62,6 +62,8 @@ SELECT dictGetUInt64('database_for_dict.ssd_dict', 'a', tuple('10', toInt32(-20)\n SELECT dictGetInt32('database_for_dict.ssd_dict', 'b', tuple('10', toInt32(-20)));\n SELECT dictGetString('database_for_dict.ssd_dict', 'c', tuple('10', toInt32(-20)));\n \n+SELECT dictGetUInt64('database_for_dict.ssd_dict', 'a', tuple(toInt32(3))); --{serverError 53}\n+\n DROP DICTIONARY database_for_dict.ssd_dict;\n \n DROP TABLE IF EXISTS database_for_dict.keys_table;\n",
  "problem_statement": "SSDComplexKeyCacheDictionary: Assertion `key_columns.size() == dict_struct.key->size()' failed\nhttps://clickhouse-test-reports.s3.yandex.net/15348/34addcf61f653e50e493ff8d94fab015db91fa59/fuzzer/report.html#fail1\n",
  "hints_text": "",
  "created_at": "2020-10-30T09:37:25Z",
  "modified_files": [
    "src/Dictionaries/SSDComplexKeyCacheDictionary.cpp"
  ],
  "modified_test_files": [
    "tests/queries/0_stateless/01280_ssd_complex_key_dictionary.sql"
  ]
}