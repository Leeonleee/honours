diff --git a/tests/queries/0_stateless/02998_to_milliseconds.reference b/tests/queries/0_stateless/02998_to_milliseconds.reference
new file mode 100644
index 000000000000..05139c19d1d1
--- /dev/null
+++ b/tests/queries/0_stateless/02998_to_milliseconds.reference
@@ -0,0 +1,8 @@
+2023-04-21 10:20:30	0	0
+2023-04-21 10:20:30	0	0
+2023-04-21 10:20:30.123	123	123
+2023-04-21 10:20:30.123456	123	123
+2023-04-21 10:20:30.123456789	123	123
+120
+2023-04-21 10:20:30	0
+2023-04-21 10:20:30	0
diff --git a/tests/queries/0_stateless/02998_to_milliseconds.sql b/tests/queries/0_stateless/02998_to_milliseconds.sql
new file mode 100644
index 000000000000..f159f6aab503
--- /dev/null
+++ b/tests/queries/0_stateless/02998_to_milliseconds.sql
@@ -0,0 +1,17 @@
+-- Negative tests
+SELECT toMillisecond(); -- { serverError NUMBER_OF_ARGUMENTS_DOESNT_MATCH }
+SELECT toMillisecond('string'); -- { serverError ILLEGAL_TYPE_OF_ARGUMENT }
+SELECT toMillisecond(toDate('2024-02-28')); -- { serverError ILLEGAL_TYPE_OF_ARGUMENT }
+SELECT toMillisecond(toDate32('2024-02-28')); -- { serverError ILLEGAL_TYPE_OF_ARGUMENT }
+
+-- Tests with constant and non-constant arguments
+SELECT toDateTime('2023-04-21 10:20:30') AS dt, toMillisecond(dt), toMillisecond(materialize(dt));
+SELECT toDateTime64('2023-04-21 10:20:30', 0) AS dt64, toMillisecond(dt64), toMillisecond(materialize(dt64));
+SELECT toDateTime64('2023-04-21 10:20:30.123', 3) AS dt64, toMillisecond(dt64), toMillisecond(materialize(dt64));
+SELECT toDateTime64('2023-04-21 10:20:30.123456', 6) AS dt64, toMillisecond(dt64), toMillisecond(materialize(dt64));
+SELECT toDateTime64('2023-04-21 10:20:30.123456789', 9) AS dt64, toMillisecond(dt64), toMillisecond(materialize(dt64));
+
+-- Special cases
+SELECT MILLISECOND(toDateTime64('2023-04-21 10:20:30.123456', 2)); -- Alias
+SELECT toNullable(toDateTime('2023-04-21 10:20:30')) AS dt, toMillisecond(dt); -- Nullable
+SELECT toLowCardinality(toDateTime('2023-04-21 10:20:30')) AS dt, toMillisecond(dt); -- LowCardinality
