diff --git a/dbms/tests/queries/0_stateless/00838_system_tables_drop_table_race.reference b/dbms/tests/queries/0_stateless/00838_system_tables_drop_table_race.reference
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/dbms/tests/queries/0_stateless/00838_system_tables_drop_table_race.sh b/dbms/tests/queries/0_stateless/00838_system_tables_drop_table_race.sh
new file mode 100755
index 000000000000..1bac2f7ff1c2
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00838_system_tables_drop_table_race.sh
@@ -0,0 +1,13 @@
+#!/usr/bin/env bash
+
+set -e
+
+CURDIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+. $CURDIR/../shell_config.sh
+
+$CLICKHOUSE_CLIENT -q "DROP TABLE IF EXISTS test.table"
+
+seq 1 100 | sed -r -e "s/.+/CREATE TABLE test.table (x UInt8) ENGINE = MergeTree ORDER BY x; DROP TABLE test.table;/" | $CLICKHOUSE_CLIENT -n &
+seq 1 100 | sed -r -e "s/.+/SELECT * FROM system.tables WHERE database = 'test' LIMIT 1000000, 1;/" | $CLICKHOUSE_CLIENT -n &
+
+wait
