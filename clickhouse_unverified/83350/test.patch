diff --git a/tests/queries/0_stateless/03302_analyzer_join_filter_push_down_bug.reference b/tests/queries/0_stateless/03302_analyzer_join_filter_push_down_bug.reference
index 1ed5e09b9061..b76d1492ae90 100644
--- a/tests/queries/0_stateless/03302_analyzer_join_filter_push_down_bug.reference
+++ b/tests/queries/0_stateless/03302_analyzer_join_filter_push_down_bug.reference
@@ -18,7 +18,7 @@ Positions: 0
                FUNCTION toString(__table3.value :: 2) -> toString(__table3.value) String : 3
                FUNCTION toDateTime(toString(__table3.value) :: 3) -> toDateTime(toString(__table3.value)) DateTime : 2
                FUNCTION greaterOrEquals(__table2.value :: 1, toDateTime(toString(__table3.value)) :: 2) -> greaterOrEquals(__table2.value, toDateTime(toString(__table3.value))) UInt8 : 3
-               ALIAS greaterOrEquals(__table2.value, toDateTime(toString(__table3.value))) :: 3 -> and(greaterOrEquals(__table2.value, toDateTime(toString(__table3.value))), equals(__table1.key, 162601_UInt32)) UInt8 : 2
+               ALIAS greaterOrEquals(__table2.value, toDateTime(toString(__table3.value))) :: 3 -> and(greaterOrEquals(__table2.value, toDateTime(toString(__table3.value))), equals(__table1.key, 1626... UInt8 : 2
       Positions: 2
         Join (JOIN FillRightFirst)
         Type: CROSS
diff --git a/tests/queries/0_stateless/03562_too_long_messages_expression_actions.reference b/tests/queries/0_stateless/03562_too_long_messages_expression_actions.reference
new file mode 100644
index 000000000000..d00491fd7e5b
--- /dev/null
+++ b/tests/queries/0_stateless/03562_too_long_messages_expression_actions.reference
@@ -0,0 +1,1 @@
+1
diff --git a/tests/queries/0_stateless/03562_too_long_messages_expression_actions.sh b/tests/queries/0_stateless/03562_too_long_messages_expression_actions.sh
new file mode 100755
index 000000000000..b1198cd62578
--- /dev/null
+++ b/tests/queries/0_stateless/03562_too_long_messages_expression_actions.sh
@@ -0,0 +1,8 @@
+#!/usr/bin/env bash
+
+CUR_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+# shellcheck source=../shell_config.sh
+. "$CUR_DIR"/../shell_config.sh
+
+$CLICKHOUSE_LOCAL "SELECT arraySum(arrayMap(x -> arraySum(arrayMap(y -> arraySum(arrayMap(z -> sin(x + y + z) * cos(x * y * z) * tanh(x - y + z), range(100))), range(1000))), range(10000))) SETTINGS max_memory_usage = '1G'" 2>&1 |
+    $CLICKHOUSE_LOCAL --input-format LineAsString -q "length(line) < 1000"
