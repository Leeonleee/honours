diff --git a/tests/queries/0_stateless/01526_client_start_and_exit.expect b/tests/queries/0_stateless/01526_client_start_and_exit.expect
new file mode 100755
index 000000000000..003439ffa542
--- /dev/null
+++ b/tests/queries/0_stateless/01526_client_start_and_exit.expect
@@ -0,0 +1,12 @@
+#!/usr/bin/expect -f
+
+log_user 1
+set timeout 5
+match_max 100000
+
+if ![info exists env(CLICKHOUSE_PORT_TCP)] {set env(CLICKHOUSE_PORT_TCP) 9000}
+
+spawn bash -c "clickhouse-client --port $env(CLICKHOUSE_PORT_TCP) && echo $?"
+expect ":) "
+send -- "\4"
+expect eof
diff --git a/tests/queries/0_stateless/01526_client_start_and_exit.reference b/tests/queries/0_stateless/01526_client_start_and_exit.reference
new file mode 100644
index 000000000000..e3e2e7b22afc
--- /dev/null
+++ b/tests/queries/0_stateless/01526_client_start_and_exit.reference
@@ -0,0 +1,1 @@
+Loaded 10000 queries.
diff --git a/tests/queries/0_stateless/01526_client_start_and_exit.sh b/tests/queries/0_stateless/01526_client_start_and_exit.sh
new file mode 100755
index 000000000000..c179be79d032
--- /dev/null
+++ b/tests/queries/0_stateless/01526_client_start_and_exit.sh
@@ -0,0 +1,23 @@
+#!/usr/bin/env bash
+
+CURDIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
+. "$CURDIR"/../shell_config.sh
+
+# Create a huge amount of tables, so Suggest will take a time to load
+${CLICKHOUSE_CLIENT} -q "SELECT 'CREATE TABLE test_' || hex(randomPrintableASCII(40)) || '(x UInt8) Engine=Memory;' FROM numbers(10000)" --format=TSVRaw | ${CLICKHOUSE_BENCHMARK} -c32 -i 10000 -d 0 2>&1 | grep -F 'Loaded 10000 queries'
+
+function stress()
+{
+    while true; do
+        "${CURDIR}"/01526_client_start_and_exit.expect | grep -v -P 'ClickHouse client|Connecting|Connected|:\) Bye\.|^\s*$|spawn bash|^0\s*$'
+    done
+}
+
+export CURDIR
+export -f stress
+
+for _ in {1..10}; do
+    timeout 3 bash -c stress &
+done
+
+wait
