You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
SETTING clause for selects interpreted too late?
That works as expected
```
SET max_result_rows=1;
SELECT * from numbers(100);
-- DB::Exception: Limit for result exceeded, max rows: 1.00, current rows: 100.00.
```

And that - parse query properly and return 100 rows instead of Excpetion.
```
select * from numbers(100) settings  max_result_rows=1;
```
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
