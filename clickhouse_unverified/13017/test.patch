diff --git a/tests/queries/0_stateless/01417_freeze_partition_verbose.reference b/tests/queries/0_stateless/01417_freeze_partition_verbose.reference
new file mode 100644
index 000000000000..a3be410532ba
--- /dev/null
+++ b/tests/queries/0_stateless/01417_freeze_partition_verbose.reference
@@ -0,0 +1,18 @@
+command_type	partition_id	part_name	backup_name	backup_path
+FREEZE ALL	0	0_1_1_0	test_01417	shadow/test_01417/
+FREEZE ALL	1	1_2_2_0	test_01417	shadow/test_01417/
+FREEZE ALL	2	2_3_3_0	test_01417	shadow/test_01417/
+FREEZE ALL	3	3_4_4_0	test_01417	shadow/test_01417/
+FREEZE ALL	4	4_5_5_0	test_01417	shadow/test_01417/
+FREEZE ALL	5	5_6_6_0	test_01417	shadow/test_01417/
+FREEZE ALL	6	6_7_7_0	test_01417	shadow/test_01417/
+FREEZE ALL	7	7_8_8_0	test_01417	shadow/test_01417/
+FREEZE ALL	8	8_9_9_0	test_01417	shadow/test_01417/
+FREEZE ALL	9	9_10_10_0	test_01417	shadow/test_01417/
+command_type	partition_id	part_name	backup_name	backup_path
+FREEZE PARTITION	3	3_4_4_0	test_01417_single_part	shadow/test_01417_single_part/
+command_type	partition_id	part_name	old_part_name
+ATTACH PARTITION	3	3_12_12_0	3_4_4_0
+command_type	partition_id	part_name	backup_name	backup_path	old_part_name
+FREEZE PARTITION	7	7_8_8_0	test_01417_single_part_7	shadow/test_01417_single_part_7/	
+ATTACH PART	5	5_13_13_0			5_6_6_0
diff --git a/tests/queries/0_stateless/01417_freeze_partition_verbose.sql b/tests/queries/0_stateless/01417_freeze_partition_verbose.sql
new file mode 100644
index 000000000000..176093b43239
--- /dev/null
+++ b/tests/queries/0_stateless/01417_freeze_partition_verbose.sql
@@ -0,0 +1,28 @@
+DROP TABLE IF EXISTS table_for_freeze;
+
+CREATE TABLE table_for_freeze
+(
+  key UInt64,
+  value String
+)
+ENGINE = MergeTree()
+ORDER BY key
+PARTITION BY key % 10;
+
+INSERT INTO table_for_freeze SELECT number, toString(number) from numbers(10);
+
+ALTER TABLE table_for_freeze FREEZE WITH NAME 'test_01417' FORMAT TSVWithNames SETTINGS alter_partition_verbose_result = 1;
+
+ALTER TABLE table_for_freeze FREEZE PARTITION '3' WITH NAME 'test_01417_single_part' FORMAT TSVWithNames SETTINGS alter_partition_verbose_result = 1;
+
+ALTER TABLE table_for_freeze DETACH PARTITION '3';
+
+INSERT INTO table_for_freeze VALUES (3, '3');
+
+ALTER TABLE table_for_freeze ATTACH PARTITION '3' FORMAT TSVWithNames SETTINGS alter_partition_verbose_result = 1;
+
+ALTER TABLE table_for_freeze DETACH PARTITION '5';
+
+ALTER TABLE table_for_freeze FREEZE PARTITION '7' WITH NAME 'test_01417_single_part_7', ATTACH PART '5_6_6_0' FORMAT TSVWithNames SETTINGS alter_partition_verbose_result = 1;
+
+DROP TABLE IF EXISTS table_for_freeze;
diff --git a/tests/queries/0_stateless/01417_freeze_partition_verbose_zookeeper.reference b/tests/queries/0_stateless/01417_freeze_partition_verbose_zookeeper.reference
new file mode 100644
index 000000000000..7fea72f847df
--- /dev/null
+++ b/tests/queries/0_stateless/01417_freeze_partition_verbose_zookeeper.reference
@@ -0,0 +1,18 @@
+command_type	partition_id	part_name	backup_name	backup_path
+FREEZE ALL	0	0_0_0_0	test_01417	shadow/test_01417/
+FREEZE ALL	1	1_0_0_0	test_01417	shadow/test_01417/
+FREEZE ALL	2	2_0_0_0	test_01417	shadow/test_01417/
+FREEZE ALL	3	3_0_0_0	test_01417	shadow/test_01417/
+FREEZE ALL	4	4_0_0_0	test_01417	shadow/test_01417/
+FREEZE ALL	5	5_0_0_0	test_01417	shadow/test_01417/
+FREEZE ALL	6	6_0_0_0	test_01417	shadow/test_01417/
+FREEZE ALL	7	7_0_0_0	test_01417	shadow/test_01417/
+FREEZE ALL	8	8_0_0_0	test_01417	shadow/test_01417/
+FREEZE ALL	9	9_0_0_0	test_01417	shadow/test_01417/
+command_type	partition_id	part_name	backup_name	backup_path
+FREEZE PARTITION	3	3_0_0_0	test_01417_single_part	shadow/test_01417_single_part/
+command_type	partition_id	part_name	old_part_name
+ATTACH PARTITION	3	3_3_3_0	3_0_0_0
+command_type	partition_id	part_name	backup_name	backup_path	old_part_name
+FREEZE PARTITION	7	7_0_0_0	test_01417_single_part_7	shadow/test_01417_single_part_7/	
+ATTACH PART	5	5_2_2_0			5_0_0_0
diff --git a/tests/queries/0_stateless/01417_freeze_partition_verbose_zookeeper.sql b/tests/queries/0_stateless/01417_freeze_partition_verbose_zookeeper.sql
new file mode 100644
index 000000000000..4947d0c9fd82
--- /dev/null
+++ b/tests/queries/0_stateless/01417_freeze_partition_verbose_zookeeper.sql
@@ -0,0 +1,28 @@
+DROP TABLE IF EXISTS table_for_freeze_replicated;
+
+CREATE TABLE table_for_freeze_replicated
+(
+  key UInt64,
+  value String
+)
+ENGINE = ReplicatedMergeTree('/test/table_for_freeze_replicated', '1')
+ORDER BY key
+PARTITION BY key % 10;
+
+INSERT INTO table_for_freeze_replicated SELECT number, toString(number) from numbers(10);
+
+ALTER TABLE table_for_freeze_replicated FREEZE WITH NAME 'test_01417' FORMAT TSVWithNames SETTINGS alter_partition_verbose_result = 1;
+
+ALTER TABLE table_for_freeze_replicated FREEZE PARTITION '3' WITH NAME 'test_01417_single_part' FORMAT TSVWithNames SETTINGS alter_partition_verbose_result = 1;
+
+ALTER TABLE table_for_freeze_replicated DETACH PARTITION '3';
+
+INSERT INTO table_for_freeze_replicated VALUES (3, '3');
+
+ALTER TABLE table_for_freeze_replicated ATTACH PARTITION '3' FORMAT TSVWithNames SETTINGS alter_partition_verbose_result = 1;
+
+ALTER TABLE table_for_freeze_replicated DETACH PARTITION '5';
+
+ALTER TABLE table_for_freeze_replicated FREEZE PARTITION '7' WITH NAME 'test_01417_single_part_7', ATTACH PART '5_0_0_0' FORMAT TSVWithNames SETTINGS alter_partition_verbose_result = 1;
+
+DROP TABLE IF EXISTS table_for_freeze_replicated;
