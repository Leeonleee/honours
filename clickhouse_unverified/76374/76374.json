{
  "repo": "ClickHouse/ClickHouse",
  "pull_number": 76374,
  "instance_id": "ClickHouse__ClickHouse-76374",
  "issue_numbers": [
    "30988"
  ],
  "base_commit": "746bb5b8e27c50ffc3579182249c8f79100afa32",
  "patch": "diff --git a/docs/en/operations/system-tables/data_skipping_indices.md b/docs/en/operations/system-tables/data_skipping_indices.md\nindex 216a44a8b653..b1e27939e51c 100644\n--- a/docs/en/operations/system-tables/data_skipping_indices.md\n+++ b/docs/en/operations/system-tables/data_skipping_indices.md\n@@ -38,7 +38,7 @@ expr:        clicks\n granularity: 1\n data_compressed_bytes:   58\n data_uncompressed_bytes: 6\n-marks:                   48\n+marks_bytes:             48\n \n Row 2:\n \u2500\u2500\u2500\u2500\u2500\u2500\n@@ -51,5 +51,5 @@ expr:        assumeNotNull(contacts_null)\n granularity: 1\n data_compressed_bytes:   58\n data_uncompressed_bytes: 6\n-marks:                   48\n+marks_bytes:             48\n ```\ndiff --git a/src/Storages/System/StorageSystemDataSkippingIndices.cpp b/src/Storages/System/StorageSystemDataSkippingIndices.cpp\nindex 9c0f3c3dd59a..4390eef35447 100644\n--- a/src/Storages/System/StorageSystemDataSkippingIndices.cpp\n+++ b/src/Storages/System/StorageSystemDataSkippingIndices.cpp\n@@ -35,7 +35,7 @@ StorageSystemDataSkippingIndices::StorageSystemDataSkippingIndices(const Storage\n             { \"granularity\", std::make_shared<DataTypeUInt64>(), \"The number of granules in the block.\"},\n             { \"data_compressed_bytes\", std::make_shared<DataTypeUInt64>(), \"The size of compressed data, in bytes.\"},\n             { \"data_uncompressed_bytes\", std::make_shared<DataTypeUInt64>(), \"The size of decompressed data, in bytes.\"},\n-            { \"marks\", std::make_shared<DataTypeUInt64>(), \"The size of marks, in bytes.\"}\n+            { \"marks_bytes\", std::make_shared<DataTypeUInt64>(), \"The size of marks, in bytes.\"}\n         }));\n     setInMemoryMetadata(storage_metadata);\n }\n@@ -161,7 +161,7 @@ class DataSkippingIndicesSource : public ISource\n                     if (column_mask[src_index++])\n                         res_columns[res_index++]->insert(secondary_index_size.data_uncompressed);\n \n-                    /// 'marks' column\n+                    /// 'marks_bytes' column\n                     if (column_mask[src_index++])\n                         res_columns[res_index++]->insert(secondary_index_size.marks);\n                 }\n",
  "test_patch": "diff --git a/tests/queries/0_stateless/02117_show_create_table_system.reference b/tests/queries/0_stateless/02117_show_create_table_system.reference\nindex 218e4306a7df..b37ead52eef7 100644\n--- a/tests/queries/0_stateless/02117_show_create_table_system.reference\n+++ b/tests/queries/0_stateless/02117_show_create_table_system.reference\n@@ -119,7 +119,7 @@ CREATE TABLE system.data_skipping_indices\n     `granularity` UInt64,\n     `data_compressed_bytes` UInt64,\n     `data_uncompressed_bytes` UInt64,\n-    `marks` UInt64\n+    `marks_bytes` UInt64\n )\n ENGINE = SystemDataSkippingIndices\n COMMENT 'Contains all the information about all the data skipping indices in tables, similar to system.columns.'\n",
  "problem_statement": "Missing columns in system.data_skipping_indices\nClickHouse version: 21.10.2.15\r\n\r\nAccording to [the documentation](https://clickhouse.com/docs/en/operations/system-tables/data_skipping_indices/), these columns should be available in the `system.data_skipping_indices` table:\r\n- data_compressed_bytes\r\n- data_uncompressed_bytes\r\n- marks_bytes\r\n\r\nThese are however missing when I run `SELECT * FROM system.data_skipping_indices LIMIT 1 FORMAT Vertical`:\r\n\r\n```\r\nRow 1:\r\n\u2500\u2500\u2500\u2500\u2500\u2500\r\ndatabase:    myDatabase\r\ntable:       myTable\r\nname:        myIndexName\r\ntype:        bloom_filter\r\nexpr:        myColumn\r\ngranularity: 1\r\n```\n",
  "hints_text": "",
  "created_at": "2025-02-18T20:28:50Z",
  "modified_files": [
    "docs/en/operations/system-tables/data_skipping_indices.md",
    "src/Storages/System/StorageSystemDataSkippingIndices.cpp"
  ],
  "modified_test_files": [
    "tests/queries/0_stateless/02117_show_create_table_system.reference"
  ]
}