diff --git a/src/Interpreters/ITokenExtractor.cpp b/src/Interpreters/ITokenExtractor.cpp
index 755b0ac722f0..61fca73c9705 100644
--- a/src/Interpreters/ITokenExtractor.cpp
+++ b/src/Interpreters/ITokenExtractor.cpp
@@ -36,6 +36,9 @@ std::vector<String> ITokenExtractor::getTokens(const char * data, size_t length)
 
 std::vector<String> NgramTokenExtractor::getTokens(const char * data, size_t length) const
 {
+    if (length == 0)
+        return {};
+
     if (length < n)
         return std::vector<String>{String(data, length)};
 
@@ -351,6 +354,9 @@ bool SplitTokenExtractor::nextInStringLike(const char * /*data*/, size_t /*lengt
 
 std::vector<String> NoOpTokenExtractor::getTokens(const char * data, size_t length) const
 {
+    if (length == 0)
+        return {};
+
     return {String(data, length)};
 }
 
