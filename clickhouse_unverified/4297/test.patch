diff --git a/dbms/tests/queries/0_stateless/00837_insert_select_and_read_prefix.reference b/dbms/tests/queries/0_stateless/00837_insert_select_and_read_prefix.reference
new file mode 100644
index 000000000000..3bed4a019551
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00837_insert_select_and_read_prefix.reference
@@ -0,0 +1,4 @@
+hello	1
+world	2
+hello	1
+world	2
diff --git a/dbms/tests/queries/0_stateless/00837_insert_select_and_read_prefix.sql b/dbms/tests/queries/0_stateless/00837_insert_select_and_read_prefix.sql
new file mode 100644
index 000000000000..576192e9d470
--- /dev/null
+++ b/dbms/tests/queries/0_stateless/00837_insert_select_and_read_prefix.sql
@@ -0,0 +1,10 @@
+DROP TABLE IF EXISTS test.file;
+CREATE TABLE test.file (s String, n UInt32) ENGINE = File(CSVWithNames);
+-- BTW, WithNames formats are totally unsuitable for more than a single INSERT
+INSERT INTO test.file VALUES ('hello', 1), ('world', 2);
+
+SELECT * FROM test.file;
+CREATE TEMPORARY TABLE file2 AS SELECT * FROM test.file;
+SELECT * FROM file2;
+
+DROP TABLE test.file;
