diff --git a/tests/queries/0_stateless/01018_ip_dictionary.reference b/tests/queries/0_stateless/01018_ip_dictionary.reference
index 7fcf75f4d6d0..d791352e01cc 100644
--- a/tests/queries/0_stateless/01018_ip_dictionary.reference
+++ b/tests/queries/0_stateless/01018_ip_dictionary.reference
@@ -50,6 +50,8 @@
 1
 1
 1
+1
+1
 ***ipv4 trie dict mask***
 1
 1
diff --git a/tests/queries/0_stateless/01018_ip_dictionary.sql b/tests/queries/0_stateless/01018_ip_dictionary.sql
index 790d38b93062..53ddf1111c7b 100644
--- a/tests/queries/0_stateless/01018_ip_dictionary.sql
+++ b/tests/queries/0_stateless/01018_ip_dictionary.sql
@@ -95,6 +95,10 @@ SELECT 11212 == dictGetUInt32('database_for_dict.dict_ipv4_trie', 'asn', tuple(I
 
 SELECT 11211 == dictGetUInt32('database_for_dict.dict_ipv4_trie', 'asn', tuple(IPv4StringToNum('202.79.32.2')));
 
+-- check that dictionary works with aliased types `IPv4` and `IPv6`
+SELECT 11211 == dictGetUInt32('database_for_dict.dict_ipv4_trie', 'asn', tuple(toIPv4('202.79.32.2')));
+SELECT 11212 == dictGetUInt32('database_for_dict.dict_ipv4_trie', 'asn', tuple(toIPv6('::ffff:101.79.55.22')));
+
 CREATE TABLE database_for_dict.table_from_ipv4_trie_dict
 (
   prefix String,
