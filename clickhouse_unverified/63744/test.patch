diff --git a/tests/queries/0_stateless/02374_analyzer_array_join.reference b/tests/queries/0_stateless/02374_analyzer_array_join.reference
index 28859f715b37..6dd384c7d9cc 100644
--- a/tests/queries/0_stateless/02374_analyzer_array_join.reference
+++ b/tests/queries/0_stateless/02374_analyzer_array_join.reference
@@ -108,3 +108,15 @@ ARRAY JOIN value_array_array_inner_element AS value_array_array_inner_inner_elem
 0	Value	[[1,2,3],[4,5,6]]	[4,5,6]	[4,5,6]	4
 0	Value	[[1,2,3],[4,5,6]]	[4,5,6]	[4,5,6]	5
 0	Value	[[1,2,3],[4,5,6]]	[4,5,6]	[4,5,6]	6
+SELECT '--';
+--
+SELECT 1 FROM system.one ARRAY JOIN arrayMap(x -> ignore(*), []);
+SELECT arrayFilter(x -> notEmpty(concat(x, 'hello')), [''])
+FROM system.one
+ARRAY JOIN
+    [0] AS elem,
+    arrayMap(x -> concat(x, ignore(ignore(toLowCardinality('03147_parquet_memory_tracking.parquet'), 37, 37, toUInt128(37), 37, 37, toLowCardinality(37), 37), 8, ignore(ignore(1., 36, 8, 8)), *), 'hello'), ['']) AS unused
+WHERE NOT ignore(elem)
+GROUP BY
+    sum(ignore(ignore(ignore(1., 1, 36, 8, 8), ignore(52, 37, 37, '03147_parquet_memory_tracking.parquet', 37, 37, toUInt256(37), 37, 37, toNullable(37), 37, 37), 1., 1, 36, 8, 8), emptyArrayToSingle(arrayMap(x -> toString(x), arrayMap(x -> nullIf(x, 2), arrayJoin([[1]])))))) IGNORE NULLS,
+    modulo(toLowCardinality('03147_parquet_memory_tracking.parquet'), number, toLowCardinality(3)); -- { serverError UNKNOWN_IDENTIFIER }
diff --git a/tests/queries/0_stateless/02374_analyzer_array_join.sql b/tests/queries/0_stateless/02374_analyzer_array_join.sql
index 8ebfdef349c8..bc4bb6616c16 100644
--- a/tests/queries/0_stateless/02374_analyzer_array_join.sql
+++ b/tests/queries/0_stateless/02374_analyzer_array_join.sql
@@ -65,6 +65,18 @@ SELECT id, value, value_array_array, value_array_array_inner_element, value_arra
 FROM test_table ARRAY JOIN value_array_array AS value_array_array_inner_element
 ARRAY JOIN value_array_array_inner_element AS value_array_array_inner_inner_element;
 
+SELECT '--';
+SELECT 1 FROM system.one ARRAY JOIN arrayMap(x -> ignore(*), []);
+SELECT arrayFilter(x -> notEmpty(concat(x, 'hello')), [''])
+FROM system.one
+ARRAY JOIN
+    [0] AS elem,
+    arrayMap(x -> concat(x, ignore(ignore(toLowCardinality('03147_parquet_memory_tracking.parquet'), 37, 37, toUInt128(37), 37, 37, toLowCardinality(37), 37), 8, ignore(ignore(1., 36, 8, 8)), *), 'hello'), ['']) AS unused
+WHERE NOT ignore(elem)
+GROUP BY
+    sum(ignore(ignore(ignore(1., 1, 36, 8, 8), ignore(52, 37, 37, '03147_parquet_memory_tracking.parquet', 37, 37, toUInt256(37), 37, 37, toNullable(37), 37, 37), 1., 1, 36, 8, 8), emptyArrayToSingle(arrayMap(x -> toString(x), arrayMap(x -> nullIf(x, 2), arrayJoin([[1]])))))) IGNORE NULLS,
+    modulo(toLowCardinality('03147_parquet_memory_tracking.parquet'), number, toLowCardinality(3)); -- { serverError UNKNOWN_IDENTIFIER }
+
 -- { echoOff }
 
 DROP TABLE test_table;
