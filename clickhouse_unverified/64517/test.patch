diff --git a/tests/queries/0_stateless/03164_analyzer_global_in_alias.reference b/tests/queries/0_stateless/03164_analyzer_global_in_alias.reference
new file mode 100644
index 000000000000..459605fc1db7
--- /dev/null
+++ b/tests/queries/0_stateless/03164_analyzer_global_in_alias.reference
@@ -0,0 +1,4 @@
+1	1
+1
+1	1
+1
diff --git a/tests/queries/0_stateless/03164_analyzer_global_in_alias.sql b/tests/queries/0_stateless/03164_analyzer_global_in_alias.sql
new file mode 100644
index 000000000000..00c293334ee8
--- /dev/null
+++ b/tests/queries/0_stateless/03164_analyzer_global_in_alias.sql
@@ -0,0 +1,6 @@
+SET allow_experimental_analyzer=1;
+SELECT 1 GLOBAL IN (SELECT 1) AS s, s FROM remote('127.0.0.{2,3}', system.one) GROUP BY 1;
+SELECT 1 GLOBAL IN (SELECT 1) AS s FROM remote('127.0.0.{2,3}', system.one) GROUP BY 1;
+
+SELECT 1 GLOBAL IN (SELECT 1) AS s, s FROM remote('127.0.0.{1,3}', system.one) GROUP BY 1;
+SELECT 1 GLOBAL IN (SELECT 1) AS s FROM remote('127.0.0.{1,3}', system.one) GROUP BY 1;
