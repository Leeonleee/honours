diff --git a/tests/queries/0_stateless/01944_range_max_elements.reference b/tests/queries/0_stateless/01944_range_max_elements.reference
new file mode 100644
index 000000000000..7763ac4ce962
--- /dev/null
+++ b/tests/queries/0_stateless/01944_range_max_elements.reference
@@ -0,0 +1,33 @@
+[]
+[0]
+[0,1]
+[]
+[0]
+[0,1]
+[]
+[0]
+[0,1]
+[]
+[]
+[0]
+[0,1]
+[]
+[0]
+[0,1]
+[]
+[0]
+[0,1]
+[]
+[0]
+[]
+[0]
+[0,1]
+[]
+[0]
+[0,1]
+[]
+[0]
+[0,1]
+[]
+[0]
+[0,1]
diff --git a/tests/queries/0_stateless/01944_range_max_elements.sql b/tests/queries/0_stateless/01944_range_max_elements.sql
new file mode 100644
index 000000000000..c18f61e31909
--- /dev/null
+++ b/tests/queries/0_stateless/01944_range_max_elements.sql
@@ -0,0 +1,7 @@
+SET function_range_max_elements_in_block = 10;
+SELECT range(number % 3) FROM numbers(10);
+SELECT range(number % 3) FROM numbers(11);
+SELECT range(number % 3) FROM numbers(12); -- { serverError 69 }
+
+SET function_range_max_elements_in_block = 12;
+SELECT range(number % 3) FROM numbers(12);
