You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
clickhouse-local ignoring `--database` param and falsely erroring that `USE` is not implemented
> You have to provide the following information whenever possible.

**Describe what's wrong**

With clickhouse-local  `22.1.4.1` and `22.8.4.7` the `--database/-d` flag is ignored, as well as the `USE` statement throwing an error yet actually executing.

**How to reproduce**

First execute:
```
CREATE DATABASE IF NOT EXISTS per;

CREATE TABLE IF NOT EXISTS per.test (a Int64)
ENGINE = MergeTree()
ORDER BY a;

INSERT INTO per.test SELECT * FROM numbers(1, 10000000);
```

Then try:

```
dangoodman: ~/code/serverless-olap-poc git:(main) ✗ clickhouse-local -d per --path ./ch                                                           6:00PM
ClickHouse local version 22.1.4.1.

dans-maxbook-pro.local :) select count() from test;

SELECT count()
FROM test

Query id: 2f3d90d3-d320-495e-954b-47f2a8cd1b64


0 rows in set. Elapsed: 0.000 sec.

Received exception:
Code: 60. DB::Exception: Table _local.test doesn't exist. (UNKNOWN_TABLE)

dans-maxbook-pro.local :) use per

USE per

Query id: d4452446-5081-446b-9cfb-e93ec5a30481

Ok.
Exception on client:
Code: 48. DB::Exception: Not implemented. (NOT_IMPLEMENTED)

dans-maxbook-pro.local :) select count() from test;

SELECT count()
FROM test

Query id: 6eaa4190-cff0-488a-8db0-eb5668488028

┌──count()─┐
│ 10000000 │
└──────────┘

1 rows in set. Elapsed: 0.000 sec.
```

As you can see, the `USE` statement throws an error, yet behaves as it did not. Also, the `-d/--database` option does not set the database.

> A link to reproducer in [https://fiddle.clickhouse.com/](https://fiddle.clickhouse.com/).

**Expected behavior**

> A clear and concise description of what you expected to happen.

The `-d/--database` would set the database (and maybe make if not exists?), and 

**Error message and/or stacktrace**

See above
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
