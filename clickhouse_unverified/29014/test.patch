diff --git a/tests/queries/0_stateless/01115_join_with_dictionary.reference b/tests/queries/0_stateless/01115_join_with_dictionary.reference
index 77f7ba193c05..76337bdfc0b2 100644
--- a/tests/queries/0_stateless/01115_join_with_dictionary.reference
+++ b/tests/queries/0_stateless/01115_join_with_dictionary.reference
@@ -16,6 +16,12 @@ flat: any left
 2	2	2	2
 3	3	3	3
 4	0		0
+flat: any left + any_join_distinct_right_table_keys
+0	0	0	0
+1	1	1	1
+2	2	2	2
+3	3	3	3
+4	0		0
 flat: semi left
 0	0	0	0
 1	1	1	1
diff --git a/tests/queries/0_stateless/01115_join_with_dictionary.sql b/tests/queries/0_stateless/01115_join_with_dictionary.sql
index 0c84d372f6d8..8d8589d6085e 100644
--- a/tests/queries/0_stateless/01115_join_with_dictionary.sql
+++ b/tests/queries/0_stateless/01115_join_with_dictionary.sql
@@ -33,6 +33,8 @@ SELECT 'flat: left';
 SELECT * FROM (SELECT number AS key FROM numbers(5)) s1 LEFT JOIN dict_flat d USING(key) ORDER BY key;
 SELECT 'flat: any left';
 SELECT * FROM (SELECT number AS key FROM numbers(5)) s1 ANY LEFT JOIN dict_flat d USING(key) ORDER BY key;
+SELECT 'flat: any left + any_join_distinct_right_table_keys'; -- falls back to regular join
+SELECT * FROM (SELECT number AS key FROM numbers(5)) s1 ANY LEFT JOIN dict_flat d USING(key) ORDER BY key SETTINGS any_join_distinct_right_table_keys = '1';
 SELECT 'flat: semi left';
 SELECT * FROM (SELECT number AS key FROM numbers(5)) s1 SEMI JOIN dict_flat d USING(key) ORDER BY key;
 SELECT 'flat: anti left';
