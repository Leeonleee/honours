diff --git a/tests/queries/0_stateless/01523_client_local_queries_file_parameter.reference b/tests/queries/0_stateless/01523_client_local_queries_file_parameter.reference
index 2a3eb745751c..634bee3d288d 100644
--- a/tests/queries/0_stateless/01523_client_local_queries_file_parameter.reference
+++ b/tests/queries/0_stateless/01523_client_local_queries_file_parameter.reference
@@ -4,3 +4,7 @@
 3
 1	2
 3	4
+BAD_ARGUMENTS
+BAD_ARGUMENTS
+BAD_ARGUMENTS
+BAD_ARGUMENTS
diff --git a/tests/queries/0_stateless/01523_client_local_queries_file_parameter.sh b/tests/queries/0_stateless/01523_client_local_queries_file_parameter.sh
index cf19efa9b7d4..17dc04d75714 100755
--- a/tests/queries/0_stateless/01523_client_local_queries_file_parameter.sh
+++ b/tests/queries/0_stateless/01523_client_local_queries_file_parameter.sh
@@ -5,20 +5,29 @@ CURDIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
 # shellcheck source=../shell_config.sh
 . "$CURDIR"/../shell_config.sh
 
-echo "SELECT 1;" > 01523_client_local_queries_file_parameter_tmp.sql
-$CLICKHOUSE_CLIENT --queries-file=01523_client_local_queries_file_parameter_tmp.sql 2>&1
+## Use process ID ($$) for uniqueness of file name
+TEMP_SQL_FILE_NAME=$"01523_client_local_queries_file_parameter_tmp_$$.sql"
+echo "SELECT 1;" > "$TEMP_SQL_FILE_NAME"
+$CLICKHOUSE_CLIENT --queries-file="$TEMP_SQL_FILE_NAME" 2>&1
 
 echo "CREATE TABLE 01523_test(value Int32) ENGINE=Log;
 INSERT INTO 01523_test 
     VALUES (1), (2), (3);
 SELECT * FROM 01523_test;
-DROP TABLE 01523_test;" > 01523_client_local_queries_file_parameter_tmp.sql
-$CLICKHOUSE_CLIENT --queries-file=01523_client_local_queries_file_parameter_tmp.sql 2>&1
+DROP TABLE 01523_test;" > "$TEMP_SQL_FILE_NAME"
+$CLICKHOUSE_CLIENT --queries-file="$TEMP_SQL_FILE_NAME" 2>&1
 
 echo "CREATE TABLE 01523_test (a Int64, b Int64) ENGINE = File(CSV, stdin);
 SELECT a, b FROM 01523_test;
-DROP TABLE 01523_test;" > 01523_client_local_queries_file_parameter_tmp.sql
+DROP TABLE 01523_test;" > "$TEMP_SQL_FILE_NAME"
 
-echo -e "1,2
3,4" | $CLICKHOUSE_LOCAL --queries-file=01523_client_local_queries_file_parameter_tmp.sql 2>&1
+echo -e "1,2
3,4" | $CLICKHOUSE_LOCAL --queries-file="$TEMP_SQL_FILE_NAME" 2>&1
 
-rm 01523_client_local_queries_file_parameter_tmp.sql
+# Simultaneously passing --queries-file + --query is prohibited.
+echo "SELECT 1;" > "$TEMP_SQL_FILE_NAME"
+$CLICKHOUSE_LOCAL --queries-file="$TEMP_SQL_FILE_NAME" -q "SELECT 1;" 2>&1 | grep -o 'BAD_ARGUMENTS'
+$CLICKHOUSE_CLIENT --queries-file="$TEMP_SQL_FILE_NAME" -q "SELECT 2;" 2>&1 | grep -o 'BAD_ARGUMENTS'
+$CLICKHOUSE_LOCAL --queries-file="$TEMP_SQL_FILE_NAME" --query "SELECT 3;" 2>&1 | grep -o 'BAD_ARGUMENTS'
+$CLICKHOUSE_CLIENT --queries-file="$TEMP_SQL_FILE_NAME" --query "SELECT 4;" 2>&1 | grep -o 'BAD_ARGUMENTS'
+
+rm "$TEMP_SQL_FILE_NAME"
diff --git a/tests/queries/0_stateless/02751_multiquery_with_argument.reference b/tests/queries/0_stateless/02751_multiquery_with_argument.reference
index 33288ec5bcbe..df9771b6bd3a 100644
--- a/tests/queries/0_stateless/02751_multiquery_with_argument.reference
+++ b/tests/queries/0_stateless/02751_multiquery_with_argument.reference
@@ -8,6 +8,8 @@ Empty query
 BAD_ARGUMENTS
 BAD_ARGUMENTS
 BAD_ARGUMENTS
+BAD_ARGUMENTS
+BAD_ARGUMENTS
 Bad arguments
 Bad arguments
 Bad arguments
diff --git a/tests/queries/0_stateless/02751_multiquery_with_argument.sh b/tests/queries/0_stateless/02751_multiquery_with_argument.sh
index 153004c752e7..ce53ede33319 100755
--- a/tests/queries/0_stateless/02751_multiquery_with_argument.sh
+++ b/tests/queries/0_stateless/02751_multiquery_with_argument.sh
@@ -13,6 +13,10 @@ $CLICKHOUSE_LOCAL --multiquery "SELECT 200; S" 2>&1 | grep -o 'Syntax error'
 $CLICKHOUSE_LOCAL --multiquery "; SELECT 201;" 2>&1 | grep -o 'Empty query'
 $CLICKHOUSE_LOCAL --multiquery "; S; SELECT 202" 2>&1 | grep -o 'Empty query'
 
+# Simultaneously passing --queries-file + --query (multiquery) is prohibited.
+$CLICKHOUSE_LOCAL --queries-file "queries.csv" --multiquery "SELECT 250;" 2>&1 | grep -o 'BAD_ARGUMENTS'
+$CLICKHOUSE_CLIENT --queries-file "queries.csv" --multiquery "SELECT 251;" 2>&1 | grep -o 'BAD_ARGUMENTS'
+
 # Error expectation cases.
 # -n <SQL> is prohibited
 $CLICKHOUSE_LOCAL -n "SELECT 301" 2>&1 | grep -o 'BAD_ARGUMENTS'
