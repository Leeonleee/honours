{
  "repo": "duckdb/duckdb",
  "pull_number": 15039,
  "instance_id": "duckdb__duckdb-15039",
  "issue_numbers": [
    "15005"
  ],
  "base_commit": "771494f1855f163a5d87daade3db6ebe905d4a20",
  "patch": "diff --git a/src/function/scalar/list/list_zip.cpp b/src/function/scalar/list/list_zip.cpp\nindex 106e72ff2b28..ef39a989d67d 100644\n--- a/src/function/scalar/list/list_zip.cpp\n+++ b/src/function/scalar/list/list_zip.cpp\n@@ -132,7 +132,9 @@ static unique_ptr<FunctionData> ListZipBind(ClientContext &context, ScalarFuncti\n \t\tthrow BinderException(\"Provide at least one argument to \" + bound_function.name);\n \t}\n \tif (arguments[size - 1]->return_type.id() == LogicalTypeId::BOOLEAN) {\n-\t\tsize--;\n+\t\tif (--size == 0) {\n+\t\t\tthrow BinderException(\"Provide at least one list argument to \" + bound_function.name);\n+\t\t}\n \t}\n \n \tcase_insensitive_set_t struct_names;\n",
  "test_patch": "diff --git a/test/sql/function/list/list_zip.test b/test/sql/function/list/list_zip.test\nindex 243b14b1df26..52f3810e0a38 100644\n--- a/test/sql/function/list/list_zip.test\n+++ b/test/sql/function/list/list_zip.test\n@@ -315,3 +315,12 @@ SELECT list_zip('')\n statement error\n SELECT list_zip(3, 4)\n ----\n+\n+statement error\n+SELECT list_zip(FALSE)\n+----\n+\n+statement error\n+SELECT list_zip(TRUE)\n+----\n+\n",
  "problem_statement": "INTERNAL Error: Attempted to access index 0 within vector of size 0\n### What happens?\n\nThe below test case caused an internal error.\n\n### To Reproduce\n\n```sql\r\nCREATE TABLE  t1(c1 INT );\r\n\r\nSELECT * FROM t1 ORDER BY LIST_ZIP(FALSE);\r\n\r\n-- INTERNAL Error:\r\n-- Attempted to access index 0 within vector of size 0\r\n```\n\n### OS:\n\nUbuntu 22.04\n\n### DuckDB Version:\n\nv1.1.4-dev2283 44c3e83b29\n\n### DuckDB Client:\n\nCLI\n\n### Hardware:\n\n_No response_\n\n### Full Name:\n\nSuyang Zhong\n\n### Affiliation:\n\nNUS\n\n### What is the latest build you tested with? If possible, we recommend testing with the latest nightly build.\n\nI have tested with a source build\n\n### Did you include all relevant data sets for reproducing the issue?\n\nYes\n\n### Did you include all code required to reproduce the issue?\n\n- [X] Yes, I have\n\n### Did you include all relevant configuration (e.g., CPU architecture, Python version, Linux distribution) to reproduce the issue?\n\n- [X] Yes, I have\n",
  "hints_text": "",
  "created_at": "2024-11-30T05:15:18Z",
  "modified_files": [
    "src/function/scalar/list/list_zip.cpp"
  ],
  "modified_test_files": [
    "test/sql/function/list/list_zip.test"
  ]
}