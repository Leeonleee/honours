You will be provided with a partial code base and an issue statement explaining a problem to resolve.

<issue>
Crash in transaction.cc - Check failed: !key_index.bonus
Steps to reproduction:
- Start the `traffic-replay` tool on the recorded traffic
- Wait 11.5 minutes

[traffic.tar.gz](https://github.com/user-attachments/files/20686075/traffic.tar.gz)

The crash log:
```
F20250611 10:09:57.899080  1992 transaction.cc:310] Check failed: !key_index.bonus 
*** Check failure stack trace: ***
    @     0x59fc446b24d3  google::LogMessage::Fail()
    @     0x59fc446b2419  google::LogMessage::SendToLog()
    @     0x59fc446b1bcc  google::LogMessage::Flush()
    @     0x59fc446b5cc4  google::LogMessageFatal::~LogMessageFatal()
    @     0x59fc442061f9  dfly::Transaction::StoreKeysInArgs()
    @     0x59fc442068a0  dfly::Transaction::InitByKeys()
    @     0x59fc4420792f  dfly::Transaction::InitByArgs()
    @     0x59fc43fd6ac3  dfly::MultiCommandSquasher::SquashedHopCb()
    @     0x59fc43fd6eb5  _ZZN4dfly20MultiCommandSquasher15ExecuteSquashedEPN6facade17RedisReplyBuilderEENKUlPT_PT0_E_clINS_11TransactionENS_11EngineShardEEEDaS5_S7_
    @     0x59fc43fda1dd  _ZSt13__invoke_implIN6facade8OpStatusERKZN4dfly20MultiCommandSquasher15ExecuteSquashedEPNS0_17RedisReplyBuilderEEUlPT_PT0_E_JPNS2_11TransactionEPNS2_11EngineShardEEES6_St14__invoke_otherOS8_DpOT1_
    @     0x59fc43fd9f58  _ZSt8__invokeIRKZN4dfly20MultiCommandSquasher15ExecuteSquashedEPN6facade17RedisReplyBuilderEEUlPT_PT0_E_JPNS0_11TransactionEPNS0_11EngineShardEEENSt15__invoke_resultIS5_JDpT0_EE4typeEOS5_DpOSH_
    @     0x59fc43fd9975  _ZSt6invokeIRKZN4dfly20MultiCommandSquasher15ExecuteSquashedEPN6facade17RedisReplyBuilderEEUlPT_PT0_E_JPNS0_11TransactionEPNS0_11EngineShardEEENSt13invoke_resultIS5_JDpT0_EE4typeEOS5_DpOSH_
    @     0x59fc43fd936d  _ZN4absl12lts_2024072219functional_internal12InvokeObjectIZN4dfly20MultiCommandSquasher15ExecuteSquashedEPN6facade17RedisReplyBuilderEEUlPT_PT0_E_NS3_11Transaction14RunnableResultEJPSD_PNS3_11EngineShardEEEESA_NS1_7VoidPtrEDpNS1_8ForwardTIT1_E4typeE
    @     0x59fc4421e49e  absl::lts_20240722::FunctionRef<>::operator()()
    @     0x59fc4420b00b  dfly::Transaction::RunCallback()
    @     0x59fc4420a486  dfly::Transaction::RunInShard()
    @     0x59fc43ad4c07  _ZZN4dfly11EngineShard13PollExecutionEPKcPNS_11TransactionEENKUlS4_bE_clES4_b
    @     0x59fc43ad59b2  dfly::EngineShard::PollExecution()
    @     0x59fc4420e037  dfly::Transaction::DispatchHop()
    @     0x59fc4420d3a3  dfly::Transaction::Execute()
    @     0x59fc4420d267  dfly::Transaction::ScheduleSingleHop()
    @     0x59fc43fd726a  dfly::MultiCommandSquasher::ExecuteSquashed()
    @     0x59fc43fd7cf8  dfly::MultiCommandSquasher::Run()
    @     0x59fc43cdd10e  dfly::MultiCommandSquasher::Execute()
    @     0x59fc43ca23b6  dfly::Service::Exec()
    @     0x59fc43ca5dac  _ZZN4dfly7Service8RegisterEPNS_15CommandRegistryEENKUlN4absl12lts_202407224SpanIKSt17basic_string_viewIcSt11char_traitsIcEEEERKNS_14CommandContextEE4_clESB_SE_
    @     0x59fc43cce561  _ZN3fu27abi_4006detail10invocation6invokeIRKZN4dfly7Service8RegisterEPNS4_15CommandRegistryEEUlN4absl12lts_202407224SpanIKSt17basic_string_viewIcSt11char_traitsIcEEEERKNS4_14CommandContextEE4_JSG_SJ_EEEDTclcl7forwardIT_Efp_Espcl7forwardIT0_Efp0_EEEOSN_DpOSO_
    @     0x59fc43cc958c  _ZN3fu27abi_4006detail12type_erasure16invocation_table14function_traitIKFvN4absl12lts_202407224SpanIKSt17basic_string_viewIcSt11char_traitsIcEEEERKN4dfly14CommandContextEEE16internal_invokerINS2_3boxILb1EZNSE_7Service8RegisterEPNSE_15CommandRegistryEEUlSD_SH_E4_SaISP_EEELb1EE6invokeEPKNS2_13data_accessorEmSD_SH_
    @     0x59fc441b6e67  _ZNK3fu27abi_4006detail12type_erasure6tables6vtableINS1_8propertyILb0ELb0EJKFvN4absl12lts_202407224SpanIKSt17basic_string_viewIcSt11char_traitsIcEEEERKN4dfly14CommandContextEEEEEE6invokeILm0EJPKNS2_13data_accessorERKmSE_SI_EEEDcDpOT0_
    @     0x59fc441b6f00  _ZN3fu27abi_4006detail12type_erasure7erasureILb1ENS1_6configILb1ELb1ENS_16capacity_defaultEEENS1_8propertyILb0ELb0EJKFvN4absl12lts_202407224SpanIKSt17basic_string_viewIcSt11char_traitsIcEEEERKN4dfly14CommandContextEEEEEE6invokeILm0ERKSN_JSG_SK_EEEDcOT0_DpOT1_
    @     0x59fc441b6f7e  fu2::abi_400::detail::type_erasure::invocation_table::operator_impl<>::operator()()
    @     0x59fc441b33c9  dfly::CommandId::Invoke()
*** SIGABRT received at time=1749625798 on cpu 6 ***
PC: @     0x7b2a16c7ab2c  (unknown)  pthread_kill
    @     0x59fc4473a60e         64  absl::lts_20240722::WriteFailureInfo()
    @     0x59fc4473a88a         96  absl::lts_20240722::AbslFailureSignalHandler()
    @     0x7b2a16c21330       1808  (unknown)
    @     0x7b2a16c2127e         32  raise
    @     0x7b2a16c048ff        192  abort
    @     0x59fc446bd2fe        176  google::DumpStackTraceAndExit()
    @     0x59fc446b24d3         16  google::LogMessage::Fail()
    @     0x59fc446b2419        160  google::LogMessage::SendToLog()
    @     0x59fc446b1bcc         80  google::LogMessage::Flush()
    @     0x59fc446b5cc4         32  google::LogMessageFatal::~LogMessageFatal()
    @     0x59fc442061f9        352  dfly::Transaction::StoreKeysInArgs()
    @     0x59fc442068a0        432  dfly::Transaction::InitByKeys()
    @     0x59fc4420792f        208  dfly::Transaction::InitByArgs()
    @     0x59fc43fd6ac3       1456  dfly::MultiCommandSquasher::SquashedHopCb()
    @     0x59fc43fd6eb5         64  dfly::MultiCommandSquasher::ExecuteSquashed()::{lambda()#1}::operator()<>()
    @     0x59fc43fda1dd         64  std::__invoke_impl<>()
    @     0x59fc43fd9f58         64  std::__invoke<>()
    @     0x59fc43fd9975         64  std::invoke<>()
    @     0x59fc43fd936d         96  absl::lts_20240722::functional_internal::InvokeObject<>()
    @     0x59fc4421e49e         64  absl::lts_20240722::FunctionRef<>::operator()()
    @     0x59fc4420b00b        240  dfly::Transaction::RunCallback()
    @     0x59fc4420a486        384  dfly::Transaction::RunInShard()
    @     0x59fc43ad4c07         64  dfly::EngineShard::PollExecution()::{lambda()#1}::operator()()
    @     0x59fc43ad59b2        416  dfly::EngineShard::PollExecution()
    @     0x59fc4420e037        448  dfly::Transaction::DispatchHop()
    @     0x59fc4420d3a3         64  dfly::Transaction::Execute()
    @     0x59fc4420d267         48  dfly::Transaction::ScheduleSingleHop()
    @     0x59fc43fd726a        416  dfly::MultiCommandSquasher::ExecuteSquashed()
    @     0x59fc43fd7cf8        288  dfly::MultiCommandSquasher::Run()
    @     0x59fc43cdd10e        240  dfly::MultiCommandSquasher::Execute()
    @     0x59fc43ca23b6        400  dfly::Service::Exec()
    @     0x59fc43ca5dac         64  dfly::Service::Register()::{lambda()#6}::operator()()
    @ ... and at least 33 more frames
[2]    1985 IOT instruction (core dumped)  ./dragonfly --dbfilename= --logtostderr 2>&1
```
</issue>

I need you to solve the provided issue by generating a code fix that can be applied directly to the repository

Respond below:
