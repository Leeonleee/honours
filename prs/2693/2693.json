{
  "repo": "duckdb/duckdb",
  "pull_number": 2693,
  "instance_id": "duckdb__duckdb-2693",
  "issue_numbers": [
    "2663",
    "2663"
  ],
  "base_commit": "b14008ca50b2665653842049d499fdef2b214226",
  "patch": "diff --git a/src/function/scalar/date/date_part.cpp b/src/function/scalar/date/date_part.cpp\nindex fe4f5c2a646d..5d8e3f4712fc 100644\n--- a/src/function/scalar/date/date_part.cpp\n+++ b/src/function/scalar/date/date_part.cpp\n@@ -635,7 +635,7 @@ int64_t DatePart::EpochOperator::Operation(interval_t input) {\n \n template <>\n int64_t DatePart::EpochOperator::Operation(dtime_t input) {\n-\treturn SecondsOperator::Operation<dtime_t, int64_t>(input);\n+\treturn input.micros / Interval::MICROS_PER_SEC;\n }\n \n template <>\n",
  "test_patch": "diff --git a/test/sql/function/time/epoch.test b/test/sql/function/time/epoch.test\nnew file mode 100644\nindex 000000000000..727b0def180a\n--- /dev/null\n+++ b/test/sql/function/time/epoch.test\n@@ -0,0 +1,21 @@\n+# name: test/sql/function/time/epoch.test\n+# description: Extract function\n+# group: [time]\n+\n+statement ok\n+PRAGMA enable_verification\n+\n+query I\n+select epoch(TIME '14:21:13')\n+----\n+51673\n+\n+query I\n+select extract(epoch from TIME '14:21:13')\n+----\n+51673\n+\n+query I\n+select extract(seconds from TIME '14:21:13')\n+----\n+13\ndiff --git a/test/sql/function/time/test_extract.test b/test/sql/function/time/test_extract.test\nindex aab2dd7100d6..4877f897744b 100644\n--- a/test/sql/function/time/test_extract.test\n+++ b/test/sql/function/time/test_extract.test\n@@ -60,10 +60,10 @@ NULL\n query I\n SELECT EXTRACT(epoch FROM i) FROM times\n ----\n-20\n-10\n-10\n-10\n+80\n+72490\n+72490\n+72490\n NULL\n \n # time gives errors for date-only parts\n",
  "problem_statement": "Epoch function does not return seconds since midnight, but merely seconds.\n#### What happens?\r\n\r\nIn the documentation on time functions it shows:\r\n\r\nselect epoch(TIME '14:21:13') returns 51673, but on my version its 13.\r\n\r\n#### To Reproduce\r\n\r\nselect epoch(TIME '14:21:13')\r\n\r\n#### Environment (please complete the following information):\r\n - OS: MacOSX\r\n - DuckDB Version: 0.3.1 88aa81c6b\r\n - DuckDB Client: CLI\r\n\r\n#### Before Submitting\r\n\r\n- [x] **Have you tried this on the latest `master` branch?**: Yes\r\n- [x] **Have you tried the steps to reproduce? Do they include all relevant data and configuration? Does the issue you report still appear there?**\r\n\nEpoch function does not return seconds since midnight, but merely seconds.\n#### What happens?\r\n\r\nIn the documentation on time functions it shows:\r\n\r\nselect epoch(TIME '14:21:13') returns 51673, but on my version its 13.\r\n\r\n#### To Reproduce\r\n\r\nselect epoch(TIME '14:21:13')\r\n\r\n#### Environment (please complete the following information):\r\n - OS: MacOSX\r\n - DuckDB Version: 0.3.1 88aa81c6b\r\n - DuckDB Client: CLI\r\n\r\n#### Before Submitting\r\n\r\n- [x] **Have you tried this on the latest `master` branch?**: Yes\r\n- [x] **Have you tried the steps to reproduce? Do they include all relevant data and configuration? Does the issue you report still appear there?**\r\n\n",
  "hints_text": "\n",
  "created_at": "2021-11-30T13:12:47Z"
}