diff --git a/test/sql/catalog/view/recursive_view.test b/test/sql/catalog/view/recursive_view.test
new file mode 100644
index 000000000000..a2f23da8a587
--- /dev/null
+++ b/test/sql/catalog/view/recursive_view.test
@@ -0,0 +1,35 @@
+# name: test/sql/catalog/view/recursive_view.test
+# description: Issue #3017: Querying View of a View Crashes
+# group: [view]
+
+statement ok
+PRAGMA enable_verification
+
+statement ok
+CREATE TABLE IF NOT EXISTS test (val INTEGER);
+
+statement ok
+INSERT INTO test(val) VALUES (1), (2), (3);
+
+# recursive view definition
+statement ok
+CREATE OR REPLACE VIEW foo AS (SELECT * FROM test);
+
+statement ok
+CREATE OR REPLACE VIEW foo AS (SELECT * FROM foo);
+
+statement error
+SELECT * FROM foo;
+
+# more complex recursive view definition
+statement ok
+CREATE OR REPLACE VIEW foo AS (SELECT * FROM test);
+
+statement ok
+CREATE OR REPLACE VIEW foo2 AS (SELECT * FROM foo);
+
+statement ok
+CREATE OR REPLACE VIEW foo AS (SELECT (SELECT * FROM foo2));
+
+statement error
+SELECT * FROM foo;
