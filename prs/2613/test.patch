diff --git a/test/sql/explain/test_explain_analyze.test b/test/sql/explain/test_explain_analyze.test
new file mode 100644
index 000000000000..e5be671b06e3
--- /dev/null
+++ b/test/sql/explain/test_explain_analyze.test
@@ -0,0 +1,66 @@
+# name: test/sql/explain/test_explain_analyze.test
+# description: Test explain analyze
+# group: [explain]
+
+statement ok
+PRAGMA enable_verification
+
+statement ok
+CREATE TABLE integers AS SELECT * FROM range(100) tbl(i);
+
+query II
+EXPLAIN ANALYZE SELECT SUM(i) FROM integers
+----
+analyzed_plan	<REGEX>:.*integers.*
+
+query II
+EXPLAIN ANALYZE SELECT SUM(i) FROM (SELECT * FROM integers i1, integers i2 UNION ALL SELECT * FROM integers i1, integers i2);
+----
+analyzed_plan	<REGEX>:.*CROSS_PRODUCT.*
+
+statement ok
+PRAGMA enable_profiling
+
+query II
+EXPLAIN ANALYZE SELECT SUM(i) FROM (SELECT * FROM integers i1, integers i2 UNION ALL SELECT * FROM integers i1, integers i2);
+----
+analyzed_plan	<REGEX>:.*CROSS_PRODUCT.*
+
+statement ok
+PRAGMA disable_profiling
+
+query II
+EXPLAIN ANALYZE SELECT SUM(i) FROM (SELECT * FROM integers i1, integers i2 UNION ALL SELECT * FROM integers i1, integers i2);
+----
+analyzed_plan	<REGEX>:.*CROSS_PRODUCT.*
+
+statement ok
+PRAGMA profiling_output='__TEST_DIR__/test.json'
+
+statement ok
+PRAGMA enable_profiling='json'
+
+statement ok
+SELECT 42
+
+statement ok
+PRAGMA disable_profiling
+
+query I nosort json_output
+SELECT * FROM read_csv('__TEST_DIR__/test.json', columns={'json': 'VARCHAR'}, sep='ðŸ¦†');
+----
+
+statement ok
+PRAGMA enable_profiling='json'
+
+query II
+EXPLAIN ANALYZE SELECT SUM(i) FROM integers
+----
+analyzed_plan	<REGEX>:.*integers.*
+
+statement ok
+PRAGMA disable_profiling
+
+query I nosort json_output
+SELECT * FROM read_csv('__TEST_DIR__/test.json', columns={'json': 'VARCHAR'}, sep='ðŸ¦†');
+----
diff --git a/test/sql/explain/test_explain_analyze_tpch.test_slow b/test/sql/explain/test_explain_analyze_tpch.test_slow
new file mode 100644
index 000000000000..76e39eed6632
--- /dev/null
+++ b/test/sql/explain/test_explain_analyze_tpch.test_slow
@@ -0,0 +1,43 @@
+# name: test/sql/explain/test_explain_analyze_tpch.test_slow
+# description: Test explain analyze TPC-H
+# group: [explain]
+
+require tpch
+
+statement ok
+CALL dbgen(sf=0.01);
+
+statement ok
+PRAGMA enable_profiling
+
+loop i 0 2
+
+query II
+EXPLAIN ANALYZE SELECT
+    l_returnflag,
+    l_linestatus,
+    sum(l_quantity) AS sum_qty,
+    sum(l_extendedprice) AS sum_base_price,
+    sum(l_extendedprice * (1 - l_discount)) AS sum_disc_price,
+    sum(l_extendedprice * (1 - l_discount) * (1 + l_tax)) AS sum_charge,
+    avg(l_quantity) AS avg_qty,
+    avg(l_extendedprice) AS avg_price,
+    avg(l_discount) AS avg_disc,
+    count(*) AS count_order
+FROM
+    lineitem
+WHERE
+    l_shipdate <= CAST('1998-09-02' AS date)
+GROUP BY
+    l_returnflag,
+    l_linestatus
+ORDER BY
+    l_returnflag,
+    l_linestatus;
+----
+analyzed_plan	<REGEX>:.*lineitem.*
+
+statement ok
+PRAGMA disable_profiling
+
+endloop
diff --git a/tools/shell/shell-test.py b/tools/shell/shell-test.py
index 37277577115a..ef54f06edf73 100644
--- a/tools/shell/shell-test.py
+++ b/tools/shell/shell-test.py
@@ -166,6 +166,11 @@ def tf():
 SELECT x::INT FROM (SELECT x::VARCHAR x FROM range(10) tbl(x) UNION ALL SELECT 'hello' x) tbl(x);
 ''', err='Could not convert string')
 
+# test explain
+test('explain select sum(i) from range(1000) tbl(i)', out='RANGE')
+test('explain analyze select sum(i) from range(1000) tbl(i)', out='RANGE')
+
+
 # this should be fixed
 test('.selftest', err='sqlite3_table_column_metadata')
 
